(()=>{var e,t,n,i={20(e,t,n){"use strict";var i=n(609),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,i)&&!o.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},493(e,t,n){"use strict";var i=n(609),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useState,l=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=s({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return a(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),l(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},591(e,t,n){"use strict";var i=n(609),r=n.t(i,2);const s=window.wp.element,l=window.wp.i18n,a=window.wp.apiFetch;var o=n.n(a);const c=window.wp.components,u=window.wp.compose,d=window.wp.primitives;var f=n(848);const m=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),v=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),p="is",g="isNot",h="isAny",_="isNone",x="isAll",w="isNotAll",b=[p,g,h,_,x,w],y={[p]:{key:"is-filter",label:(0,l.__)("Is")},[g]:{key:"is-not-filter",label:(0,l.__)("Is not")},[h]:{key:"is-any-filter",label:(0,l.__)("Is any")},[_]:{key:"is-none-filter",label:(0,l.__)("Is none")},[x]:{key:"is-all-filter",label:(0,l.__)("Is all")},[w]:{key:"is-not-all-filter",label:(0,l.__)("Is not all")}},C=["asc","desc"],S={asc:"↑",desc:"↓"},j={asc:"ascending",desc:"descending"},E={asc:(0,l.__)("Sort ascending"),desc:(0,l.__)("Sort descending")},I={asc:m,desc:v},k="table",V="grid",N=(0,s.createContext)({view:{type:k},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,containerWidth:0}),A=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});function P(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=P(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const M=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=P(e))&&(i&&(i+=" "),i+=t);return i},O=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function F(...e){}function T(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function L(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function B(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function D(e){return e}function R(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function H(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function z(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function $(...e){for(const t of e)if(void 0!==t)return t}function U(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var K,W="undefined"!=typeof window&&!!(null==(K=window.document)?void 0:K.createElement);function G(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function q(e,t=!1){const{activeElement:n}=G(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return q(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=G(n).getElementById(e);if(t)return t}}return n}function Y(e,t){return e===t||e.contains(t)}function Z(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==X.indexOf(e.type)}var X=["button","color","file","image","reset","submit"];function J(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function Q(e){return e.isContentEditable||J(e)}function ee(e){let t=0,n=0;if(J(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const i=G(e).getSelection();if((null==i?void 0:i.rangeCount)&&i.anchorNode&&Y(e,i.anchorNode)&&i.focusNode&&Y(e,i.focusNode)){const r=i.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(e),s.setEnd(r.startContainer,r.startOffset),t=s.toString().length,s.setEnd(r.endContainer,r.endOffset),n=s.toString().length}}return{start:t,end:n}}function te(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function ne(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return ne(e.parentElement)||document.scrollingElement||document.body}function ie(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function re(){return!!W&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function se(){return W&&re()&&/apple/i.test(navigator.vendor)}function le(e){return Boolean(e.currentTarget&&!Y(e.currentTarget,e.target))}function ae(e){return e.target===e.currentTarget}function oe(e,t){const n=new FocusEvent("blur",t),i=e.dispatchEvent(n),r={...t,bubbles:!0};return e.dispatchEvent(new FocusEvent("focusout",r)),i}function ce(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function ue(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Y(n,i)}function de(e,t,n,i){const r=(e=>{if(i){const t=setTimeout(e,i);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})(()=>{e.removeEventListener(t,s,!0),n()}),s=()=>{r(),n()};return e.addEventListener(t,s,{once:!0,capture:!0}),r}function fe(e,t,n,i=window){const r=[];try{i.document.addEventListener(e,t,n);for(const s of Array.from(i.frames))r.push(fe(e,t,n,s))}catch(e){}return()=>{try{i.document.removeEventListener(e,t,n)}catch(e){}for(const e of r)e()}}var me={...r},ve=me.useId,pe=(me.useDeferredValue,me.useInsertionEffect),ge=W?i.useLayoutEffect:i.useEffect;function he(e){const t=(0,i.useRef)(()=>{throw new Error("Cannot call an event handler while rendering.")});return pe?pe(()=>{t.current=e}):t.current=e,(0,i.useCallback)((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}function _e(...e){return(0,i.useMemo)(()=>{if(e.some(Boolean))return t=>{for(const n of e)U(n,t)}},e)}function xe(e){if(ve){const t=ve();return e||t}const[t,n]=(0,i.useState)(e);return ge(()=>{if(e||t)return;const i=Math.random().toString(36).slice(2,8);n(`id-${i}`)},[e,t]),e||t}function we(e,t){const n=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(n.current)return e();n.current=!0},t),(0,i.useEffect)(()=>()=>{n.current=!1},[])}function be(e){return he("function"==typeof e?e:()=>e)}function ye(e,t,n=[]){const r=(0,i.useCallback)(n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n)),[...n,e.wrapElement]);return{...e,wrapElement:r}}var Ce=!1,Se=!1,je=0,Ee=0;function Ie(e){(function(e){const t=e.movementX||e.screenX-je,n=e.movementY||e.screenY-Ee;return je=e.screenX,Ee=e.screenY,t||n||!1})(e)&&(Se=!0)}function ke(){Se=!1}function Ve(e){const t=i.forwardRef((t,n)=>e({...t,ref:n}));return t.displayName=e.displayName||e.name,t}function Ne(e,t){return i.memo(e,t)}function Ae(e,t){const{wrapElement:n,render:r,...s}=t,l=_e(t.ref,function(e){return function(e){return!!e&&!!(0,i.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?{...e.props}.ref||e.ref:null}(r));let a;if(i.isValidElement(r)){const e={...r.props,ref:l};a=i.cloneElement(r,function(e,t){const n={...e};for(const i in t){if(!T(t,i))continue;if("className"===i){const i="className";n[i]=e[i]?`${e[i]} ${t[i]}`:t[i];continue}if("style"===i){const i="style";n[i]=e[i]?{...e[i],...t[i]}:t[i];continue}const r=t[i];if("function"==typeof r&&i.startsWith("on")){const t=e[i];if("function"==typeof t){n[i]=(...e)=>{r(...e),t(...e)};continue}}n[i]=r}return n}(s,e))}else a=r?r(s):(0,f.jsx)(e,{...s});return n?n(a):a}function Pe(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function Me(e=[],t=[]){const n=i.createContext(void 0),r=i.createContext(void 0),s=()=>i.useContext(n),l=t=>e.reduceRight((e,n)=>(0,f.jsx)(n,{...t,children:e}),(0,f.jsx)(n.Provider,{...t}));return{context:n,scopedContext:r,useContext:s,useScopedContext:(e=!1)=>{const t=i.useContext(r),n=s();return e?t:t||n},useProviderContext:()=>{const e=i.useContext(r),t=s();if(!e||e!==t)return t},ContextProvider:l,ScopedContextProvider:e=>(0,f.jsx)(l,{...e,children:t.reduceRight((t,n)=>(0,f.jsx)(n,{...e,children:t}),(0,f.jsx)(r.Provider,{...e}))})}}var Oe=Me(),Fe=Oe.useContext,Te=(Oe.useScopedContext,Oe.useProviderContext,Me([Oe.ContextProvider],[Oe.ScopedContextProvider])),Le=Te.useContext,Be=(Te.useScopedContext,Te.useProviderContext),De=Te.ContextProvider,Re=Te.ScopedContextProvider,He=(0,i.createContext)(void 0),ze=(0,i.createContext)(void 0),$e=((0,i.createContext)(null),(0,i.createContext)(null),Me([De],[Re])),Ue=$e.useContext;function Ke(e,t){const n=e.__unstableInternals;return R(n,"Invalid store"),n[t]}function We(e,...t){let n=e,i=n,r=Symbol(),s=F;const l=new Set,a=new Set,o=new Set,c=new Set,u=new Set,d=new WeakMap,f=new WeakMap,m=(e,t,n=c)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),v=(e,s,l=!1)=>{var o;if(!T(n,e))return;const m=(v=s,p=n[e],function(e){return"function"==typeof e}(v)?v(function(e){return"function"==typeof e}(p)?p():p):v);var v,p;if(m===n[e])return;if(!l)for(const n of t)null==(o=null==n?void 0:n.setState)||o.call(n,e,m);const g=n;n={...n,[e]:m};const h=Symbol();r=h,a.add(e);const _=(t,i,r)=>{var s;const l=f.get(t);l&&!l.some(t=>r?r.has(t):t===e)||(null==(s=d.get(t))||s(),d.set(t,t(n,i)))};for(const e of c)_(e,g);queueMicrotask(()=>{if(r!==h)return;const e=n;for(const e of u)_(e,i,a);i=e,a.clear()})},p={getState:()=>n,setState:v,__unstableInternals:{setup:e=>(o.add(e),()=>o.delete(e)),init:()=>{const e=l.size,i=Symbol();l.add(i);const r=()=>{l.delete(i),l.size||s()};if(e)return r;const a=(c=n,Object.keys(c)).map(e=>L(...t.map(t=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(i&&T(i,e))return Ze(t,[e],t=>{v(e,t[e],!0)})})));var c;const u=[];for(const e of o)u.push(e());const d=t.map(qe);return s=L(...a,...u,...d),r},subscribe:(e,t)=>m(e,t),sync:(e,t)=>(d.set(t,t(n,n)),m(e,t)),batch:(e,t)=>(d.set(t,t(n,i)),m(e,t,u)),pick:e=>We(function(e,t){const n={};for(const i of t)T(e,i)&&(n[i]=e[i]);return n}(n,e),p),omit:e=>We(function(e,t){const n={...e};for(const e of t)T(n,e)&&delete n[e];return n}(n,e),p)}};return p}function Ge(e,...t){if(e)return Ke(e,"setup")(...t)}function qe(e,...t){if(e)return Ke(e,"init")(...t)}function Ye(e,...t){if(e)return Ke(e,"subscribe")(...t)}function Ze(e,...t){if(e)return Ke(e,"sync")(...t)}function Xe(e,...t){if(e)return Ke(e,"batch")(...t)}function Je(e,...t){if(e)return Ke(e,"omit")(...t)}function Qe(...e){var t;const n={};for(const i of e){const e=null==(t=null==i?void 0:i.getState)?void 0:t.call(i);e&&Object.assign(n,e)}const i=We(n,...e);return Object.assign({},...e,i)}$e.useScopedContext,$e.useProviderContext,$e.ContextProvider,$e.ScopedContextProvider;var et=n(888),{useSyncExternalStore:tt}=et;function nt(e,t=D){const n=i.useCallback(t=>e?Ye(e,null,t):()=>{},[e]),r=()=>{const n="string"==typeof t?t:null,i="function"==typeof t?t:null,r=null==e?void 0:e.getState();return i?i(r):r&&n&&T(r,n)?r[n]:void 0};return tt(n,r,r)}function it(e,t){const n=i.useRef({}),r=i.useCallback(t=>e?Ye(e,null,t):()=>{},[e]),s=()=>{const i=null==e?void 0:e.getState();let r=!1;const s=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(i);t!==s[e]&&(s[e]=t,r=!0)}if("string"==typeof n){if(!i)continue;if(!T(i,n))continue;const t=i[n];t!==s[e]&&(s[e]=t,r=!0)}}return r&&(n.current={...s}),n.current};return tt(r,s,s)}function rt(e,t,n,r){const s=T(t,n)?t[n]:void 0,l=r?t[r]:void 0,a=function(e){const t=(0,i.useRef)(e);return ge(()=>{t.current=e}),t}({value:s,setValue:l});ge(()=>Ze(e,[n],(e,t)=>{const{value:i,setValue:r}=a.current;r&&e[n]!==t[n]&&e[n]!==i&&r(e[n])}),[e,n]),ge(()=>{if(void 0!==s)return e.setState(n,s),Xe(e,[n],()=>{void 0!==s&&e.setState(n,s)})})}function st(e,t,n){return function(e,t,n){return we(t,[n.store,n.disclosure]),rt(e,n,"open","setOpen"),rt(e,n,"mounted","setMounted"),rt(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function lt(e,t,n){return rt(e=function(e,t,n){return we(t,[n.store]),rt(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),rt(e,n,"includesBaseElement"),rt(e,n,"virtualFocus"),rt(e,n,"orientation"),rt(e,n,"rtl"),rt(e,n,"focusLoop"),rt(e,n,"focusWrap"),rt(e,n,"focusShift"),e}function at(e){const t=[];for(const n of e)t.push(...n);return t}function ot(e){return e.slice().reverse()}function ct(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),i=$(e.items,null==n?void 0:n.items,e.defaultItems,[]),r=new Map(i.map(e=>[e.id,e])),s={items:i,renderedItems:$(null==n?void 0:n.renderedItems,[])},l=null==(a=e.store)?void 0:a.__unstablePrivateStore;var a;const o=We({items:i,renderedItems:s.renderedItems},l),c=We(s,e.store),u=e=>{const t=function(e,t){const n=e.map((e,t)=>[t,e]);let i=!1;return n.sort(([e,n],[r,s])=>{const l=t(n),a=t(s);return l===a?0:l&&a?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(l,a)?(e>r&&(i=!0),-1):(e<r&&(i=!0),1):0}),i?n.map(([e,t])=>t):e}(e,e=>e.element);o.setState("renderedItems",t),c.setState("renderedItems",t)};Ge(c,()=>qe(o)),Ge(o,()=>Xe(o,["items"],e=>{c.setState("items",e.items)})),Ge(o,()=>Xe(o,["renderedItems"],e=>{let t=!0,n=requestAnimationFrame(()=>{const{renderedItems:t}=c.getState();e.renderedItems!==t&&u(e.renderedItems)});if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const i=function(e){var t;const n=e.find(e=>!!e.element),i=[...e].reverse().find(e=>!!e.element);let r=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;r&&(null==i?void 0:i.element);){if(i&&r.contains(i.element))return r;r=r.parentElement}return G(r).body}(e.renderedItems),r=new IntersectionObserver(()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame(()=>u(e.renderedItems)))},{root:i});for(const t of e.renderedItems)t.element&&r.observe(t.element);return()=>{cancelAnimationFrame(n),r.disconnect()}}));const d=(e,t,n=!1)=>{let i;return t(t=>{const n=t.findIndex(({id:t})=>t===e.id),s=t.slice();if(-1!==n){i=t[n];const l={...i,...e};s[n]=l,r.set(e.id,l)}else s.push(e),r.set(e.id,e);return s}),()=>{t(t=>{if(!i)return n&&r.delete(e.id),t.filter(({id:t})=>t!==e.id);const s=t.findIndex(({id:t})=>t===e.id);if(-1===s)return t;const l=t.slice();return l[s]=i,r.set(e.id,i),l})}},f=e=>d(e,e=>o.setState("items",e),!0);return{...c,registerItem:f,renderItem:e=>L(f(e),d(e,e=>o.setState("renderedItems",e))),item:e=>{if(!e)return null;let t=r.get(e);if(!t){const{items:n}=o.getState();t=n.find(t=>t.id===e),t&&r.set(e,t)}return t||null},__unstablePrivateStore:o}}var ut={id:null};function dt(e,t){return e.find(e=>t?!e.disabled&&e.id!==t:!e.disabled)}function ft(e,t){return e.filter(e=>e.rowId===t)}function mt(e){const t=[];for(const n of e){const e=t.find(e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId});e?e.push(n):t.push([n])}return t}function vt(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function pt(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}var gt=se()&&W&&!!navigator.maxTouchPoints;function ht({tag:e,...t}={}){const n=Qe(t.store,function(e,...t){if(e)return Ke(e,"pick")(...t)}(e,["value","rtl"])),i=null==e?void 0:e.getState(),r=null==n?void 0:n.getState(),s=$(t.activeId,null==r?void 0:r.activeId,t.defaultActiveId,null),l=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),i=ct(e),r=$(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),s=We({...i.getState(),id:$(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:r,baseElement:$(null==n?void 0:n.baseElement,null),includesBaseElement:$(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===r),moves:$(null==n?void 0:n.moves,0),orientation:$(e.orientation,null==n?void 0:n.orientation,"both"),rtl:$(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:$(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:$(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:$(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:$(e.focusShift,null==n?void 0:n.focusShift,!1)},i,e.store);Ge(s,()=>Ze(s,["renderedItems","activeId"],e=>{s.setState("activeId",t=>{var n;return void 0!==t?t:null==(n=dt(e.renderedItems))?void 0:n.id})}));const l=(e="next",t={})=>{var n,i;const r=s.getState(),{skip:l=0,activeId:a=r.activeId,focusShift:o=r.focusShift,focusLoop:c=r.focusLoop,focusWrap:u=r.focusWrap,includesBaseElement:d=r.includesBaseElement,renderedItems:f=r.renderedItems,rtl:m=r.rtl}=t,v="up"===e||"down"===e,p="next"===e||"down"===e,g=p?m&&!v:!m||v,h=o&&!l;let _=v?at(function(e,t,n){const i=vt(e);for(const r of e)for(let e=0;e<i;e+=1){const i=r[e];if(!i||n&&i.disabled){const i=0===e&&n?dt(r):r[e-1];r[e]=i&&t!==i.id&&n?i:pt(null==i?void 0:i.rowId)}}return e}(mt(f),a,h)):f;if(_=g?ot(_):_,_=v?function(e){const t=mt(e),n=vt(t),i=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&i.push({...t,rowId:t.rowId?`${e}`:void 0})}return i}(_):_,null==a)return null==(n=dt(_))?void 0:n.id;const x=_.find(e=>e.id===a);if(!x)return null==(i=dt(_))?void 0:i.id;const w=_.some(e=>e.rowId),b=_.indexOf(x),y=_.slice(b+1),C=ft(y,x.rowId);if(l){const e=function(e,t){return e.filter(e=>t?!e.disabled&&e.id!==t:!e.disabled)}(C,a),t=e.slice(l)[0]||e[e.length-1];return null==t?void 0:t.id}const S=c&&(v?"horizontal"!==c:"vertical"!==c),j=w&&u&&(v?"horizontal"!==u:"vertical"!==u),E=p?(!w||v)&&S&&d:!!v&&d;if(S){const e=function(e,t,n=!1){const i=e.findIndex(e=>e.id===t);return[...e.slice(i+1),...n?[ut]:[],...e.slice(0,i)]}(j&&!E?_:ft(_,x.rowId),a,E),t=dt(e,a);return null==t?void 0:t.id}if(j){const e=dt(E?C:y,a);return E?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const I=dt(C,a);return!I&&E?null:null==I?void 0:I.id};return{...i,...s,setBaseElement:e=>s.setState("baseElement",e),setActiveId:e=>s.setState("activeId",e),move:e=>{void 0!==e&&(s.setState("activeId",e),s.setState("moves",e=>e+1))},first:()=>{var e;return null==(e=dt(s.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=dt(ot(s.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("up",e))}}({...t,activeId:s,includesBaseElement:$(t.includesBaseElement,null==r?void 0:r.includesBaseElement,!0),orientation:$(t.orientation,null==r?void 0:r.orientation,"vertical"),focusLoop:$(t.focusLoop,null==r?void 0:r.focusLoop,!0),focusWrap:$(t.focusWrap,null==r?void 0:r.focusWrap,!0),virtualFocus:$(t.virtualFocus,null==r?void 0:r.virtualFocus,!0)}),a=function({popover:e,...t}={}){const n=Qe(t.store,Je(e,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),i=null==n?void 0:n.getState(),r=function(e={}){return function(e={}){const t=Qe(e.store,Je(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),i=$(e.open,null==n?void 0:n.open,e.defaultOpen,!1),r=$(e.animated,null==n?void 0:n.animated,!1),s=We({open:i,animated:r,animating:!!r&&i,mounted:i,contentElement:$(null==n?void 0:n.contentElement,null),disclosureElement:$(null==n?void 0:n.disclosureElement,null)},t);return Ge(s,()=>Ze(s,["animated","animating"],e=>{e.animated||s.setState("animating",!1)})),Ge(s,()=>Ye(s,["open"],()=>{s.getState().animated&&s.setState("animating",!0)})),Ge(s,()=>Ze(s,["open","animating"],e=>{s.setState("mounted",e.open||e.animating)})),{...s,disclosure:e.disclosure,setOpen:e=>s.setState("open",e),show:()=>s.setState("open",!0),hide:()=>s.setState("open",!1),toggle:()=>s.setState("open",e=>!e),stopAnimation:()=>s.setState("animating",!1),setContentElement:e=>s.setState("contentElement",e),setDisclosureElement:e=>s.setState("disclosureElement",e)}}(e)}({...t,store:n}),s=$(t.placement,null==i?void 0:i.placement,"bottom"),l=We({...r.getState(),placement:s,currentPlacement:s,anchorElement:$(null==i?void 0:i.anchorElement,null),popoverElement:$(null==i?void 0:i.popoverElement,null),arrowElement:$(null==i?void 0:i.arrowElement,null),rendered:Symbol("rendered")},r,n);return{...r,...l,setAnchorElement:e=>l.setState("anchorElement",e),setPopoverElement:e=>l.setState("popoverElement",e),setArrowElement:e=>l.setState("arrowElement",e),render:()=>l.setState("rendered",Symbol("rendered"))}}({...t,placement:$(t.placement,null==r?void 0:r.placement,"bottom-start")}),o=$(t.value,null==r?void 0:r.value,t.defaultValue,""),c=$(t.selectedValue,null==r?void 0:r.selectedValue,null==i?void 0:i.values,t.defaultSelectedValue,""),u=Array.isArray(c),d={...l.getState(),...a.getState(),value:o,selectedValue:c,resetValueOnSelect:$(t.resetValueOnSelect,null==r?void 0:r.resetValueOnSelect,u),resetValueOnHide:$(t.resetValueOnHide,null==r?void 0:r.resetValueOnHide,u&&!e),activeValue:null==r?void 0:r.activeValue},f=We(d,l,a,n);return gt&&Ge(f,()=>Ze(f,["virtualFocus"],()=>{f.setState("virtualFocus",!1)})),Ge(f,()=>{if(e)return L(Ze(f,["selectedValue"],t=>{Array.isArray(t.selectedValue)&&e.setValues(t.selectedValue)}),Ze(e,["values"],e=>{f.setState("selectedValue",e.values)}))}),Ge(f,()=>Ze(f,["resetValueOnHide","mounted"],e=>{e.resetValueOnHide&&(e.mounted||f.setState("value",o))})),Ge(f,()=>Ze(f,["open"],e=>{e.open||(f.setState("activeId",s),f.setState("moves",0))})),Ge(f,()=>Ze(f,["moves","activeId"],(e,t)=>{e.moves===t.moves&&f.setState("activeValue",void 0)})),Ge(f,()=>Xe(f,["moves","renderedItems"],(e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=f.getState(),i=l.item(n);f.setState("activeValue",null==i?void 0:i.value)})),{...a,...l,...f,tag:e,setValue:e=>f.setState("value",e),resetValue:()=>f.setState("value",d.value),setSelectedValue:e=>f.setState("selectedValue",e)}}function _t(e={}){e=function(e){const t=Ue();return function(e){return{id:xe(e.id),...e}}(e={...e,tag:void 0!==e.tag?e.tag:t})}(e);const[t,n]=function(e,t){const[n,r]=i.useState(()=>e(t));ge(()=>qe(n),[n]);const s=i.useCallback(e=>nt(n,e),[n]);return[i.useMemo(()=>({...n,useState:s}),[n,s]),he(()=>{r(n=>e({...t,...n.getState()}))})]}(ht,e);return function(e,t,n){return we(t,[n.tag]),rt(e,n,"value","setValue"),rt(e,n,"selectedValue","setSelectedValue"),rt(e,n,"resetValueOnHide"),rt(e,n,"resetValueOnSelect"),Object.assign(lt(function(e,t,n){return we(t,[n.popover]),rt(e,n,"placement"),st(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var xt=Me(),wt=(xt.useContext,xt.useScopedContext,xt.useProviderContext),bt=Me([xt.ContextProvider],[xt.ScopedContextProvider]),yt=(bt.useContext,bt.useScopedContext,bt.useProviderContext,bt.ContextProvider),Ct=bt.ScopedContextProvider,St=((0,i.createContext)(void 0),(0,i.createContext)(void 0),Me([yt],[Ct])),jt=(St.useContext,St.useScopedContext,St.useProviderContext),Et=St.ContextProvider,It=St.ScopedContextProvider,kt=(0,i.createContext)(void 0),Vt=Me([Et,De],[It,Re]),Nt=Vt.useContext,At=Vt.useScopedContext,Pt=Vt.useProviderContext,Mt=Vt.ContextProvider,Ot=Vt.ScopedContextProvider,Ft=(0,i.createContext)(void 0),Tt=(0,i.createContext)(!1);function Lt(e={}){const t=_t(e);return(0,f.jsx)(Mt,{value:t,children:e.children})}var Bt=Pe(function({store:e,...t}){const n=Pt();R(e=e||n,!1);const i=e.useState(e=>{var t;return null==(t=e.baseElement)?void 0:t.id});return z(t={htmlFor:i,...t})}),Dt=Ne(Ve(function(e){return Ae("label",Bt(e))}));function Rt(e,t){return t&&e.item(t)||null}var Ht=Symbol("FOCUS_SILENTLY");function zt(e,t,n){if(!t)return!1;if(t===n)return!1;const i=e.item(t.id);return!(!i||n&&i.element===n)}var $t=(0,i.createContext)(!0),Ut="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Kt(e){return!!e.matches(Ut)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function Wt(e){const t=q(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Gt(e){const t=q(e);if(!t)return!1;if(Y(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var qt=se(),Yt=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Zt=Symbol("safariFocusAncestor");function Xt(e,t){e&&(e[Zt]=t)}function Jt(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function Qt(e,t,n,i,r){return e?t?n&&!i?-1:void 0:n?r:r||0:r}function en(e,t){return he(n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())})}var tn=!1,nn=!0;function rn(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(nn=!1))}function sn(e){e.metaKey||e.ctrlKey||e.altKey||(nn=!0)}var ln=Pe(function({focusable:e=!0,accessibleWhenDisabled:t,autoFocus:n,onFocusVisible:r,...s}){const l=(0,i.useRef)(null);(0,i.useEffect)(()=>{e&&(tn||(fe("mousedown",rn,!0),fe("keydown",sn,!0),tn=!0))},[e]),qt&&(0,i.useEffect)(()=>{if(!e)return;const t=l.current;if(!t)return;if(!Jt(t))return;const n=function(e){return"labels"in e?e.labels:null}(t);if(!n)return;const i=()=>queueMicrotask(()=>t.focus());for(const e of n)e.addEventListener("mouseup",i);return()=>{for(const e of n)e.removeEventListener("mouseup",i)}},[e]);const a=e&&H(s),o=!!a&&!t,[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e&&o&&c&&u(!1)},[e,o,c]),(0,i.useEffect)(()=>{if(!e)return;if(!c)return;const t=l.current;if(!t)return;if("undefined"==typeof IntersectionObserver)return;const n=new IntersectionObserver(()=>{Kt(t)||u(!1)});return n.observe(t),()=>n.disconnect()},[e,c]);const d=en(s.onKeyPressCapture,a),f=en(s.onMouseDownCapture,a),m=en(s.onClickCapture,a),v=s.onMouseDown,p=he(t=>{if(null==v||v(t),t.defaultPrevented)return;if(!e)return;const n=t.currentTarget;if(!qt)return;if(le(t))return;if(!Z(n)&&!Jt(n))return;let i=!1;const r=()=>{i=!0};n.addEventListener("focusin",r,{capture:!0,once:!0});const s=function(e){for(;e&&!Kt(e);)e=e.closest(Ut);return e||null}(n.parentElement);Xt(s,!0),de(n,"mouseup",()=>{n.removeEventListener("focusin",r,!0),Xt(s,!1),i||function(e){!Gt(e)&&Kt(e)&&e.focus()}(n)})}),g=(t,n)=>{if(n&&(t.currentTarget=n),!e)return;const i=t.currentTarget;i&&Wt(i)&&(null==r||r(t),t.defaultPrevented||(i.dataset.focusVisible="true",u(!0)))},h=s.onKeyDownCapture,_=he(t=>{if(null==h||h(t),t.defaultPrevented)return;if(!e)return;if(c)return;if(t.metaKey)return;if(t.altKey)return;if(t.ctrlKey)return;if(!ae(t))return;const n=t.currentTarget;de(n,"focusout",()=>g(t,n))}),x=s.onFocusCapture,w=he(t=>{if(null==x||x(t),t.defaultPrevented)return;if(!e)return;if(!ae(t))return void u(!1);const n=t.currentTarget;nn||function(e){const{tagName:t,readOnly:n,type:i}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):Yt.includes(i))}(t.target)?de(t.target,"focusout",()=>g(t,n)):u(!1)}),b=s.onBlur,y=he(t=>{null==b||b(t),e&&ue(t)&&(t.currentTarget.removeAttribute("data-focus-visible"),u(!1))}),C=(0,i.useContext)($t),S=he(t=>{e&&n&&t&&C&&queueMicrotask(()=>{Wt(t)||Kt(t)&&t.focus()})}),j=function(e,t){const n=e=>{if("string"==typeof e)return e},[r,s]=(0,i.useState)(()=>n(t));return ge(()=>{const i=e&&"current"in e?e.current:e;s((null==i?void 0:i.tagName.toLowerCase())||n(t))},[e,t]),r}(l),E=e&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(j),I=e&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(j),k=s.style,V=(0,i.useMemo)(()=>o?{pointerEvents:"none",...k}:k,[o,k]);return z(s={"data-focus-visible":e&&c||void 0,"data-autofocus":n||void 0,"aria-disabled":a||void 0,...s,ref:_e(l,S,s.ref),style:V,tabIndex:Qt(e,o,E,I,s.tabIndex),disabled:!(!I||!o)||void 0,contentEditable:a?void 0:s.contentEditable,onKeyPressCapture:d,onClickCapture:m,onMouseDownCapture:f,onMouseDown:p,onKeyDownCapture:_,onFocusCapture:w,onBlur:y})});function an(e,t,n){return he(i=>{var r;if(null==t||t(i),i.defaultPrevented)return;if(i.isPropagationStopped())return;if(!ae(i))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(i))return;if(function(e){const t=e.target;return!(t&&!J(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(i))return;const s=e.getState(),l=null==(r=Rt(e,s.activeId))?void 0:r.element;if(!l)return;const{view:a,...o}=i;l!==(null==n?void 0:n.current)&&l.focus(),function(e,t,n){const i=new KeyboardEvent(t,n);return e.dispatchEvent(i)}(l,i.type,o)||i.preventDefault(),i.currentTarget.contains(l)&&i.stopPropagation()})}Ve(function(e){return Ae("div",ln(e))});var on=Pe(function({store:e,composite:t=!0,focusOnMove:n=t,moveOnKeyPress:r=!0,...s}){const l=Be();R(e=e||l,!1);const a=(0,i.useRef)(null),o=(0,i.useRef)(null),c=function(e){const[t,n]=(0,i.useState)(!1),r=(0,i.useCallback)(()=>n(!0),[]),s=e.useState(t=>Rt(e,t.activeId));return(0,i.useEffect)(()=>{const e=null==s?void 0:s.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))},[s,t]),r}(e),u=e.useState("moves"),[,d]=function(e){const[t,n]=(0,i.useState)(null);return ge(()=>{if(null==t)return;if(!e)return;let n=null;return e(e=>(n=e,t)),()=>{e(n)}},[t,e]),[t,n]}(t?e.setBaseElement:null);(0,i.useEffect)(()=>{var i;if(!e)return;if(!u)return;if(!t)return;if(!n)return;const{activeId:r}=e.getState(),s=null==(i=Rt(e,r))?void 0:i.element;var l;s&&("scrollIntoView"in(l=s)?(l.focus({preventScroll:!0}),l.scrollIntoView({block:"nearest",inline:"nearest"})):l.focus())},[e,u,t,n]),ge(()=>{if(!e)return;if(!u)return;if(!t)return;const{baseElement:n,activeId:i}=e.getState();if(null!==i)return;if(!n)return;const r=o.current;o.current=null,r&&oe(r,{relatedTarget:n}),Wt(n)||n.focus()},[e,u,t]);const m=e.useState("activeId"),v=e.useState("virtualFocus");ge(()=>{var n;if(!e)return;if(!t)return;if(!v)return;const i=o.current;if(o.current=null,!i)return;const r=(null==(n=Rt(e,m))?void 0:n.element)||q(i);r!==i&&oe(i,{relatedTarget:r})},[e,m,v,t]);const p=an(e,s.onKeyDownCapture,o),g=an(e,s.onKeyUpCapture,o),h=s.onFocusCapture,_=he(t=>{if(null==h||h(t),t.defaultPrevented)return;if(!e)return;const{virtualFocus:n}=e.getState();if(!n)return;const i=t.relatedTarget,r=function(e){const t=e[Ht];return delete e[Ht],t}(t.currentTarget);ae(t)&&r&&(t.stopPropagation(),o.current=i)}),x=s.onFocus,w=he(n=>{if(null==x||x(n),n.defaultPrevented)return;if(!t)return;if(!e)return;const{relatedTarget:i}=n,{virtualFocus:r}=e.getState();r?ae(n)&&!zt(e,i)&&queueMicrotask(c):ae(n)&&e.setActiveId(null)}),b=s.onBlurCapture,y=he(t=>{var n;if(null==b||b(t),t.defaultPrevented)return;if(!e)return;const{virtualFocus:i,activeId:r}=e.getState();if(!i)return;const s=null==(n=Rt(e,r))?void 0:n.element,l=t.relatedTarget,a=zt(e,l),c=o.current;o.current=null,ae(t)&&a?(l===s?c&&c!==l&&oe(c,t):s?oe(s,t):c&&oe(c,t),t.stopPropagation()):!zt(e,t.target)&&s&&oe(s,t)}),C=s.onKeyDown,S=be(r),j=he(t=>{var n;if(null==C||C(t),t.nativeEvent.isComposing)return;if(t.defaultPrevented)return;if(!e)return;if(!ae(t))return;const{orientation:i,renderedItems:r,activeId:s}=e.getState(),l=Rt(e,s);if(null==(n=null==l?void 0:l.element)?void 0:n.isConnected)return;const a="horizontal"!==i,o="vertical"!==i,c=r.some(e=>!!e.rowId);if(("ArrowLeft"===t.key||"ArrowRight"===t.key||"Home"===t.key||"End"===t.key)&&J(t.currentTarget))return;const u={ArrowUp:(c||a)&&(()=>{if(c){const e=function(e){return e.find(e=>!e.disabled)}(at(ot(function(e){const t=[];for(const n of e){const e=t.find(e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId});e?e.push(n):t.push([n])}return t}(r))));return null==e?void 0:e.id}return null==e?void 0:e.last()}),ArrowRight:(c||o)&&e.first,ArrowDown:(c||a)&&e.first,ArrowLeft:(c||o)&&e.last,Home:e.first,End:e.last,PageUp:e.first,PageDown:e.last},d=u[t.key];if(d){const n=d();if(void 0!==n){if(!S(t))return;t.preventDefault(),e.move(n)}}});s=ye(s,t=>(0,f.jsx)(De,{value:e,children:t}),[e]);const E=e.useState(n=>{var i;if(e&&t&&n.virtualFocus)return null==(i=Rt(e,n.activeId))?void 0:i.id});s={"aria-activedescendant":E,...s,ref:_e(a,d,s.ref),onKeyDownCapture:p,onKeyUpCapture:g,onFocusCapture:_,onFocus:w,onBlurCapture:y,onKeyDown:j};const I=e.useState(e=>t&&(e.virtualFocus||null===e.activeId));return ln({focusable:I,...s})}),cn=(Ve(function(e){return Ae("div",on(e))}),Pe(function({store:e,...t}){const n=jt();return e=e||n,{...t,ref:_e(null==e?void 0:e.setAnchorElement,t.ref)}}));function un(e,t,n){if(!n)return!1;const i=e.find(e=>!e.disabled&&e.value);return(null==i?void 0:i.value)===t}function dn(e,t){return!!t&&null!=e&&(e=B(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}Ve(function(e){return Ae("div",cn(e))});var fn=Pe(function({store:e,focusable:t=!0,autoSelect:n=!1,getAutoSelectId:r,setValueOnChange:s,showMinLength:l=0,showOnChange:a,showOnMouseDown:o,showOnClick:c=o,showOnKeyDown:u,showOnKeyPress:d=u,blurActiveItemOnClick:f,setValueOnClick:m=!0,moveOnKeyPress:v=!0,autoComplete:p="list",...g}){const h=Pt();R(e=e||h,!1);const _=(0,i.useRef)(null),[x,w]=(0,i.useReducer)(()=>[],[]),b=(0,i.useRef)(!1),y=(0,i.useRef)(!1),C=e.useState(e=>e.virtualFocus&&n),S="inline"===p||"both"===p,[j,E]=(0,i.useState)(S);!function(e,t){const n=(0,i.useRef)(!1);ge(()=>{n.current?S&&E(!0):n.current=!0},t),ge(()=>()=>{n.current=!1},[])}(0,[S]);const I=e.useState("value"),k=(0,i.useRef)();(0,i.useEffect)(()=>Ze(e,["selectedValue","activeId"],(e,t)=>{k.current=t.selectedValue}),[]);const V=e.useState(e=>{var t;if(S&&j){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=k.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}}),N=e.useState("renderedItems"),A=e.useState("open"),P=e.useState("contentElement"),M=(0,i.useMemo)(()=>{if(!S)return I;if(!j)return I;if(un(N,V,C)){if(dn(I,V)){const e=(null==V?void 0:V.slice(I.length))||"";return I+e}return I}return V||I},[S,j,N,V,C,I]);(0,i.useEffect)(()=>{const e=_.current;if(!e)return;const t=()=>E(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}},[]),(0,i.useEffect)(()=>{if(!S)return;if(!j)return;if(!V)return;if(!un(N,V,C))return;if(!dn(I,V))return;let e=F;return queueMicrotask(()=>{const t=_.current;if(!t)return;const{start:n,end:i}=ee(t),r=I.length,s=V.length;ie(t,r,s),e=()=>{if(!Wt(t))return;const{start:e,end:l}=ee(t);e===r&&l===s&&ie(t,n,i)}}),()=>e()},[x,S,j,V,N,C,I]);const O=(0,i.useRef)(null),T=he(r),L=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(!A)return;if(!P)return;const t=ne(P);if(!t)return;O.current=t;const n=()=>{b.current=!1},i=()=>{if(!e)return;if(!b.current)return;const{activeId:t}=e.getState();null!==t&&t!==L.current&&(b.current=!1)},r={passive:!0,capture:!0};return t.addEventListener("wheel",n,r),t.addEventListener("touchmove",n,r),t.addEventListener("scroll",i,r),()=>{t.removeEventListener("wheel",n,!0),t.removeEventListener("touchmove",n,!0),t.removeEventListener("scroll",i,!0)}},[A,P,e]),ge(()=>{I&&(y.current||(b.current=!0))},[I]),ge(()=>{"always"!==C&&A||(b.current=A)},[C,A]);const B=e.useState("resetValueOnSelect");we(()=>{var t,n;const i=b.current;if(!e)return;if(!A)return;if(!i&&!B)return;const{baseElement:r,contentElement:s,activeId:l}=e.getState();if(!r||Wt(r)){if(null==s?void 0:s.hasAttribute("data-placing")){const e=new MutationObserver(w);return e.observe(s,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(C&&i){const n=T(N),i=void 0!==n?n:null!=(t=function(e){const t=e.find(e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))});return null==t?void 0:t.id}(N))?t:e.first();L.current=i,e.move(null!=i?i:null)}else{const t=null==(n=e.item(l||e.first()))?void 0:n.element;t&&"scrollIntoView"in t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}},[e,A,x,I,C,B,T,N]),(0,i.useEffect)(()=>{if(!S)return;const t=_.current;if(!t)return;const n=[t,P].filter(e=>!!e),i=t=>{n.every(e=>ue(t,e))&&(null==e||e.setValue(M))};for(const e of n)e.addEventListener("focusout",i);return()=>{for(const e of n)e.removeEventListener("focusout",i)}},[S,P,e,M]);const D=e=>e.currentTarget.value.length>=l,H=g.onChange,z=be(null!=a?a:D),$=be(null!=s?s:!e.tag),U=he(t=>{if(null==H||H(t),t.defaultPrevented)return;if(!e)return;const n=t.currentTarget,{value:i,selectionStart:r,selectionEnd:s}=n,l=t.nativeEvent;if(b.current=!0,function(e){return"input"===e.type}(l)&&(l.isComposing&&(b.current=!1,y.current=!0),S)){const e="insertText"===l.inputType||"insertCompositionText"===l.inputType,t=r===i.length;E(e&&t)}if($(t)){const t=i===e.getState().value;e.setValue(i),queueMicrotask(()=>{ie(n,r,s)}),S&&C&&t&&w()}z(t)&&e.show(),C&&b.current||e.setActiveId(null)}),K=g.onCompositionEnd,W=he(e=>{b.current=!0,y.current=!1,null==K||K(e),e.defaultPrevented||C&&w()}),G=g.onMouseDown,q=be(null!=f?f:()=>!!(null==e?void 0:e.getState().includesBaseElement)),Y=be(m),Z=be(null!=c?c:D),X=he(t=>{null==G||G(t),t.defaultPrevented||t.button||t.ctrlKey||e&&(q(t)&&e.setActiveId(null),Y(t)&&e.setValue(M),Z(t)&&de(t.currentTarget,"mouseup",e.show))}),J=g.onKeyDown,Q=be(null!=d?d:D),re=he(t=>{if(null==J||J(t),t.repeat||(b.current=!1),t.defaultPrevented)return;if(t.ctrlKey)return;if(t.altKey)return;if(t.shiftKey)return;if(t.metaKey)return;if(!e)return;const{open:n}=e.getState();n||"ArrowUp"!==t.key&&"ArrowDown"!==t.key||Q(t)&&(t.preventDefault(),e.show())}),se=g.onBlur,le=he(e=>{b.current=!1,null==se||se(e),e.defaultPrevented}),ae=xe(g.id),oe=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(p)?p:void 0,ce=e.useState(e=>null===e.activeId);return g={id:ae,role:"combobox","aria-autocomplete":oe,"aria-haspopup":te(P,"listbox"),"aria-expanded":A,"aria-controls":null==P?void 0:P.id,"data-active-item":ce||void 0,value:M,...g,ref:_e(_,g.ref),onChange:U,onCompositionEnd:W,onMouseDown:X,onKeyDown:re,onBlur:le},g=on({store:e,focusable:t,...g,moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(v,e)&&(S&&E(!0),!0)}),g=cn({store:e,...g}),{autoComplete:"off",...g}}),mn=Ve(function(e){return Ae("input",fn(e))});const vn=window.ReactDOM;function pn(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function gn(...e){return e.join(", ").split(", ").reduce((e,t)=>{const n=t.endsWith("ms")?1:1e3,i=Number.parseFloat(t||"0s")*n;return i>e?i:e},0)}function hn(e,t,n){return!(n||!1===t||e&&!t)}var xn=Pe(function({store:e,alwaysVisible:t,...n}){const r=wt();R(e=e||r,!1);const s=(0,i.useRef)(null),l=xe(n.id),[a,o]=(0,i.useState)(null),c=e.useState("open"),u=e.useState("mounted"),d=e.useState("animated"),m=e.useState("contentElement"),v=nt(e.disclosure,"contentElement");ge(()=>{s.current&&(null==e||e.setContentElement(s.current))},[e]),ge(()=>{let t;return null==e||e.setState("animated",e=>(t=e,!0)),()=>{void 0!==t&&(null==e||e.setState("animated",t))}},[e]),ge(()=>{if(d){if(null==m?void 0:m.isConnected)return function(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}(()=>{o(c?"enter":u?"leave":null)});o(null)}},[d,m,c,u]),ge(()=>{if(!e)return;if(!d)return;if(!a)return;if(!m)return;const t=()=>null==e?void 0:e.setState("animating",!1),n=()=>(0,vn.flushSync)(t);if("leave"===a&&c)return;if("enter"===a&&!c)return;if("number"==typeof d)return pn(d,n);const{transitionDuration:i,animationDuration:r,transitionDelay:s,animationDelay:l}=getComputedStyle(m),{transitionDuration:o="0",animationDuration:u="0",transitionDelay:f="0",animationDelay:p="0"}=v?getComputedStyle(v):{},g=gn(s,l,f,p)+gn(i,r,o,u);return g?pn(Math.max(g-1e3/60,0),n):("enter"===a&&e.setState("animated",!1),void t())},[e,d,m,v,c,a]),n=ye(n,t=>(0,f.jsx)(Ct,{value:e,children:t}),[e]);const p=hn(u,n.hidden,t),g=n.style,h=(0,i.useMemo)(()=>p?{...g,display:"none"}:g,[p,g]);return z(n={id:l,"data-open":c||void 0,"data-enter":"enter"===a||void 0,"data-leave":"leave"===a||void 0,hidden:p,...n,ref:_e(l?e.setContentElement:null,s,n.ref),style:h})}),wn=Ve(function(e){return Ae("div",xn(e))}),bn=(Ve(function({unmountOnHide:e,...t}){const n=wt();return!1===nt(t.store||n,t=>!e||(null==t?void 0:t.mounted))?null:(0,f.jsx)(wn,{...t})}),Pe(function({store:e,alwaysVisible:t,...n}){const r=At(!0),s=Nt(),l=!!(e=e||s)&&e===r;R(e,!1);const a=(0,i.useRef)(null),o=xe(n.id),c=e.useState("mounted"),u=hn(c,n.hidden,t),d=u?{...n.style,display:"none"}:n.style,m=e.useState(e=>Array.isArray(e.selectedValue)),v=function(e,t,n){const r=function(e){const[t]=(0,i.useState)(e);return t}(n),[s,l]=(0,i.useState)(r);return(0,i.useEffect)(()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const i=()=>{const e=n.getAttribute(t);l(null==e?r:e)},s=new MutationObserver(i);return s.observe(n,{attributeFilter:[t]}),i(),()=>s.disconnect()},[e,t,r]),s}(a,"role",n.role),p=("listbox"===v||"tree"===v||"grid"===v)&&m||void 0,[g,h]=(0,i.useState)(!1),_=e.useState("contentElement");ge(()=>{if(!c)return;const e=a.current;if(!e)return;if(_!==e)return;const t=()=>{h(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()},[c,_]),g||(n={role:"listbox","aria-multiselectable":p,...n}),n=ye(n,t=>(0,f.jsx)(Ot,{value:e,children:(0,f.jsx)(kt.Provider,{value:v,children:t})}),[e,v]);const x=!o||r&&l?null:e.setContentElement;return z(n={id:o,hidden:u,...n,ref:_e(x,a,n.ref),style:d})})),yn=Ve(function(e){return Ae("div",bn(e))});function Cn(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var Sn=Symbol("composite-hover"),jn=Pe(function({store:e,focusOnHover:t=!0,blurOnHoverEnd:n=!!t,...r}){const s=Le();R(e=e||s,!1);const l=((0,i.useEffect)(()=>{Ce||(fe("mousemove",Ie,!0),fe("mousedown",ke,!0),fe("mouseup",ke,!0),fe("keydown",ke,!0),fe("scroll",ke,!0),Ce=!0)},[]),he(()=>Se)),a=r.onMouseMove,o=be(t),c=he(t=>{if(null==a||a(t),!t.defaultPrevented&&l()&&o(t)){if(!Gt(t.currentTarget)){const t=null==e?void 0:e.getState().baseElement;t&&!Wt(t)&&t.focus()}null==e||e.setActiveId(t.currentTarget.id)}}),u=r.onMouseLeave,d=be(n),f=he(t=>{var n;null==u||u(t),t.defaultPrevented||l()&&(function(e){const t=Cn(e);return!!t&&Y(e.currentTarget,t)}(t)||function(e){let t=Cn(e);if(!t)return!1;do{if(T(t,Sn)&&t[Sn])return!0;t=t.parentElement}while(t);return!1}(t)||o(t)&&d(t)&&(null==e||e.setActiveId(null),null==(n=null==e?void 0:e.getState().baseElement)||n.focus()))}),m=(0,i.useCallback)(e=>{e&&(e[Sn]=!0)},[]);return z(r={...r,ref:_e(m,r.ref),onMouseMove:c,onMouseLeave:f})}),En=(Ne(Ve(function(e){return Ae("div",jn(e))})),Pe(function({store:e,shouldRegisterItem:t=!0,getItem:n=D,element:r,...s}){const l=Fe();e=e||l;const a=xe(s.id),o=(0,i.useRef)(r);return(0,i.useEffect)(()=>{const i=o.current;if(!a)return;if(!i)return;if(!t)return;const r=n({id:a,element:i});return null==e?void 0:e.renderItem(r)},[a,t,n,e]),z(s={...s,ref:_e(o,s.ref)})}));function In(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Z(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Z(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}Ve(function(e){return Ae("div",En(e))});var kn=Symbol("command"),Vn=Pe(function({clickOnEnter:e=!0,clickOnSpace:t=!0,...n}){const r=(0,i.useRef)(null),[s,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{r.current&&l(Z(r.current))},[]);const[a,o]=(0,i.useState)(!1),c=(0,i.useRef)(!1),u=H(n),[d,f]=function(e,t,n){const r=e.onLoadedMetadataCapture,s=(0,i.useMemo)(()=>Object.assign(()=>{},{...r,[t]:n}),[r,t,n]);return[null==r?void 0:r[t],{onLoadedMetadataCapture:s}]}(n,kn,!0),m=n.onKeyDown,v=he(n=>{null==m||m(n);const i=n.currentTarget;if(n.defaultPrevented)return;if(d)return;if(u)return;if(!ae(n))return;if(J(i))return;if(i.isContentEditable)return;const r=e&&"Enter"===n.key,s=t&&" "===n.key,l="Enter"===n.key&&!e,a=" "===n.key&&!t;if(l||a)n.preventDefault();else if(r||s){const e=In(n);if(r){if(!e){n.preventDefault();const{view:e,...t}=n,r=()=>ce(i,t);W&&/firefox\//i.test(navigator.userAgent)?de(i,"keyup",r):queueMicrotask(r)}}else s&&(c.current=!0,e||(n.preventDefault(),o(!0)))}}),p=n.onKeyUp,g=he(e=>{if(null==p||p(e),e.defaultPrevented)return;if(d)return;if(u)return;if(e.metaKey)return;const n=t&&" "===e.key;if(c.current&&n&&(c.current=!1,!In(e))){e.preventDefault(),o(!1);const t=e.currentTarget,{view:n,...i}=e;queueMicrotask(()=>ce(t,i))}});return n={"data-active":a||void 0,type:s?"button":void 0,...f,...n,ref:_e(r,n.ref),onKeyDown:v,onKeyUp:g},ln(n)});function Nn(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function An(e,t,n,i=!1){var r;if(!t)return;if(!n)return;const{renderedItems:s}=t.getState(),l=ne(e);if(!l)return;const a=function(e,t=!1){const n=e.clientHeight,{top:i}=e.getBoundingClientRect(),r=1.5*Math.max(.875*n,n-40),s=t?n-r+i:r+i;return"HTML"===e.tagName?s+e.scrollTop:s}(l,i);let o,c;for(let e=0;e<s.length;e+=1){const s=o;if(o=n(e),!o)break;if(o===s)continue;const l=null==(r=Rt(t,o))?void 0:r.element;if(!l)continue;const u=Nn(l,i)-a,d=Math.abs(u);if(i&&u<=0||!i&&u>=0){void 0!==c&&c<d&&(o=s);break}c=d}return o}Ve(function(e){return Ae("button",Vn(e))});var Pn=Pe(function({store:e,rowId:t,preventScrollOnKeyDown:n=!1,moveOnKeyPress:r=!0,tabbable:s=!1,getItem:l,"aria-setsize":a,"aria-posinset":o,...c}){const u=Le();e=e||u;const d=xe(c.id),m=(0,i.useRef)(null),v=(0,i.useContext)(ze),p=H(c)&&!c.accessibleWhenDisabled,{rowId:g,baseElement:h,isActiveItem:_,ariaSetSize:x,ariaPosInSet:w,isTabbable:b}=it(e,{rowId:e=>t||(e&&(null==v?void 0:v.baseElement)&&v.baseElement===e.baseElement?v.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===d,ariaSetSize:e=>null!=a?a:e&&(null==v?void 0:v.ariaSetSize)&&v.baseElement===e.baseElement?v.ariaSetSize:void 0,ariaPosInSet(e){if(null!=o)return o;if(!e)return;if(!(null==v?void 0:v.ariaPosInSet))return;if(v.baseElement!==e.baseElement)return;const t=e.renderedItems.filter(e=>e.rowId===g);return v.ariaPosInSet+t.findIndex(e=>e.id===d)},isTabbable(t){if(!(null==t?void 0:t.renderedItems.length))return!0;if(t.virtualFocus)return!1;if(s)return!0;if(null===t.activeId)return!1;const n=null==e?void 0:e.item(t.activeId);return!!(null==n?void 0:n.disabled)||!(null==n?void 0:n.element)||t.activeId===d}}),y=(0,i.useCallback)(e=>{var t;const n={...e,id:d||e.id,rowId:g,disabled:!!p,children:null==(t=e.element)?void 0:t.textContent};return l?l(n):n},[d,g,p,l]),C=c.onFocus,S=(0,i.useRef)(!1),j=he(t=>{if(null==C||C(t),t.defaultPrevented)return;if(le(t))return;if(!d)return;if(!e)return;if(function(e,t){return!ae(e)&&zt(t,e.target)}(t,e))return;const{virtualFocus:n,baseElement:i}=e.getState();var r;(e.setActiveId(d),Q(t.currentTarget)&&function(e,t=!1){if(J(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=G(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(t.currentTarget),n)&&(ae(t)&&(Q(r=t.currentTarget)||"INPUT"===r.tagName&&!Z(r)||(null==i?void 0:i.isConnected)&&(se()&&t.currentTarget.hasAttribute("data-autofocus")&&t.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),S.current=!0,t.relatedTarget===i||zt(e,t.relatedTarget)?function(e){e[Ht]=!0,e.focus({preventScroll:!0})}(i):i.focus())))}),E=c.onBlurCapture,I=he(t=>{if(null==E||E(t),t.defaultPrevented)return;const n=null==e?void 0:e.getState();(null==n?void 0:n.virtualFocus)&&S.current&&(S.current=!1,t.preventDefault(),t.stopPropagation())}),k=c.onKeyDown,V=be(n),N=be(r),A=he(t=>{if(null==k||k(t),t.defaultPrevented)return;if(!ae(t))return;if(!e)return;const{currentTarget:n}=t,i=e.getState(),r=e.item(d),s=!!(null==r?void 0:r.rowId),l="horizontal"!==i.orientation,a="vertical"!==i.orientation,o=()=>!(!s&&!a&&i.baseElement&&J(i.baseElement)),c={ArrowUp:(s||l)&&e.up,ArrowRight:(s||a)&&e.next,ArrowDown:(s||l)&&e.down,ArrowLeft:(s||a)&&e.previous,Home:()=>{if(o())return!s||t.ctrlKey?null==e?void 0:e.first():null==e?void 0:e.previous(-1)},End:()=>{if(o())return!s||t.ctrlKey?null==e?void 0:e.last():null==e?void 0:e.next(-1)},PageUp:()=>An(n,e,null==e?void 0:e.up,!0),PageDown:()=>An(n,e,null==e?void 0:e.down)}[t.key];if(c){if(Q(n)){const e=ee(n),i=a&&"ArrowLeft"===t.key,r=a&&"ArrowRight"===t.key,s=l&&"ArrowUp"===t.key,o=l&&"ArrowDown"===t.key;if(r||o){const{length:t}=function(e){if(J(e))return e.value;if(e.isContentEditable){const t=G(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(n);if(e.end!==t)return}else if((i||s)&&0!==e.start)return}const i=c();if(V(t)||void 0!==i){if(!N(t))return;t.preventDefault(),e.move(i)}}}),P=(0,i.useMemo)(()=>({id:d,baseElement:h}),[d,h]);return c=ye(c,e=>(0,f.jsx)(He.Provider,{value:P,children:e}),[P]),c={id:d,"data-active-item":_||void 0,...c,ref:_e(m,c.ref),tabIndex:b?c.tabIndex:-1,onFocus:j,onBlurCapture:I,onKeyDown:A},c=Vn(c),c=En({store:e,...c,getItem:y,shouldRegisterItem:!!d&&c.shouldRegisterItem}),z({...c,"aria-setsize":x,"aria-posinset":w})});function Mn(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}Ne(Ve(function(e){return Ae("button",Pn(e))}));var On=Pe(function({store:e,value:t,hideOnClick:n,setValueOnClick:r,selectValueOnClick:s=!0,resetValueOnSelect:l,focusOnHover:a=!1,moveOnKeyPress:o=!0,getItem:c,...u}){var d;const m=At();R(e=e||m,!1);const{resetValueOnSelectState:v,multiSelectable:p,selected:g}=it(e,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,t)}),h=(0,i.useCallback)(e=>{const n={...e,value:t};return c?c(n):n},[t,c]);r=null!=r?r:!p,n=null!=n?n:null!=t&&!p;const _=u.onClick,x=be(r),w=be(s),b=be(null!=(d=null!=l?l:v)?d:p),y=be(n),C=he(n=>{null==_||_(n),n.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(n)||function(e){const t=e.currentTarget;if(!t)return!1;const n=re();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const i=t.tagName.toLowerCase();return"a"===i||"button"===i&&"submit"===t.type||"input"===i&&"submit"===t.type}(n)||(null!=t&&(w(n)&&(b(n)&&(null==e||e.resetValue()),null==e||e.setSelectedValue(e=>Array.isArray(e)?e.includes(t)?e.filter(e=>e!==t):[...e,t]:t)),x(n)&&(null==e||e.setValue(t))),y(n)&&(null==e||e.hide()))}),S=u.onKeyDown,j=he(t=>{if(null==S||S(t),t.defaultPrevented)return;const n=null==e?void 0:e.getState().baseElement;n&&(Wt(n)||(1===t.key.length||"Backspace"===t.key||"Delete"===t.key)&&(queueMicrotask(()=>n.focus()),J(n)&&(null==e||e.setValue(n.value))))});p&&null!=g&&(u={"aria-selected":g,...u}),u=ye(u,e=>(0,f.jsx)(Ft.Provider,{value:t,children:(0,f.jsx)(Tt.Provider,{value:null!=g&&g,children:e})}),[t,g]),u={role:Mn((0,i.useContext)(kt)),children:t,...u,onClick:C,onKeyDown:j};const E=be(o);return u=Pn({store:e,...u,getItem:h,moveOnKeyPress:t=>{if(!E(t))return!1;const n=new Event("combobox-item-move"),i=null==e?void 0:e.getState().baseElement;return null==i||i.dispatchEvent(n),!0}}),jn({store:e,focusOnHover:a,...u})}),Fn=Ne(Ve(function(e){return Ae("div",On(e))}));function Tn(e){return B(e).toLowerCase()}var Ln=Pe(function({store:e,value:t,userValue:n,...r}){const s=At();e=e||s;const l=(0,i.useContext)(Ft),a=null!=t?t:l,o=nt(e,e=>null!=n?n:null==e?void 0:e.value);return z(r={children:(0,i.useMemo)(()=>{if(a)return o?function(e,t){if(!e)return e;if(!t)return e;const n=(i=t,Array.isArray(i)?i:void 0!==i?[i]:[]).filter(Boolean).map(Tn);var i;const r=[],s=(e,t=!1)=>(0,f.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},r.length),l=function(e){return e.sort(([e],[t])=>e-t)}(function(e){return e.filter(([e,t],n,i)=>!i.some(([i,r],s)=>s!==n&&i<=e&&i+r>=e+t))}(function(e,t){const n=[];for(const i of t){let t=0;const r=i.length;for(;-1!==e.indexOf(i,t);){const s=e.indexOf(i,t);-1!==s&&n.push([s,r]),t=s+1}}return n}(Tn(e),new Set(n))));if(!l.length)return r.push(s(e,!0)),r;const[a]=l[0],o=[e.slice(0,a),...l.flatMap(([t,n],i)=>{var r;const s=e.slice(t,t+n),a=null==(r=l[i+1])?void 0:r[0];return[s,e.slice(t+n,a)]})];return o.forEach((e,t)=>{e&&r.push(s(e,t%2==0))}),r}(a,o):a},[a,o]),...r})}),Bn=Ve(function(e){return Ae("span",Ln(e))}),Dn=n(731),Rn=n.n(Dn);const Hn=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),zn=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),$n=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Circle,{cx:12,cy:12,r:3})});function Un(e=""){return Rn()(e.trim().toLowerCase())}const Kn=[],Wn=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:Kn,Gn=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter(e=>e!==n):[...t.value,n]:[n];function qn(e,t){return`${e}-${t}`}function Yn({view:e,filter:t,onChangeView:n}){const i=(0,u.useInstanceId)(Yn,"dataviews-filter-list-box"),[r,a]=(0,s.useState)(1===t.operators?.length?void 0:null),o=e.filters?.find(e=>e.field===t.field),d=Wn(t,o);return(0,f.jsx)(c.Composite,{virtualFocus:!0,focusLoop:!0,activeId:r,setActiveId:a,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,l.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,l.__)("List of: %1$s"),t.name),onFocusVisible:()=>{!r&&t.elements.length&&a(qn(i,t.elements[0].value))},render:(0,f.jsx)(c.Composite.Typeahead,{}),children:t.elements.map(r=>(0,f.jsxs)(c.Composite.Hover,{render:(0,f.jsx)(c.Composite.Item,{id:qn(i,r.value),render:(0,f.jsx)("div",{"aria-label":r.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var i,s;const l=o?[...(null!==(i=e.filters)&&void 0!==i?i:[]).map(e=>e.field===t.field?{...e,operator:o.operator||t.operators[0],value:Gn(t,o,r.value)}:e)]:[...null!==(s=e.filters)&&void 0!==s?s:[],{field:t.field,operator:t.operators[0],value:Gn(t,o,r.value)}];n({...e,page:1,filters:l})}}),children:[(0,f.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[t.singleSelection&&d===r.value&&(0,f.jsx)(c.Icon,{icon:$n}),!t.singleSelection&&d.includes(r.value)&&(0,f.jsx)(c.Icon,{icon:Hn})]}),(0,f.jsx)("span",{children:r.label})]},r.value))})}function Zn({view:e,filter:t,onChangeView:n}){const[i,r]=(0,s.useState)(""),a=(0,s.useDeferredValue)(i),o=e.filters?.find(e=>e.field===t.field),u=Wn(t,o),d=(0,s.useMemo)(()=>{const e=Un(a);return t.elements.filter(t=>Un(t.label).includes(e))},[t.elements,a]);return(0,f.jsxs)(Lt,{selectedValue:u,setSelectedValue:i=>{var r,s;const l=o?[...(null!==(r=e.filters)&&void 0!==r?r:[]).map(e=>e.field===t.field?{...e,operator:o.operator||t.operators[0],value:i}:e)]:[...null!==(s=e.filters)&&void 0!==s?s:[],{field:t.field,operator:t.operators[0],value:i}];n({...e,page:1,filters:l})},setValue:r,children:[(0,f.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,f.jsx)(Dt,{render:(0,f.jsx)(c.VisuallyHidden,{children:(0,l.__)("Search items")}),children:(0,l.__)("Search items")}),(0,f.jsx)(mn,{autoSelect:"always",placeholder:(0,l.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,f.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,f.jsx)(c.Icon,{icon:zn})})]}),(0,f.jsxs)(yn,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[d.map(e=>(0,f.jsxs)(Fn,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,f.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[t.singleSelection&&u===e.value&&(0,f.jsx)(c.Icon,{icon:$n}),!t.singleSelection&&u.includes(e.value)&&(0,f.jsx)(c.Icon,{icon:Hn})]}),(0,f.jsxs)("span",{children:[(0,f.jsx)(Bn,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,f.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value)),!d.length&&(0,f.jsx)("p",{children:(0,l.__)("No results found")})]})]})}function Xn(e){const t=e.filter.elements.length>10?Zn:Yn;return(0,f.jsx)(t,{...e})}const Jn="Enter",Qn=" ",ei=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const i={Name:(0,f.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,f.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};return t?.operator===h?(0,s.createInterpolateElement)((0,l.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,l.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map(e=>e.label).join(", ")),i):t?.operator===_?(0,s.createInterpolateElement)((0,l.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,l.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map(e=>e.label).join(", ")),i):t?.operator===x?(0,s.createInterpolateElement)((0,l.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,l.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map(e=>e.label).join(", ")),i):t?.operator===w?(0,s.createInterpolateElement)((0,l.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,l.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map(e=>e.label).join(", ")),i):t?.operator===p?(0,s.createInterpolateElement)((0,l.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */
(0,l.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),i):t?.operator===g?(0,s.createInterpolateElement)((0,l.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */
(0,l.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),i):(0,l.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,l.__)("Unknown status for %1$s"),n.name)};function ti({filter:e,view:t,onChangeView:n}){const i=e.operators?.map(e=>({value:e,label:y[e]?.label})),r=t.filters?.find(t=>t.field===e.field),s=r?.operator||e.operators[0];return i.length>1&&(0,f.jsxs)(c.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,f.jsx)(c.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,f.jsx)(c.SelectControl,{label:(0,l.__)("Conditions"),value:s,options:i,onChange:i=>{var s,l;const a=i,o=r?[...(null!==(s=t.filters)&&void 0!==s?s:[]).map(t=>t.field===e.field?{...t,operator:a}:t)]:[...null!==(l=t.filters)&&void 0!==l?l:[],{field:e.field,operator:a,value:void 0}];n({...t,page:1,filters:o})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function ni({addFilterRef:e,openedFilter:t,...n}){const i=(0,s.useRef)(null),{filter:r,view:a,onChangeView:o}=n,u=a.filters?.find(e=>e.field===r.field),d=r.elements.filter(e=>r.singleSelection?e.value===u?.value:u?.value?.includes(e.value)),m=r.isPrimary,v=void 0!==u?.value,p=!m||v;return(0,f.jsx)(c.Dropdown,{defaultOpen:t===r.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{i.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,f.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,f.jsx)(c.Tooltip,{text:(0,l.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,l.__)("Filter by: %1$s"),r.name.toLowerCase()),placement:"top",children:(0,f.jsx)("div",{className:M("dataviews-filters__summary-chip",{"has-reset":p,"has-values":v}),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{[Jn,Qn].includes(e.key)&&(n(),e.preventDefault())},"aria-pressed":t,"aria-expanded":t,ref:i,children:(0,f.jsx)(ei,{activeElements:d,filterInView:u,filter:r})})}),p&&(0,f.jsx)(c.Tooltip,{text:m?(0,l.__)("Reset"):(0,l.__)("Remove"),placement:"top",children:(0,f.jsx)("button",{className:M("dataviews-filters__summary-chip-remove",{"has-values":v}),onClick:()=>{o({...a,page:1,filters:a.filters?.filter(e=>e.field!==r.field)}),m?i.current?.focus():e.current?.focus()},children:(0,f.jsx)(c.Icon,{icon:O})})})]}),renderContent:()=>(0,f.jsxs)(c.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,f.jsx)(ti,{...n}),(0,f.jsx)(Xn,{...n})]})})}const ii=window.wp.privateApis,{lock:ri,unlock:si}=(0,ii.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:li}=si(c.privateApis);function ai({filters:e,view:t,onChangeView:n,setOpenedFilter:i,triggerProps:r}){const s=e.filter(e=>!e.isVisible);return(0,f.jsxs)(li,{children:[(0,f.jsx)(li.TriggerButton,{...r}),(0,f.jsx)(li.Popover,{children:s.map(e=>(0,f.jsx)(li.Item,{onClick:()=>{i(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,f.jsx)(li.ItemLabel,{children:e.name})},e.field))})]})}const oi=(0,s.forwardRef)(function({filters:e,view:t,onChangeView:n,setOpenedFilter:i},r){if(!e.length||e.every(({isPrimary:e})=>e))return null;const s=e.filter(e=>!e.isVisible);return(0,f.jsx)(ai,{triggerProps:{render:(0,f.jsx)(c.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!s.length,ref:r}),children:(0,l.__)("Add filter")},filters:e,view:t,onChangeView:n,setOpenedFilter:i})});function ci({filters:e,view:t,onChangeView:n}){const i=!t.search&&!t.filters?.some(t=>{return void 0!==t.value||(n=t.field,!e.some(e=>e.field===n&&e.isPrimary));var n});return(0,f.jsx)(c.Button,{disabled:i,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:[]})},children:(0,l.__)("Reset")})}function ui(e){let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[h,_]),t=t.filter(e=>b.includes(e)),(t.includes(p)||t.includes(g))&&(t=t.filter(e=>[p,g].includes(e))),t}function di(e,t){return(0,s.useMemo)(()=>{const n=[];return e.forEach(e=>{if(!e.elements?.length)return;const i=ui(e);if(0===i.length)return;const r=!!e.filterBy?.isPrimary;n.push({field:e.id,name:e.label,elements:e.elements,singleSelection:i.some(e=>[p,g].includes(e)),operators:i,isVisible:r||!!t.filters?.some(t=>t.field===e.id&&b.includes(t.operator)),isPrimary:r})}),n.sort((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name)),n},[e,t])}function fi({filters:e,view:t,onChangeView:n,setOpenedFilter:i,isShowingFilter:r,setIsShowingFilter:a}){const o=(0,s.useRef)(null),u=(0,s.useCallback)(e=>{n(e),a(!0)},[n,a]),d=!!e.filter(e=>e.isVisible).length;if(0===e.length)return null;const m={label:(0,l.__)("Add filter"),"aria-expanded":!1,isPressed:!1},v={label:(0,l._x)("Filter","verb"),"aria-expanded":r,isPressed:r,onClick:()=>{r||i(null),a(!r)}},p=(0,f.jsx)(c.Button,{ref:o,className:"dataviews-filters__visibility-toggle",size:"compact",icon:A,...d?v:m});return(0,f.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:d?(0,f.jsx)(mi,{buttonRef:o,filtersCount:t.filters?.length,children:p}):(0,f.jsx)(ai,{filters:e,view:t,onChangeView:u,setOpenedFilter:i,triggerProps:{render:p}})})}function mi({buttonRef:e,filtersCount:t,children:n}){return(0,s.useEffect)(()=>()=>{e.current?.focus()},[e]),(0,f.jsxs)(f.Fragment,{children:[n,!!t&&(0,f.jsx)("span",{className:"dataviews-filters-toggle__count",children:t})]})}const vi=(0,s.memo)(function(){const{fields:e,view:t,onChangeView:n,openedFilter:i,setOpenedFilter:r}=(0,s.useContext)(N),l=(0,s.useRef)(null),a=di(e,t),o=(0,f.jsx)(oi,{filters:a,view:t,onChangeView:n,ref:l,setOpenedFilter:r},"add-filter"),u=a.filter(e=>e.isVisible);if(0===u.length)return null;const d=[...u.map(e=>(0,f.jsx)(ni,{filter:e,view:t,onChangeView:n,addFilterRef:l,openedFilter:i},e.field)),o];return d.push((0,f.jsx)(ci,{filters:a,view:t,onChangeView:n},"reset-filters")),(0,f.jsx)(c.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},className:"dataviews-filters__container",wrap:!0,children:d})}),pi=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),gi=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),hi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),_i=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function xi({selection:e,onChangeSelection:t,item:n,getItemId:i,titleField:r,disabled:s}){const a=i(n),o=!s&&e.includes(a),u=r?.getValue?.({item:n})||(0,l.__)("(no title)");return(0,f.jsx)(c.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":u,"aria-disabled":s,checked:o,onChange:()=>{s||t(e.includes(a)?e.filter(e=>a!==e):[...e,a])}})}const wi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),bi=window.wp.data,{Menu:yi,kebabCase:Ci}=si(c.privateApis);function Si({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,f.jsx)(c.Button,{label:i,icon:e.icon,disabled:!!e.disabled,accessibleWhenDisabled:!0,isDestructive:e.isDestructive,size:"compact",onClick:t})}function ji({action:e,onClick:t,items:n}){const i="string"==typeof e.label?e.label:e.label(n);return(0,f.jsx)(yi.Item,{disabled:e.disabled,onClick:t,children:(0,f.jsx)(yi.ItemLabel,{children:i})})}function Ei({action:e,items:t,closeModal:n}){var i;const r="string"==typeof e.label?e.label:e.label(t);return(0,f.jsx)(c.Modal,{title:e.modalHeader||r,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:null===(i=e.modalFocusOnMount)||void 0===i||i,size:e.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${Ci(e.id)}`,children:(0,f.jsx)(e.RenderModal,{items:t,closeModal:n})})}function Ii({actions:e,item:t,registry:n,setActiveModalAction:i}){return(0,f.jsx)(yi.Group,{children:e.map(e=>(0,f.jsx)(ji,{action:e,onClick:()=>{"RenderModal"in e?i(e):e.callback([t],{registry:n})},items:[t]},e.id))})}function ki({item:e,actions:t,isCompact:n}){const i=(0,bi.useRegistry)(),{primaryActions:r,eligibleActions:l}=(0,s.useMemo)(()=>{const n=t.filter(t=>!t.isEligible||t.isEligible(e));return{primaryActions:n.filter(e=>e.isPrimary&&!!e.icon),eligibleActions:n}},[t,e]);return n?(0,f.jsx)(Vi,{item:e,actions:l,isSmall:!0,registry:i}):r.length===l.length?(0,f.jsx)(Ni,{item:e,actions:r,registry:i}):(0,f.jsxs)(c.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[(0,f.jsx)(Ni,{item:e,actions:r,registry:i}),(0,f.jsx)(Vi,{item:e,actions:l,registry:i})]})}function Vi({item:e,actions:t,isSmall:n,registry:i}){const[r,a]=(0,s.useState)(null);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(yi,{placement:"bottom-end",children:[(0,f.jsx)(yi.TriggerButton,{render:(0,f.jsx)(c.Button,{size:n?"small":"compact",icon:wi,label:(0,l.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,className:"dataviews-all-actions-button"})}),(0,f.jsx)(yi.Popover,{children:(0,f.jsx)(Ii,{actions:t,item:e,registry:i,setActiveModalAction:a})})]}),!!r&&(0,f.jsx)(Ei,{action:r,items:[e],closeModal:()=>a(null)})]})}function Ni({item:e,actions:t,registry:n}){const[i,r]=(0,s.useState)(null);return Array.isArray(t)&&0!==t.length?(0,f.jsxs)(f.Fragment,{children:[t.map(t=>(0,f.jsx)(Si,{action:t,onClick:()=>{"RenderModal"in t?r(t):t.callback([e],{registry:n})},items:[e]},t.id)),!!i&&(0,f.jsx)(Ei,{action:i,items:[e],closeModal:()=>r(null)})]}):null}function Ai({action:e,items:t,ActionTriggerComponent:n}){const[i,r]=(0,s.useState)(!1),l={action:e,onClick:()=>{r(!0)},items:t};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n,{...l}),i&&(0,f.jsx)(Ei,{action:e,items:t,closeModal:()=>r(!1)})]})}function Pi(e,t){return(0,s.useMemo)(()=>e.some(e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))),[e,t])}function Mi(e,t){return(0,s.useMemo)(()=>t.some(t=>e.some(e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t)))),[e,t])}function Oi({selection:e,onChangeSelection:t,data:n,actions:i,getItemId:r}){const a=(0,s.useMemo)(()=>n.filter(e=>i.some(t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e)))),[n,i]),o=n.filter(t=>e.includes(r(t))&&a.includes(t)),u=o.length===a.length;return(0,f.jsx)(c.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:u,indeterminate:!u&&!!o.length,onChange:()=>{t(u?[]:a.map(e=>r(e)))},"aria-label":u?(0,l.__)("Deselect all"):(0,l.__)("Select all")})}function Fi({action:e,onClick:t,isBusy:n,items:i}){const r="string"==typeof e.label?e.label:e.label(i);return(0,f.jsx)(c.Button,{disabled:n,accessibleWhenDisabled:!0,label:r,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t,isBusy:n,tooltipPosition:"top"})}const Ti=[];function Li({action:e,selectedItems:t,actionInProgress:n,setActionInProgress:i}){const r=(0,bi.useRegistry)(),l=(0,s.useMemo)(()=>t.filter(t=>!e.isEligible||e.isEligible(t)),[e,t]);return"RenderModal"in e?(0,f.jsx)(Ai,{action:e,items:l,ActionTriggerComponent:Fi},e.id):(0,f.jsx)(Fi,{action:e,onClick:async()=>{i(e.id),await e.callback(t,{registry:r}),i(null)},items:l,isBusy:n===e.id},e.id)}function Bi(e,t,n,i,r,s,a,o,u){const d=s.length>0?(0,l.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,l._n)("%d Item selected","%d Items selected",s.length),s.length):(0,l.sprintf)(/* translators: %d: number of items. */ /* translators: %d: number of items. */
(0,l._n)("%d Item","%d Items",e.length),e.length);return(0,f.jsxs)(c.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,f.jsx)(Oi,{selection:i,onChangeSelection:u,data:e,actions:t,getItemId:n}),(0,f.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:d}),(0,f.jsxs)(c.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[r.map(e=>(0,f.jsx)(Li,{action:e,selectedItems:s,actionInProgress:a,setActionInProgress:o},e.id)),s.length>0&&(0,f.jsx)(c.Button,{icon:O,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,l.__)("Cancel"),disabled:!!a,accessibleWhenDisabled:!1,onClick:()=>{u(Ti)}})]})]})}function Di({selection:e,actions:t,onChangeSelection:n,data:i,getItemId:r}){const[l,a]=(0,s.useState)(null),o=(0,s.useRef)(null),c=(0,s.useMemo)(()=>t.filter(e=>e.supportsBulk),[t]),u=(0,s.useMemo)(()=>i.filter(e=>c.some(t=>!t.isEligible||t.isEligible(e))),[i,c]),d=(0,s.useMemo)(()=>i.filter(t=>e.includes(r(t))&&u.includes(t)),[e,i,r,u]),f=(0,s.useMemo)(()=>t.filter(e=>e.supportsBulk&&e.icon&&d.some(t=>!e.isEligible||e.isEligible(t))),[t,d]);return l?(o.current||(o.current=Bi(i,t,r,e,f,d,l,a,n)),o.current):(o.current&&(o.current=null),Bi(i,t,r,e,f,d,l,a,n))}function Ri(){const{data:e,selection:t,actions:n=Ti,onChangeSelection:i,getItemId:r}=(0,s.useContext)(N);return(0,f.jsx)(Di,{selection:t,onChangeSelection:i,data:e,actions:n,getItemId:r})}const Hi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),zi=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),$i=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:Ui}=si(c.privateApis);function Ki({children:e}){return s.Children.toArray(e).filter(Boolean).map((e,t)=>(0,f.jsxs)(s.Fragment,{children:[t>0&&(0,f.jsx)(Ui.Separator,{}),e]},t))}const Wi=(0,s.forwardRef)(function({fieldId:e,view:t,fields:n,onChangeView:i,onHide:r,setOpenedFilter:s,canMove:a=!0},o){var u;const d=null!==(u=t.fields)&&void 0!==u?u:[],m=d?.indexOf(e),v=t.sort?.field===e;let p=!1,g=!1,h=!1,_=[];const x=n.find(t=>t.id===e);if(!x)return null;p=!1!==x.enableHiding,g=!1!==x.enableSorting;const w=x.header;return _=ui(x),h=!(t.filters?.some(t=>e===t.field)||!x.elements?.length||!_.length||x.filterBy?.isPrimary),(0,f.jsxs)(Ui,{children:[(0,f.jsxs)(Ui.TriggerButton,{render:(0,f.jsx)(c.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:o,variant:"tertiary"}),children:[w,t.sort&&v&&(0,f.jsx)("span",{"aria-hidden":"true",children:S[t.sort.direction]})]}),(0,f.jsx)(Ui.Popover,{style:{minWidth:"240px"},children:(0,f.jsxs)(Ki,{children:[g&&(0,f.jsx)(Ui.Group,{children:C.map(n=>{const r=t.sort&&v&&t.sort.direction===n,s=`${e}-${n}`;return(0,f.jsx)(Ui.RadioItem,{name:"view-table-sorting",value:s,checked:r,onChange:()=>{i({...t,sort:{field:e,direction:n},showLevels:!1})},children:(0,f.jsx)(Ui.ItemLabel,{children:E[n]})},s)})}),h&&(0,f.jsx)(Ui.Group,{children:(0,f.jsx)(Ui.Item,{prefix:(0,f.jsx)(c.Icon,{icon:A}),onClick:()=>{s(e),i({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:_[0]}]})},children:(0,f.jsx)(Ui.ItemLabel,{children:(0,l.__)("Add filter")})})}),(a||p)&&x&&(0,f.jsxs)(Ui.Group,{children:[a&&(0,f.jsx)(Ui.Item,{prefix:(0,f.jsx)(c.Icon,{icon:Hi}),disabled:m<1,onClick:()=>{var n;i({...t,fields:[...null!==(n=d.slice(0,m-1))&&void 0!==n?n:[],e,d[m-1],...d.slice(m+1)]})},children:(0,f.jsx)(Ui.ItemLabel,{children:(0,l.__)("Move left")})}),a&&(0,f.jsx)(Ui.Item,{prefix:(0,f.jsx)(c.Icon,{icon:zi}),disabled:m>=d.length-1,onClick:()=>{var n;i({...t,fields:[...null!==(n=d.slice(0,m))&&void 0!==n?n:[],d[m+1],e,...d.slice(m+2)]})},children:(0,f.jsx)(Ui.ItemLabel,{children:(0,l.__)("Move right")})}),p&&x&&(0,f.jsx)(Ui.Item,{prefix:(0,f.jsx)(c.Icon,{icon:$i}),onClick:()=>{r(x),i({...t,fields:d.filter(t=>t!==e)})},children:(0,f.jsx)(Ui.ItemLabel,{children:(0,l.__)("Hide column")})})]})]})})]})});function Gi({item:e,isItemClickable:t,onClickItem:n,className:i}){return t(e)&&n?{className:i?`${i} ${i}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:i}}const qi=function({item:e,level:t,titleField:n,mediaField:i,descriptionField:r,onClickItem:s,isItemClickable:l}){const a=Gi({item:e,isItemClickable:l,onClickItem:s,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field"});return(0,f.jsxs)(c.__experimentalHStack,{spacing:3,justify:"flex-start",children:[i&&(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media",children:(0,f.jsx)(i.render,{item:e})}),(0,f.jsxs)(c.__experimentalVStack,{spacing:0,children:[n&&(0,f.jsxs)("div",{...a,children:[void 0!==t&&(0,f.jsxs)("span",{className:"dataviews-view-table__level",children:["—".repeat(t)," "]}),(0,f.jsx)(n.render,{item:e})]}),r&&(0,f.jsx)(r.render,{item:e})]})]})};function Yi({item:e,fields:t,column:n}){const i=t.find(e=>e.id===n);return i?(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,f.jsx)(i.render,{item:e})}):null}function Zi({hasBulkActions:e,item:t,level:n,actions:i,fields:r,id:l,view:a,titleField:o,mediaField:c,descriptionField:u,selection:d,getItemId:m,isItemClickable:v,onClickItem:p,onChangeSelection:g}){var h;const _=Pi(i,t),x=_&&d.includes(l),[w,b]=(0,s.useState)(!1),{showTitle:y=!0,showMedia:C=!0,showDescription:S=!0}=a,j=(0,s.useRef)(!1),E=null!==(h=a.fields)&&void 0!==h?h:[],I=o&&y||c&&C||u&&S;return(0,f.jsxs)("tr",{className:M("dataviews-view-table__row",{"is-selected":_&&x,"is-hovered":w,"has-bulk-actions":_}),onMouseEnter:()=>{b(!0)},onMouseLeave:()=>{b(!1)},onTouchStart:()=>{j.current=!0},onClick:()=>{_&&(j.current||"Range"===document.getSelection()?.type||g(d.includes(l)?d.filter(e=>l!==e):[l]))},children:[e&&(0,f.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,f.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,f.jsx)(xi,{item:t,selection:d,onChangeSelection:g,getItemId:m,titleField:o,disabled:!_})})}),I&&(0,f.jsx)("td",{children:(0,f.jsx)(qi,{item:t,level:n,titleField:y?o:void 0,mediaField:C?c:void 0,descriptionField:S?u:void 0,isItemClickable:v,onClickItem:p})}),E.map(e=>{var n;const{width:i,maxWidth:s,minWidth:l}=null!==(n=a.layout?.styles?.[e])&&void 0!==n?n:{};return(0,f.jsx)("td",{style:{width:i,maxWidth:s,minWidth:l},children:(0,f.jsx)(Yi,{fields:r,item:t,column:e})},e)}),!!i?.length&&(0,f.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,f.jsx)(ki,{item:t,actions:i})})]})}const Xi={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}},Ji={xhuge:1520,huge:1140,xlarge:780,large:480,mobile:0};function Qi(){const e=(0,s.useContext)(N).containerWidth;for(const[t,n]of Object.entries(Ji))if(e>=n)return t;return"mobile"}const{Badge:er}=si(c.privateApis);function tr({view:e,selection:t,onChangeSelection:n,onClickItem:i,isItemClickable:r,getItemId:s,item:a,actions:o,mediaField:d,titleField:m,descriptionField:v,regularFields:p,badgeFields:g,hasBulkActions:h}){const{showTitle:_=!0,showMedia:x=!0,showDescription:w=!0}=e,b=Pi(o,a),y=s(a),C=(0,u.useInstanceId)(tr),S=t.includes(y),j=d?.render?(0,f.jsx)(d.render,{item:a}):null,E=_&&m?.render?(0,f.jsx)(m.render,{item:a}):null,I=Gi({item:a,isItemClickable:r,onClickItem:i,className:"dataviews-view-grid__media"}),k=Gi({item:a,isItemClickable:r,onClickItem:i,className:"dataviews-view-grid__title-field dataviews-title-field"});let V,N;return r(a)&&i&&(E?(V={"aria-labelledby":`dataviews-view-grid__title-field-${C}`},N={id:`dataviews-view-grid__title-field-${C}`}):V={"aria-label":(0,l.__)("Navigate to item")}),(0,f.jsxs)(c.__experimentalVStack,{spacing:0,className:M("dataviews-view-grid__card",{"is-selected":b&&S}),onClickCapture:e=>{if(e.ctrlKey||e.metaKey){if(e.stopPropagation(),e.preventDefault(),!b)return;n(t.includes(y)?t.filter(e=>y!==e):[...t,y])}},children:[x&&j&&(0,f.jsx)("div",{...I,...V,children:j}),h&&x&&j&&(0,f.jsx)(xi,{item:a,selection:t,onChangeSelection:n,getItemId:s,titleField:m,disabled:!b}),(0,f.jsxs)(c.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,f.jsx)("div",{...k,...N,children:E}),!!o?.length&&(0,f.jsx)(ki,{item:a,actions:o,isCompact:!0})]}),(0,f.jsxs)(c.__experimentalVStack,{spacing:1,children:[w&&v?.render&&(0,f.jsx)(v.render,{item:a}),!!g?.length&&(0,f.jsx)(c.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:g.map(e=>(0,f.jsx)(er,{className:"dataviews-view-grid__field-value",children:(0,f.jsx)(e.render,{item:a})},e.id))}),!!p?.length&&(0,f.jsx)(c.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:p.map(e=>(0,f.jsx)(c.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,f.jsx)(c.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,f.jsx)(e.render,{item:a})})]})},e.id))})]})]},y)}const{Menu:nr}=si(c.privateApis);function ir(e){return`${e}-item-wrapper`}function rr(e){return`${e}-dropdown`}function sr({idPrefix:e,primaryAction:t,item:n}){const i=(0,bi.useRegistry)(),[r,l]=(0,s.useState)(!1),a=function(e,t){return`${e}-primary-action-${t}`}(e,t.id),o="string"==typeof t.label?t.label:t.label([n]);return"RenderModal"in t?(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(c.Composite.Item,{id:a,render:(0,f.jsx)(c.Button,{label:o,disabled:!!t.disabled,accessibleWhenDisabled:!0,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>l(!0)}),children:r&&(0,f.jsx)(Ei,{action:t,items:[n],closeModal:()=>l(!1)})})},t.id):(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(c.Composite.Item,{id:a,render:(0,f.jsx)(c.Button,{label:o,disabled:!!t.disabled,accessibleWhenDisabled:!0,icon:t.icon,isDestructive:t.isDestructive,size:"small",onClick:()=>{t.callback([n],{registry:i})}})})},t.id)}function lr({view:e,actions:t,idPrefix:n,isSelected:i,item:r,titleField:a,mediaField:o,descriptionField:u,onSelect:d,otherFields:m,onDropdownTriggerKeyDown:v}){const{showTitle:p=!0,showMedia:g=!0,showDescription:h=!0}=e,_=(0,s.useRef)(null),x=`${n}-label`,w=`${n}-description`,b=(0,bi.useRegistry)(),[y,C]=(0,s.useState)(!1),[S,j]=(0,s.useState)(null),E=({type:e})=>{C("mouseenter"===e)};(0,s.useEffect)(()=>{i&&_.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})},[i]);const{primaryAction:I,eligibleActions:k}=(0,s.useMemo)(()=>{const e=t.filter(e=>!e.isEligible||e.isEligible(r));return{primaryAction:e.filter(e=>e.isPrimary&&!!e.icon)[0],eligibleActions:e}},[t,r]),V=I&&1===t.length,N=g&&o?.render?(0,f.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,f.jsx)(o.render,{item:r})}):null,A=p&&a?.render?(0,f.jsx)(a.render,{item:r}):null,P=k?.length>0&&(0,f.jsxs)(c.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[I&&(0,f.jsx)(sr,{idPrefix:n,primaryAction:I,item:r}),!V&&(0,f.jsxs)("div",{role:"gridcell",children:[(0,f.jsxs)(nr,{placement:"bottom-end",children:[(0,f.jsx)(nr.TriggerButton,{render:(0,f.jsx)(c.Composite.Item,{id:rr(n),render:(0,f.jsx)(c.Button,{size:"small",icon:wi,label:(0,l.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,onKeyDown:v})})}),(0,f.jsx)(nr.Popover,{children:(0,f.jsx)(Ii,{actions:k,item:r,registry:b,setActiveModalAction:j})})]}),!!S&&(0,f.jsx)(Ei,{action:S,items:[r],closeModal:()=>j(null)})]})]});return(0,f.jsx)(c.Composite.Row,{ref:_,render:(0,f.jsx)("div",{}),role:"row",className:M({"is-selected":i,"is-hovered":y}),onMouseEnter:E,onMouseLeave:E,children:(0,f.jsxs)(c.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,f.jsx)("div",{role:"gridcell",children:(0,f.jsx)(c.Composite.Item,{id:ir(n),"aria-pressed":i,"aria-labelledby":x,"aria-describedby":w,className:"dataviews-view-list__item",onClick:()=>d(r)})}),(0,f.jsxs)(c.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[N,(0,f.jsxs)(c.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,f.jsxs)(c.__experimentalHStack,{spacing:0,children:[(0,f.jsx)("div",{className:"dataviews-title-field",id:x,children:A}),P]}),h&&u?.render&&(0,f.jsx)("div",{className:"dataviews-view-list__field",children:(0,f.jsx)(u.render,{item:r})}),(0,f.jsx)("div",{className:"dataviews-view-list__fields",id:w,children:m.map(e=>(0,f.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,f.jsx)(c.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,f.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,f.jsx)(e.render,{item:r})})]},e.id))})]})]})]})})}function ar(e){return!!e}const or=[{type:k,label:(0,l.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:i,getItemLevel:r,isLoading:a=!1,onChangeView:o,onChangeSelection:u,selection:d,setOpenedFilter:m,onClickItem:v,isItemClickable:p,view:g}){var h;const _=(0,s.useRef)(new Map),x=(0,s.useRef)(),[w,b]=(0,s.useState)(),y=Mi(e,t);(0,s.useEffect)(()=>{x.current&&(x.current.focus(),x.current=void 0)});const C=(0,s.useId)();if(w)return x.current=w,void b(void 0);const S=e=>{const t=_.current.get(e.id),n=t?_.current.get(t.fallback):void 0;b(n?.node)},E=!!t?.length,I=n.find(e=>e.id===g.titleField),k=n.find(e=>e.id===g.mediaField),V=n.find(e=>e.id===g.descriptionField),{showTitle:N=!0,showMedia:A=!0,showDescription:P=!0}=g,O=I&&N||k&&A||V&&P,F=null!==(h=g.fields)&&void 0!==h?h:[],T=(e,t)=>n=>{n?_.current.set(e,{node:n,fallback:F[t>0?t-1:1]}):_.current.delete(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("table",{className:M("dataviews-view-table",{[`has-${g.layout?.density}-density`]:g.layout?.density&&["compact","comfortable"].includes(g.layout.density)}),"aria-busy":a,"aria-describedby":C,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"dataviews-view-table__row",children:[y&&(0,f.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",children:(0,f.jsx)(Oi,{selection:d,onChangeSelection:u,data:t,actions:e,getItemId:i})}),O&&(0,f.jsx)("th",{scope:"col",children:I&&(0,f.jsx)(Wi,{ref:T(I.id,0),fieldId:I.id,view:g,fields:n,onChangeView:o,onHide:S,setOpenedFilter:m,canMove:!1})}),F.map((e,t)=>{var i;const{width:r,maxWidth:s,minWidth:l}=null!==(i=g.layout?.styles?.[e])&&void 0!==i?i:{};return(0,f.jsx)("th",{style:{width:r,maxWidth:s,minWidth:l},"aria-sort":g.sort?.direction&&g.sort?.field===e?j[g.sort.direction]:void 0,scope:"col",children:(0,f.jsx)(Wi,{ref:T(e,t),fieldId:e,view:g,fields:n,onChangeView:o,onHide:S,setOpenedFilter:m})},e)}),!!e?.length&&(0,f.jsx)("th",{className:"dataviews-view-table__actions-column",children:(0,f.jsx)("span",{className:"dataviews-view-table-header",children:(0,l.__)("Actions")})})]})}),(0,f.jsx)("tbody",{children:E&&t.map((t,s)=>(0,f.jsx)(Zi,{item:t,level:g.showLevels&&"function"==typeof r?r(t):void 0,hasBulkActions:y,actions:e,fields:n,id:i(t)||s.toString(),view:g,titleField:I,mediaField:k,descriptionField:V,selection:d,getItemId:i,onChangeSelection:u,onClickItem:v,isItemClickable:p},i(t)))})]}),(0,f.jsx)("div",{className:M({"dataviews-loading":a,"dataviews-no-results":!E&&!a}),id:C,children:!E&&(0,f.jsx)("p",{children:a?(0,f.jsx)(c.Spinner,{}):(0,l.__)("No results")})})]})},icon:pi,viewConfigOptions:function(){const e=(0,s.useContext)(N),t=e.view;return(0,f.jsxs)(c.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,l.__)("Density"),value:t.layout?.density||"balanced",onChange:n=>{e.onChangeView({...t,layout:{...t.layout,density:n}})},isBlock:!0,children:[(0,f.jsx)(c.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,l._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,f.jsx)(c.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,l._x)("Balanced","Density option for DataView layout")},"balanced"),(0,f.jsx)(c.__experimentalToggleGroupControlOption,{value:"compact",label:(0,l._x)("Compact","Density option for DataView layout")},"compact")]})}},{type:V,label:(0,l.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:i,isLoading:r,onChangeSelection:a,onClickItem:o,isItemClickable:u,selection:d,view:m}){var v;const p=n.find(e=>e.id===m?.titleField),g=n.find(e=>e.id===m?.mediaField),h=n.find(e=>e.id===m?.descriptionField),_=null!==(v=m.fields)&&void 0!==v?v:[],{regularFields:x,badgeFields:w}=_.reduce((e,t)=>{const i=n.find(e=>e.id===t);return i?(e[m.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(i),e):e},{regularFields:[],badgeFields:[]}),b=!!t?.length,y=function(){const e=(0,s.useContext)(N).view,t=Qi();return(0,s.useMemo)(()=>{const n=e.layout?.previewSize;let i;if(!n)return;const r=Xi[t];return n<r.min&&(i=r.min),n>r.max&&(i=r.max),i},[t,e])}(),C=Mi(e,t),S=y||m.layout?.previewSize,j=S?{gridTemplateColumns:`repeat(${S}, minmax(0, 1fr))`}:{};return(0,f.jsxs)(f.Fragment,{children:[b&&(0,f.jsx)(c.__experimentalGrid,{gap:8,columns:2,alignment:"top",className:"dataviews-view-grid",style:j,"aria-busy":r,children:t.map(t=>(0,f.jsx)(tr,{view:m,selection:d,onChangeSelection:a,onClickItem:o,isItemClickable:u,getItemId:i,item:t,actions:e,mediaField:g,titleField:p,descriptionField:h,regularFields:x,badgeFields:w,hasBulkActions:C},i(t)))}),!b&&(0,f.jsx)("div",{className:M({"dataviews-loading":r,"dataviews-no-results":!r}),children:(0,f.jsx)("p",{children:r?(0,f.jsx)(c.Spinner,{}):(0,l.__)("No results")})})]})},icon:gi,viewConfigOptions:function(){const e=Qi(),t=(0,s.useContext)(N),n=t.view,i=Xi[e],r=n.layout?.previewSize||i.default,a=(0,s.useMemo)(()=>Array.from({length:i.max-i.min+1},(e,t)=>({value:i.min+t})),[i]);return"mobile"===e?null:(0,f.jsx)(c.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,l.__)("Preview size"),value:i.max+i.min-r,marks:a,min:i.min,max:i.max,withInputField:!1,onChange:(e=0)=>{t.onChangeView({...n,layout:{...n.layout,previewSize:i.max+i.min-e}})},step:1})}},{type:"list",label:(0,l.__)("List"),component:function e(t){var n;const{actions:i,data:r,fields:a,getItemId:o,isLoading:d,onChangeSelection:m,selection:v,view:p}=t,g=(0,u.useInstanceId)(e,"view-list"),h=r?.findLast(e=>v.includes(o(e))),_=a.find(e=>e.id===p.titleField),x=a.find(e=>e.id===p.mediaField),w=a.find(e=>e.id===p.descriptionField),b=(null!==(n=p?.fields)&&void 0!==n?n:[]).map(e=>a.find(t=>e===t.id)).filter(ar),y=e=>m([o(e)]),C=(0,s.useCallback)(e=>`${g}-${o(e)}`,[g,o]),S=(0,s.useCallback)((e,t)=>t.startsWith(C(e)),[C]),[j,E]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{h&&E(ir(C(h)))},[h,C]);const I=r.findIndex(e=>S(e,null!=j?j:"")),k=(0,u.usePrevious)(I),V=-1!==I,N=(0,s.useCallback)((e,t)=>{const n=Math.min(r.length-1,Math.max(0,e));if(!r[n])return;const i=t(C(r[n]));E(i),document.getElementById(i)?.focus()},[r,C]);(0,s.useEffect)(()=>{!V&&void 0!==k&&-1!==k&&N(k,ir)},[V,N,k]);const A=(0,s.useCallback)(e=>{"ArrowDown"===e.key&&(e.preventDefault(),N(I+1,rr)),"ArrowUp"===e.key&&(e.preventDefault(),N(I-1,rr))},[N,I]),P=r?.length;return P?(0,f.jsx)(c.Composite,{id:g,render:(0,f.jsx)("div",{}),className:"dataviews-view-list",role:"grid",activeId:j,setActiveId:E,children:r.map(e=>{const t=C(e);return(0,f.jsx)(lr,{view:p,idPrefix:t,actions:i,item:e,isSelected:e===h,onSelect:y,mediaField:x,titleField:_,descriptionField:w,otherFields:b,onDropdownTriggerKeyDown:A},t)})}):(0,f.jsx)("div",{className:M({"dataviews-loading":d,"dataviews-no-results":!P&&!d}),children:!P&&(0,f.jsx)("p",{children:d?(0,f.jsx)(c.Spinner,{}):(0,l.__)("No results")})})},icon:(0,l.isRTL)()?hi:_i}];function cr(){const{actions:e=[],data:t,fields:n,getItemId:i,getItemLevel:r,isLoading:l,view:a,onChangeView:o,selection:c,onChangeSelection:u,setOpenedFilter:d,onClickItem:m,isItemClickable:v}=(0,s.useContext)(N),p=or.find(e=>e.type===a.type)?.component;return(0,f.jsx)(p,{actions:e,data:t,fields:n,getItemId:i,getItemLevel:r,isLoading:l,onChangeView:o,onChangeSelection:u,selection:c,setOpenedFilter:d,onClickItem:m,isItemClickable:v,view:a})}const ur=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),dr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})}),fr=(0,s.memo)(function(){var e;const{view:t,onChangeView:n,paginationInfo:{totalItems:i=0,totalPages:r}}=(0,s.useContext)(N);if(!i||!r)return null;const a=null!==(e=t.page)&&void 0!==e?e:1,o=Array.from(Array(r)).map((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":a===n?(0,l.sprintf)(
// translators: Current page number in total number of pages
// translators: Current page number in total number of pages
(0,l.__)("Page %1$s of %2$s"),a,r):n.toString()}});return!!i&&1!==r&&(0,f.jsxs)(c.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,f.jsx)(c.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,s.createInterpolateElement)((0,l.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,l._x)("<div>Page</div>%1$s<div>of %2$s</div>","paging"),"<CurrentPage />",r),{div:(0,f.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,f.jsx)(c.SelectControl,{"aria-label":(0,l.__)("Current page"),value:a.toString(),options:o,onChange:e=>{n({...t,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,f.jsxs)(c.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,f.jsx)(c.Button,{onClick:()=>n({...t,page:a-1}),disabled:1===a,accessibleWhenDisabled:!0,label:(0,l.__)("Previous page"),icon:(0,l.isRTL)()?ur:dr,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,f.jsx)(c.Button,{onClick:()=>n({...t,page:a+1}),disabled:a>=r,accessibleWhenDisabled:!0,label:(0,l.__)("Next page"),icon:(0,l.isRTL)()?dr:ur,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}),mr=[];function vr(){const{view:e,paginationInfo:{totalItems:t=0,totalPages:n},data:i,actions:r=mr}=(0,s.useContext)(N),l=Mi(r,i)&&[k,V].includes(e.type);return!t||!n||n<=1&&!l?null:!!t&&(0,f.jsxs)(c.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[l&&(0,f.jsx)(Ri,{}),(0,f.jsx)(fr,{})]})}const pr=(0,s.memo)(function({label:e}){const{view:t,onChangeView:n}=(0,s.useContext)(N),[i,r,a]=(0,u.useDebouncedInput)(t.search);(0,s.useEffect)(()=>{var e;r(null!==(e=t.search)&&void 0!==e?e:"")},[t.search,r]);const o=(0,s.useRef)(n),d=(0,s.useRef)(t);(0,s.useEffect)(()=>{o.current=n,d.current=t},[n,t]),(0,s.useEffect)(()=>{a!==d.current?.search&&o.current({...d.current,page:1,search:a})},[a]);const m=e||(0,l.__)("Search");return(0,f.jsx)(c.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:r,value:i,label:m,placeholder:m,size:"compact"})}),gr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),hr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),_r=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),xr=(0,f.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(d.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),wr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),br=window.wp.warning;var yr=n.n(br);const{Menu:Cr}=si(c.privateApis),Sr={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function jr({defaultLayouts:e={list:{},grid:{},table:{}}}){const{view:t,onChangeView:n}=(0,s.useContext)(N),i=Object.keys(e);if(i.length<=1)return null;const r=or.find(e=>t.type===e.type);return(0,f.jsxs)(Cr,{children:[(0,f.jsx)(Cr.TriggerButton,{render:(0,f.jsx)(c.Button,{size:"compact",icon:r?.icon,label:(0,l.__)("Layout")})}),(0,f.jsx)(Cr.Popover,{children:i.map(i=>{const r=or.find(e=>e.type===i);return r?(0,f.jsx)(Cr.RadioItem,{value:i,name:"view-actions-available-view",checked:i===t.type,hideOnClick:!0,onChange:i=>{switch(i.target.value){case"list":case"grid":case"table":const r={...t};return"layout"in r&&delete r.layout,n({...r,type:i.target.value,...e[i.target.value]})}!0===globalThis.SCRIPT_DEBUG&&yr()("Invalid dataview")},children:(0,f.jsx)(Cr.ItemLabel,{children:r.label})},i):null})})]})}function Er(){const{view:e,fields:t,onChangeView:n}=(0,s.useContext)(N),i=(0,s.useMemo)(()=>t.filter(e=>!1!==e.enableSorting).map(e=>({label:e.label,value:e.id})),[t]);return(0,f.jsx)(c.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,l.__)("Sort by"),value:e.sort?.field,options:i,onChange:t=>{n({...e,sort:{direction:e?.sort?.direction||"desc",field:t},showLevels:!1})}})}function Ir(){const{view:e,fields:t,onChangeView:n}=(0,s.useContext)(N);if(0===t.filter(e=>!1!==e.enableSorting).length)return null;let i=e.sort?.direction;return!i&&e.sort?.field&&(i="desc"),(0,f.jsx)(c.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,l.__)("Order"),value:i,onChange:i=>{"asc"!==i&&"desc"!==i?!0===globalThis.SCRIPT_DEBUG&&yr()("Invalid direction"):n({...e,sort:{direction:i,field:e.sort?.field||t.find(e=>!1!==e.enableSorting)?.id||""},showLevels:!1})},children:C.map(e=>(0,f.jsx)(c.__experimentalToggleGroupControlOptionIcon,{value:e,icon:I[e],label:E[e]},e))})}const kr=[10,20,50,100];function Vr(){const{view:e,onChangeView:t}=(0,s.useContext)(N);return(0,f.jsx)(c.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,l.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:n=>{const i="number"==typeof n||void 0===n?n:parseInt(n,10);t({...e,perPage:i,page:1})},children:kr.map(e=>(0,f.jsx)(c.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e))})}function Nr({previewOptions:e,onChangePreviewOption:t,onMenuOpenChange:n,activeOption:i}){return(0,f.jsxs)(Cr,{onOpenChange:n,children:[(0,f.jsx)(Cr.TriggerButton,{render:(0,f.jsx)(c.Button,{className:"dataviews-field-control__field-preview-options-button",size:"compact",icon:wi,label:(0,l.__)("Preview")})}),(0,f.jsx)(Cr.Popover,{children:e?.map(({id:e,label:n})=>(0,f.jsx)(Cr.RadioItem,{value:e,checked:e===i,onChange:()=>{t?.(e),(e=>{setTimeout(()=>{const t=document.querySelector(`.dataviews-field-control__field-${e} .dataviews-field-control__field-preview-options-button`);t instanceof HTMLElement&&t.focus()},50)})(e)},children:(0,f.jsx)(Cr.ItemLabel,{children:n})},e))})]})}function Ar({field:e,label:t,description:n,isVisible:i,isFirst:r,isLast:a,canMove:o=!0,onToggleVisibility:u,onMoveUp:d,onMoveDown:m,previewOptions:v,onChangePreviewOption:p}){const[g,h]=(0,s.useState)(!1);return(0,f.jsx)(c.__experimentalItem,{children:(0,f.jsxs)(c.__experimentalHStack,{expanded:!0,className:M("dataviews-field-control__field",`dataviews-field-control__field-${e.id}`,{"is-interacting":g}),justify:"flex-start",children:[(0,f.jsx)("span",{className:"dataviews-field-control__icon",children:!o&&!e.enableHiding&&(0,f.jsx)(c.Icon,{icon:gr})}),(0,f.jsxs)("span",{className:"dataviews-field-control__label-sub-label-container",children:[(0,f.jsx)("span",{className:"dataviews-field-control__label",children:t||e.label}),n&&(0,f.jsx)("span",{className:"dataviews-field-control__sub-label",children:n})]}),(0,f.jsxs)(c.__experimentalHStack,{justify:"flex-end",expanded:!1,className:"dataviews-field-control__actions",children:[i&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Button,{disabled:r||!o,accessibleWhenDisabled:!0,size:"compact",onClick:d,icon:hr,label:r||!o?(0,l.__)("This field can't be moved up"):(0,l.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,l.__)("Move %s up"),e.label)}),(0,f.jsx)(c.Button,{disabled:a||!o,accessibleWhenDisabled:!0,size:"compact",onClick:m,icon:_r,label:a||!o?(0,l.__)("This field can't be moved down"):(0,l.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,l.__)("Move %s down"),e.label)})]}),u&&(0,f.jsx)(c.Button,{className:"dataviews-field-control__field-visibility-button",disabled:!e.enableHiding,accessibleWhenDisabled:!0,size:"compact",onClick:()=>{u(),setTimeout(()=>{const t=document.querySelector(`.dataviews-field-control__field-${e.id} .dataviews-field-control__field-visibility-button`);t instanceof HTMLElement&&t.focus()},50)},icon:i?$i:xr,label:i?(0,l.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,l._x)("Hide %s","field"),e.label):(0,l.sprintf)(/* translators: %s: field label */ /* translators: %s: field label */
(0,l._x)("Show %s","field"),e.label)}),v&&(0,f.jsx)(Nr,{previewOptions:v,onChangePreviewOption:p,onMenuOpenChange:h,activeOption:e.id})]})]})})}function Pr({index:e,field:t,view:n,onChangeView:i}){var r;const s=null!==(r=n.fields)&&void 0!==r?r:[],l=void 0!==e&&s.includes(t.id);return(0,f.jsx)(Ar,{field:t,isVisible:l,isFirst:void 0!==e&&e<1,isLast:void 0!==e&&e===s.length-1,onToggleVisibility:()=>{i({...n,fields:l?s.filter(e=>e!==t.id):[...s,t.id]})},onMoveUp:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=s.slice(0,e-1))&&void 0!==r?r:[],t.id,s[e-1],...s.slice(e+1)]})}:void 0,onMoveDown:void 0!==e?()=>{var r;i({...n,fields:[...null!==(r=s.slice(0,e))&&void 0!==r?r:[],s[e+1],t.id,...s.slice(e+2)]})}:void 0})}function Mr(e){return!!e}function Or(){var e;const{view:t,fields:n,onChangeView:i}=(0,s.useContext)(N),r=[t?.titleField,t?.mediaField,t?.descriptionField].filter(Boolean),a=null!==(e=t.fields)&&void 0!==e?e:[],o=n.filter(e=>!a.includes(e.id)&&!r.includes(e.id)&&"media"!==e.type),u=a.map(e=>n.find(t=>t.id===e)).filter(Mr);if(!u?.length&&!o?.length)return null;const d=n.find(e=>e.id===t.titleField),m=n.find(e=>e.id===t.mediaField),v=n.find(e=>e.id===t.descriptionField),p=n.filter(e=>"media"===e.type);let g;if(p.length>1){var h;const e=Mr(m)&&(null===(h=t.showMedia)||void 0===h||h);g=Mr(m)&&(0,f.jsx)(Ar,{field:m,label:(0,l.__)("Preview"),description:m.label,isVisible:e,onToggleVisibility:()=>{i({...t,showMedia:!e})},canMove:!1,previewOptions:p.map(e=>({label:e.label,id:e.id})),onChangePreviewOption:e=>i({...t,mediaField:e})},m.id)}const _=[{field:d,isVisibleFlag:"showTitle"},{field:m,isVisibleFlag:"showMedia",ui:g},{field:v,isVisibleFlag:"showDescription"}].filter(({field:e})=>Mr(e)),x=_.filter(({field:e,isVisibleFlag:n})=>{var i;return Mr(e)&&(null===(i=t[n])||void 0===i||i)}),w=_.filter(({field:e,isVisibleFlag:n})=>{var i;return Mr(e)&&!(null===(i=t[n])||void 0===i||i)});return(0,f.jsxs)(c.__experimentalVStack,{className:"dataviews-field-control",spacing:6,children:[(0,f.jsx)(c.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(x.length>0||!!u?.length)&&(0,f.jsxs)(c.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[x.map(({field:e,isVisibleFlag:n,ui:r})=>null!=r?r:(0,f.jsx)(Ar,{field:e,isVisible:!0,onToggleVisibility:()=>{i({...t,[n]:!1})},canMove:!1},e.id)),u.map((e,n)=>(0,f.jsx)(Pr,{field:e,view:t,onChangeView:i,index:n},e.id))]})}),(!!o?.length||!!w.length)&&(0,f.jsxs)(c.__experimentalVStack,{spacing:4,children:[(0,f.jsx)(c.BaseControl.VisualLabel,{style:{margin:0},children:(0,l.__)("Hidden")}),(0,f.jsx)(c.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,f.jsxs)(c.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,children:[w.length>0&&w.map(({field:e,isVisibleFlag:n,ui:r})=>null!=r?r:(0,f.jsx)(Ar,{field:e,isVisible:!1,onToggleVisibility:()=>{i({...t,[n]:!0})},canMove:!1},e.id)),o.map(e=>(0,f.jsx)(Pr,{field:e,view:t,onChangeView:i},e.id))]})})]})]})}function Fr({title:e,description:t,children:n}){return(0,f.jsxs)(c.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,f.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,f.jsx)(c.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,f.jsx)(c.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,f.jsx)(c.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function Tr(){const{view:e}=(0,s.useContext)(N),t=(0,u.useInstanceId)(Lr,"dataviews-view-config-dropdown"),n=or.find(t=>t.type===e.type);return(0,f.jsx)(c.Dropdown,{expandOnMobile:!0,popoverProps:{...Sr,id:t},renderToggle:({onToggle:e,isOpen:n})=>(0,f.jsx)(c.Button,{size:"compact",icon:wr,label:(0,l._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":n?"true":"false","aria-controls":t}),renderContent:()=>(0,f.jsx)(c.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,f.jsxs)(c.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:[(0,f.jsxs)(Fr,{title:(0,l.__)("Appearance"),children:[(0,f.jsxs)(c.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,f.jsx)(Er,{}),(0,f.jsx)(Ir,{})]}),!!n?.viewConfigOptions&&(0,f.jsx)(n.viewConfigOptions,{}),(0,f.jsx)(Vr,{})]}),(0,f.jsx)(Fr,{title:(0,l.__)("Properties"),children:(0,f.jsx)(Or,{})})]})})})}function Lr({defaultLayouts:e={list:{},grid:{},table:{}}}){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(jr,{defaultLayouts:e}),(0,f.jsx)(Tr,{})]})}const Br=(0,s.memo)(Lr),Dr={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:function(e,t){if(""===e)return!1;if(!Number.isInteger(Number(e)))return!1;if(t?.elements){const n=t?.elements.map(e=>e.value);if(!n.includes(Number(e)))return!1}return!0},Edit:"integer"},Rr={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:function(e,t){if(t?.elements){const n=t?.elements?.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:"text"},Hr={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:function(e,t){if(t?.elements){const n=t?.elements.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:"datetime"},zr={datetime:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:r,label:l}=t,a=t.getValue({item:e}),o=(0,s.useCallback)(e=>n({[r]:e}),[r,n]);return(0,f.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!i&&(0,f.jsx)(c.BaseControl.VisualLabel,{as:"legend",children:l}),i&&(0,f.jsx)(c.VisuallyHidden,{as:"legend",children:l}),(0,f.jsx)(c.TimePicker,{currentTime:a,onChange:o,hideLabelFromVision:!0})]})},integer:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){var r;const{id:l,label:a,description:o}=t,u=null!==(r=t.getValue({item:e}))&&void 0!==r?r:"",d=(0,s.useCallback)(e=>n({[l]:Number(e)}),[l,n]);return(0,f.jsx)(c.__experimentalNumberControl,{label:a,help:o,value:u,onChange:d,__next40pxDefaultSize:!0,hideLabelFromVision:i})},radio:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:r,label:l}=t,a=t.getValue({item:e}),o=(0,s.useCallback)(e=>n({[r]:e}),[r,n]);return t.elements?(0,f.jsx)(c.RadioControl,{label:l,onChange:o,options:t.elements,selected:a,hideLabelFromVision:i}):null},select:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){var r,a;const{id:o,label:u}=t,d=null!==(r=t.getValue({item:e}))&&void 0!==r?r:"",m=(0,s.useCallback)(e=>n({[o]:e}),[o,n]),v=[{label:(0,l.__)("Select item"),value:""},...null!==(a=t?.elements)&&void 0!==a?a:[]];return(0,f.jsx)(c.SelectControl,{label:u,value:d,options:v,onChange:m,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})},text:function({data:e,field:t,onChange:n,hideLabelFromVision:i}){const{id:r,label:l,placeholder:a}=t,o=t.getValue({item:e}),u=(0,s.useCallback)(e=>n({[r]:e}),[r,n]);return(0,f.jsx)(c.TextControl,{label:l,placeholder:a,value:null!=o?o:"",onChange:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:i})}};function $r(e){if(Object.keys(zr).includes(e))return zr[e];throw"Control "+e+" not found"}const Ur=e=>e.id,Kr=()=>!0,Wr=[];function Gr({view:e,onChangeView:t,fields:n,search:i=!0,searchLabel:r,actions:l=Wr,data:a,getItemId:o=Ur,getItemLevel:d,isLoading:m=!1,paginationInfo:v,defaultLayouts:p,selection:g,onChangeSelection:h,onClickItem:_,isItemClickable:x=Kr,header:w}){const[b,y]=(0,s.useState)(0),C=(0,u.useResizeObserver)(e=>{y(e[0].borderBoxSize[0].inlineSize)},{box:"border-box"}),[S,j]=(0,s.useState)([]),E=void 0===g||void 0===h,I=E?S:g,[k,V]=(0,s.useState)(null),A=(0,s.useMemo)(()=>function(e){return e.map(e=>{var t,n,i,r;const s="integer"===(l=e.type)?Dr:"text"===l?Rr:"datetime"===l?Hr:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:(e,t)=>{if(t?.elements){const n=t?.elements?.map(e=>e.value);if(!n.includes(e))return!1}return!0},Edit:()=>null};var l;const a=e.getValue||(o=e.id,({item:e})=>{const t=o.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var o;const c=null!==(t=e.sort)&&void 0!==t?t:function(e,t,n){return s.sort(a({item:e}),a({item:t}),n)},u=null!==(n=e.isValid)&&void 0!==n?n:function(e,t){return s.isValid(a({item:e}),t)},d=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?$r(e.Edit):e.elements?$r("select"):"string"==typeof t.Edit?$r(t.Edit):t.Edit}(e,s),f=e.render||(e.elements?({item:t})=>{const n=a({item:t});return e?.elements?.find(e=>e.value===n)?.label||a({item:t})}:a);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:a,render:f,sort:c,isValid:u,Edit:d,enableHiding:null===(i=e.enableHiding)||void 0===i||i,enableSorting:null===(r=e.enableSorting)||void 0===r||r}})}(n),[n]),P=(0,s.useMemo)(()=>I.filter(e=>a.some(t=>o(t)===e)),[I,a,o]),M=di(A,e),[O,F]=(0,s.useState)(()=>(M||[]).some(e=>e.isPrimary));return(0,f.jsx)(N.Provider,{value:{view:e,onChangeView:t,fields:A,actions:l,data:a,isLoading:m,paginationInfo:v,selection:P,onChangeSelection:function(e){const t="function"==typeof e?e(I):e;E&&j(t),h&&h(t)},openedFilter:k,setOpenedFilter:V,getItemId:o,getItemLevel:d,isItemClickable:x,onClickItem:_,containerWidth:b},children:(0,f.jsxs)("div",{className:"dataviews-wrapper",ref:C,children:[(0,f.jsxs)(c.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,f.jsxs)(c.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[i&&(0,f.jsx)(pr,{label:r}),(0,f.jsx)(fi,{filters:M,view:e,onChangeView:t,setOpenedFilter:V,setIsShowingFilter:F,isShowingFilter:O})]}),(0,f.jsxs)(c.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,f.jsx)(Br,{defaultLayouts:p}),w]})]}),O&&(0,f.jsx)(vi,{}),(0,f.jsx)(cr,{}),(0,f.jsx)(vr,{})]})})}var qr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})}),Yr=(0,f.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(d.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})});const Zr={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},Xr=[{value:"",label:(0,l.__)("Select...","frs-users")},{value:"broker_associate",label:(0,l.__)("Broker Associate","frs-users")},{value:"sales_associate",label:(0,l.__)("Sales Associate","frs-users")},{value:"dual_license",label:(0,l.__)("Dual License","frs-users")},{value:"loan_originator",label:(0,l.__)("Loan Originator","frs-users")},{value:"leadership",label:(0,l.__)("Leadership","frs-users")},{value:"staff",label:(0,l.__)("Staff","frs-users")}],Jr=function({profile:e,roles:t,editUrl:n,onClose:r,onSave:a}){const[u,d]=(0,s.useState)(null),[f,m]=(0,s.useState)(!1),[v,p]=(0,s.useState)(null),[g,h]=(0,s.useState)("contact");(0,s.useEffect)(()=>{e?(d({...e}),p(null),h("contact")):d(null)},[e]);const _=(0,s.useCallback)((e,t)=>{d(n=>({...n,[e]:t}))},[]),x=(e,t)=>{_(e,(e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`})(t))},w=()=>{const e=u.service_areas;if(!e)return[];if(Array.isArray(e))return e;if("string"==typeof e)try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return e.split(",").map(e=>e.trim()).filter(Boolean)}return[]};if(!u)return(0,i.createElement)("div",{className:"frs-profile-detail frs-profile-detail--empty"},(0,i.createElement)("div",{className:"frs-profile-detail--empty-content"},(0,i.createElement)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},(0,i.createElement)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,i.createElement)("circle",{cx:"12",cy:"7",r:"4"})),(0,i.createElement)("p",null,(0,l.__)("Select a profile from the list to edit","frs-users"))));const b=u.headshot_url||u.avatar_url||`https://www.gravatar.com/avatar/${u.email}?s=80&d=mp`,y=t?.[u.select_person_type],C=u.profile_slug||u.user_nicename,S=u.select_person_type||"",j=["broker_associate","sales_associate"].includes(S),E=y?.url_prefix||"lo",I=window.frsProfilesAdmin?.hubSiteUrl,k=j?window.frsProfilesAdmin?.realestateSiteUrl:window.frsProfilesAdmin?.lendingSiteUrl,V=window.frsProfilesAdmin?.localSiteUrl,N=I&&C?`${I}${E}/${C}/`:null,A=k&&C?`${k}${E}/${C}/`:null,P=V&&C?`${V}${E}/${C}/`:null,M=!!I,O=!!k&&k!==I;return(0,i.createElement)("div",{className:"frs-profile-detail"},(0,i.createElement)("div",{className:"frs-profile-detail__header"},(0,i.createElement)("div",{className:"frs-profile-detail__header-info"},(0,i.createElement)("img",{src:b,alt:"",className:"frs-profile-detail__avatar"}),(0,i.createElement)("div",null,(0,i.createElement)("h2",{className:"frs-profile-detail__name"},u.first_name," ",u.last_name),(0,i.createElement)("span",{className:"frs-profile-detail__email"},u.email))),(0,i.createElement)("div",{className:"frs-profile-detail__header-actions"},(0,i.createElement)(c.Button,{variant:"primary",icon:qr,onClick:async()=>{m(!0),p(null);try{await o()({path:`/frs-users/v1/profiles/${u.user_id}`,method:"PUT",data:u}),p({status:"success",message:(0,l.__)("Profile saved!","frs-users")}),a&&a(u)}catch(e){p({status:"error",message:e.message||(0,l.__)("Failed to save.","frs-users")})}finally{m(!1)}},disabled:f,isBusy:f},(0,l.__)("Save","frs-users")),M&&N&&(0,i.createElement)(c.Button,{variant:"secondary",icon:Yr,href:N,target:"_blank",title:(0,l.__)("View on hub site","frs-users")},(0,l.__)("Hub","frs-users")),O&&A&&(0,i.createElement)(c.Button,{variant:M?"tertiary":"secondary",icon:Yr,href:A,target:"_blank",title:j?"c21masters.com":"21stcenturylending.com"},(0,l.__)("Public","frs-users")),!M&&!O&&P&&(0,i.createElement)(c.Button,{variant:"secondary",icon:Yr,href:P,target:"_blank"},(0,l.__)("View","frs-users")),(0,i.createElement)("button",{className:"frs-profile-detail__close",onClick:r},"×"))),v&&(0,i.createElement)(c.Notice,{status:v.status,onRemove:()=>p(null),isDismissible:!0},v.message),(0,i.createElement)("div",{className:"frs-profile-detail__tabs"},["contact","professional","location","social","settings"].map(e=>(0,i.createElement)("button",{key:e,className:"frs-profile-detail__tab "+(g===e?"is-active":""),onClick:()=>h(e)},e.charAt(0).toUpperCase()+e.slice(1)))),(0,i.createElement)("div",{className:"frs-profile-detail__content"},"contact"===g&&(0,i.createElement)("div",{className:"frs-profile-detail__fields"},(0,i.createElement)(c.Flex,{gap:4,wrap:!0},(0,i.createElement)(c.FlexBlock,null,(0,i.createElement)(c.TextControl,{label:(0,l.__)("First Name","frs-users"),value:u.first_name||"",onChange:e=>_("first_name",e)})),(0,i.createElement)(c.FlexBlock,null,(0,i.createElement)(c.TextControl,{label:(0,l.__)("Last Name","frs-users"),value:u.last_name||"",onChange:e=>_("last_name",e)}))),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Email","frs-users"),type:"email",value:u.email||"",onChange:e=>_("email",e)}),(0,i.createElement)(c.Flex,{gap:4,wrap:!0},(0,i.createElement)(c.FlexBlock,null,(0,i.createElement)(c.TextControl,{label:(0,l.__)("Phone","frs-users"),value:u.phone_number||"",onChange:e=>x("phone_number",e),placeholder:"(555) 123-4567"})),(0,i.createElement)(c.FlexBlock,null,(0,i.createElement)(c.TextControl,{label:(0,l.__)("Mobile","frs-users"),value:u.mobile_number||"",onChange:e=>x("mobile_number",e),placeholder:"(555) 123-4567"}))),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Office","frs-users"),value:u.office||"",onChange:e=>_("office",e)})),"professional"===g&&(0,i.createElement)("div",{className:"frs-profile-detail__fields"},(0,i.createElement)(c.TextControl,{label:(0,l.__)("Job Title","frs-users"),value:u.job_title||"",onChange:e=>_("job_title",e)}),(0,i.createElement)(c.Flex,{gap:4,wrap:!0},(0,i.createElement)(c.FlexBlock,null,(0,i.createElement)(c.TextControl,{label:(0,l.__)("NMLS #","frs-users"),value:u.nmls||"",onChange:e=>_("nmls",e)})),(0,i.createElement)(c.FlexBlock,null,(0,i.createElement)(c.TextControl,{label:(0,l.__)("DRE License","frs-users"),value:u.dre_license||"",onChange:e=>_("dre_license",e)}))),(0,i.createElement)(c.TextareaControl,{label:(0,l.__)("Biography","frs-users"),value:u.biography||"",onChange:e=>_("biography",e),rows:5})),"location"===g&&(0,i.createElement)("div",{className:"frs-profile-detail__fields"},(0,i.createElement)(c.TextControl,{label:(0,l.__)("City, State","frs-users"),value:u.city_state||"",onChange:e=>_("city_state",e)}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Region","frs-users"),value:u.region||"",onChange:e=>_("region",e)}),(0,i.createElement)(c.BaseControl,{label:(0,l.__)("Service Areas","frs-users")},(0,i.createElement)("div",{className:"frs-service-areas-grid"},Object.entries(Zr).map(([e,t])=>(0,i.createElement)(c.CheckboxControl,{key:e,label:e,checked:w().includes(e),onChange:t=>((e,t)=>{const n=w();_("service_areas",t?[...n,e]:n.filter(t=>t!==e))})(e,t)}))))),"social"===g&&(0,i.createElement)("div",{className:"frs-profile-detail__fields"},(0,i.createElement)(c.TextControl,{label:(0,l.__)("LinkedIn","frs-users"),type:"url",value:u.linkedin_url||"",onChange:e=>_("linkedin_url",e)}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Facebook","frs-users"),type:"url",value:u.facebook_url||"",onChange:e=>_("facebook_url",e)}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Instagram","frs-users"),type:"url",value:u.instagram_url||"",onChange:e=>_("instagram_url",e)}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Twitter/X","frs-users"),type:"url",value:u.twitter_url||"",onChange:e=>_("twitter_url",e)}),(0,i.createElement)("hr",{style:{margin:"20px 0",borderTop:"1px solid #ddd"}}),(0,i.createElement)("p",{className:"components-base-control__help",style:{marginBottom:"10px"}},(0,l.__)("External Real Estate Profile Links","frs-users")),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Century 21 Profile","frs-users"),type:"url",value:u.century21_url||"",onChange:e=>_("century21_url",e),placeholder:"https://www.century21.com/real-estate-agent/..."}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Zillow Profile","frs-users"),type:"url",value:u.zillow_url||"",onChange:e=>_("zillow_url",e),placeholder:"https://www.zillow.com/profile/..."})),"settings"===g&&(0,i.createElement)("div",{className:"frs-profile-detail__fields"},(0,i.createElement)(c.ToggleControl,{label:(0,l.__)("Active","frs-users"),help:(0,l.__)("Show in public directories","frs-users"),checked:u.is_active,onChange:e=>_("is_active",e)}),(0,i.createElement)(c.SelectControl,{label:(0,l.__)("Profile Type","frs-users"),value:u.select_person_type||"",options:Xr,onChange:e=>_("select_person_type",e)}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Profile Slug","frs-users"),value:u.profile_slug||"",onChange:e=>_("profile_slug",e),help:(0,l.__)("URL identifier","frs-users")}),(0,i.createElement)(c.TextControl,{label:(0,l.__)("Apply Now URL","frs-users"),type:"url",value:u.arrive||"",onChange:e=>_("arrive",e)}))))},Qr={loan_originator:(0,l.__)("Loan Originator","frs-users"),broker_associate:(0,l.__)("Broker Associate","frs-users"),sales_associate:(0,l.__)("Sales Associate","frs-users"),escrow_officer:(0,l.__)("Escrow Officer","frs-users"),property_manager:(0,l.__)("Property Manager","frs-users"),partner:(0,l.__)("Partner","frs-users"),leadership:(0,l.__)("Leadership","frs-users"),staff:(0,l.__)("Staff","frs-users")},es=document.getElementById("frs-profiles-admin-root");es&&(0,s.render)((0,i.createElement)(function(){const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,u]=(0,s.useState)(null),[d,f]=(0,s.useState)([]),[m,v]=(0,s.useState)(!0),[p,g]=(0,s.useState)({type:"list",perPage:50,page:1,sort:{field:"name",direction:"asc"},search:"",filters:[],fields:["avatar","name","role","status"]});(0,s.useEffect)(()=>{r(!0),o()({path:"/frs-users/v1/profiles?per_page=1000"}).then(e=>{const n=e.data||e;t(Array.isArray(n)?n:[]),r(!1)}).catch(e=>{console.error("Error fetching profiles:",e),r(!1)})},[]);const h=(0,s.useMemo)(()=>[{id:"avatar",header:"",getValue:({item:e})=>e.avatar_url||"",render:({item:e})=>{const t=e.avatar_url||`https://www.gravatar.com/avatar/${e.email}?s=40&d=mp`;return(0,i.createElement)("div",{className:"frs-avatar"},(0,i.createElement)("img",{src:t,alt:""}))},enableHiding:!1,enableSorting:!1,width:50},{id:"name",header:(0,l.__)("Name","frs-users"),getValue:({item:e})=>e.display_name||`${e.first_name} ${e.last_name}`,render:({item:e})=>{const t=d.includes(String(e.user_id))||d.includes(e.user_id);return(0,i.createElement)("div",{className:"frs-list-item "+(t?"frs-list-item--selected":"")},(0,i.createElement)("span",{className:"frs-list-item__name"},e.display_name||`${e.first_name} ${e.last_name}`),e.job_title&&(0,i.createElement)("span",{className:"frs-list-item__subtitle"},e.job_title))},enableHiding:!1,enableSorting:!0},{id:"email",header:(0,l.__)("Email","frs-users"),getValue:({item:e})=>e.email,render:({item:e})=>(0,i.createElement)("a",{href:`mailto:${e.email}`,className:"frs-email-link"},e.email),enableSorting:!0},{id:"role",header:(0,l.__)("Role","frs-users"),getValue:({item:e})=>Qr[e.select_person_type]||e.select_person_type,render:({item:e})=>{const t=Qr[e.select_person_type]||e.select_person_type;return t?(0,i.createElement)("span",{className:"frs-role-badge frs-role-badge--small"},t):(0,i.createElement)("span",{className:"frs-empty"},"—")},elements:Object.keys(Qr).map(e=>({value:e,label:Qr[e]})),filterBy:{operators:["isAny"]},enableSorting:!0},{id:"nmls",header:(0,l.__)("NMLS","frs-users"),getValue:({item:e})=>e.nmls||"—",enableSorting:!0},{id:"dre_license",header:(0,l.__)("DRE License","frs-users"),getValue:({item:e})=>e.dre_license||"—",enableSorting:!0},{id:"office",header:(0,l.__)("Office","frs-users"),getValue:({item:e})=>e.office||e.city_state||"—",enableSorting:!0},{id:"phone",header:(0,l.__)("Phone","frs-users"),getValue:({item:e})=>e.phone_number||e.mobile_number||"—",render:({item:e})=>{const t=e.phone_number||e.mobile_number;return t?(0,i.createElement)("a",{href:`tel:${t}`,className:"frs-phone-link"},t):(0,i.createElement)("span",{className:"frs-empty"},"—")}},{id:"branch",header:(0,l.__)("Branch/Region","frs-users"),getValue:({item:e})=>e.region||e.city_state||e.office||"—",render:({item:e})=>{const t=e.region||e.city_state||e.office;return t?(0,i.createElement)("span",null,t):(0,i.createElement)("span",{className:"frs-empty"},"—")},enableSorting:!0},{id:"status",header:(0,l.__)("Status","frs-users"),getValue:({item:e})=>e.is_active?(0,l.__)("Active","frs-users"):(0,l.__)("Inactive","frs-users"),render:({item:e})=>{const t=e.is_active?"frs-status-badge--active":"frs-status-badge--inactive",n=window.frsProfilesAdmin.roles[e.select_person_type],r=e.profile_slug||e.user_nicename,s=n?n.url_prefix:"lo",a=e.select_person_type||"",o=window.frsProfilesAdmin.hubSiteUrl,u=["broker_associate","sales_associate"].includes(a),d=u?window.frsProfilesAdmin.realestateSiteUrl:window.frsProfilesAdmin.lendingSiteUrl,f=o?`${o}${s}/${r}/`:null,m=d?`${d}${s}/${r}/`:null,v=`${window.frsProfilesAdmin.localSiteUrl}${s}/${r}/`,p=!!o,g=!!d&&d!==o;return(0,i.createElement)("div",{className:"frs-status-cell"},(0,i.createElement)("span",{className:`frs-status-badge frs-status-badge--small ${t}`},e.is_active?(0,l.__)("Active","frs-users"):(0,l.__)("Inactive","frs-users")),p&&(0,i.createElement)(c.Button,{variant:"secondary",size:"small",href:f,target:"_blank",className:"frs-view-profile-btn",title:(0,l.__)("View on hub site","frs-users")},(0,l.__)("Hub","frs-users")),g&&(0,i.createElement)(c.Button,{variant:p?"tertiary":"secondary",size:"small",href:m,target:"_blank",className:"frs-view-profile-btn",title:u?"c21masters.com":"21stcenturylending.com"},(0,l.__)("Public","frs-users")),!p&&!g&&(0,i.createElement)(c.Button,{variant:"secondary",size:"small",href:v,target:"_blank",className:"frs-view-profile-btn"},(0,l.__)("View","frs-users")))},elements:[{value:1,label:(0,l.__)("Active","frs-users")},{value:0,label:(0,l.__)("Inactive","frs-users")}],filterBy:{operators:["is"]},enableSorting:!0}],[d]),_=(0,s.useCallback)(t=>{if(f(t),t.length>0){const n=t[0],i=e.find(e=>String(e.user_id)===String(n)||String(e.id)===String(n));u(i||null)}else u(null)},[e]),x=(0,s.useMemo)(()=>[{id:"edit",label:(0,l.__)("Edit","frs-users"),isPrimary:!0,supportsBulk:!0,callback:e=>{const t=e[0];window.location.href=`${window.frsProfilesAdmin.profileEditUrl}${t.user_id}`}},{id:"view-profile",label:(0,l.__)("View on Marketing Site","frs-users"),callback:e=>{const t=e[0],n=window.frsProfilesAdmin.roles[t.select_person_type];if(n){const e=t.profile_slug||t.user_nicename,i=t.select_person_type||"",r=["broker_associate","sales_associate"].includes(i)?window.frsProfilesAdmin.realestateSiteUrl||window.frsProfilesAdmin.localSiteUrl:window.frsProfilesAdmin.lendingSiteUrl||window.frsProfilesAdmin.localSiteUrl;window.open(`${r}${n.url_prefix}/${e}/`,"_blank")}}}],[]),w=(0,s.useMemo)(()=>{let t=[...e];if(p.search){const e=p.search.toLowerCase();t=t.filter(t=>{const n=(t.display_name||`${t.first_name} ${t.last_name}`).toLowerCase(),i=(t.email||"").toLowerCase();return n.includes(e)||i.includes(e)})}if(p.filters&&p.filters.length>0&&p.filters.forEach(e=>{if("role"===e.field&&e.value){const n=Array.isArray(e.value)?e.value:[e.value];t=t.filter(e=>n.includes(e.select_person_type))}if("status"===e.field&&void 0!==e.value){const n=Array.isArray(e.value)?e.value:[e.value];t=t.filter(e=>n.includes(e.is_active?1:0))}}),p.sort){const{field:e,direction:n}=p.sort;t.sort((t,i)=>{let r,s;switch(e){case"name":r=t.display_name||`${t.first_name} ${t.last_name}`,s=i.display_name||`${i.first_name} ${i.last_name}`;break;case"email":r=t.email||"",s=i.email||"";break;case"role":r=t.select_person_type||"",s=i.select_person_type||"";break;case"status":r=t.is_active?1:0,s=i.is_active?1:0;break;default:r=t[e]||"",s=i[e]||""}return"string"==typeof r?"asc"===n?r.localeCompare(s):s.localeCompare(r):"asc"===n?r-s:s-r})}return t},[e,p.search,p.filters,p.sort]),b=(0,s.useMemo)(()=>{const e=(p.page-1)*p.perPage;return w.slice(e,e+p.perPage)},[w,p.page,p.perPage]),y=(0,s.useCallback)(e=>e.user_id||e.id,[]);return n?(0,i.createElement)("div",{style:{padding:"40px",textAlign:"center"}},(0,i.createElement)(c.Spinner,null),(0,i.createElement)("p",null,(0,l.__)("Loading profiles...","frs-users"))):(0,i.createElement)("div",{className:"frs-profiles-admin "+(m?"frs-profiles-admin--split":"")},(0,i.createElement)("div",{className:"frs-profiles-header"},(0,i.createElement)("div",{className:"frs-profiles-header__top"},(0,i.createElement)("h1",{className:"wp-heading-inline"},(0,l.__)("FRS Profiles","frs-users")),(0,i.createElement)("span",{className:"frs-profiles-count"},e.length," ",(0,l.__)("total","frs-users")),(0,i.createElement)("a",{href:window.frsProfilesAdmin.addNewUrl,className:"page-title-action"},(0,l.__)("Add New","frs-users"))),(0,i.createElement)("div",{className:"frs-profiles-header__controls"},(0,i.createElement)(c.ToggleControl,{label:(0,l.__)("Split View","frs-users"),checked:m,onChange:v}))),(0,i.createElement)("div",{className:"frs-profiles-content"},(0,i.createElement)("div",{className:"frs-profiles-list"},(0,i.createElement)(Gr,{data:b,fields:h,view:p,onChangeView:g,actions:x,paginationInfo:{totalItems:w.length,totalPages:Math.ceil(w.length/p.perPage)},getItemId:y,selection:d,onChangeSelection:_,defaultLayouts:{list:{},table:{}}})),m&&(0,i.createElement)("div",{className:"frs-profiles-detail"},(0,i.createElement)(Jr,{profile:a,roles:window.frsProfilesAdmin.roles,editUrl:window.frsProfilesAdmin.profileEditUrl,onClose:()=>u(null),onSave:e=>{t(t=>t.map(t=>t.user_id===e.user_id?e:t)),u(e)}}))))},null),es)},609(e){"use strict";e.exports=window.React},731(e){var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),i=new RegExp(n,"g"),r=new RegExp(n,"");function s(e){return t[e]}var l=function(e){return e.replace(i,s)};e.exports=l,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=l},848(e,t,n){"use strict";e.exports=n(20)},888(e,t,n){"use strict";e.exports=n(493)}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,s),n.exports}s.m=i,e=[],s.O=(t,n,i,r)=>{if(!n){var l=1/0;for(u=0;u<e.length;u++){for(var[n,i,r]=e[u],a=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(s.O).every(e=>s.O[e](n[o]))?n.splice(o--,1):(a=!1,r<l&&(l=r));if(a){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var r=Object.create(null);s.r(r);var l={};t=t||[null,n({}),n([]),n(n)];for(var a=2&i&&e;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach(t=>l[t]=()=>e[t]);return l.default=()=>e,s.d(r,l),r},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={57:0,350:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[l,a,o]=n,c=0;if(l.some(t=>0!==e[t])){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(o)var u=o(s)}for(t&&t(n);c<l.length;c++)r=l[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},n=globalThis.webpackChunkfrs_profiles_admin=globalThis.webpackChunkfrs_profiles_admin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=s.O(void 0,[350],()=>s(591));l=s.O(l)})();