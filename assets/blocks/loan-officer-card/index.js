(()=>{"use strict";var e={n:s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return e.d(r,{a:r}),r},d:(s,r)=>{for(var l in r)e.o(r,l)&&!e.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:r[l]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.blocks,r=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.components,t=window.wp.element,n=window.wp.apiFetch;var i=e.n(n);const o=window.ReactJSXRuntime,d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"frs-users/loan-officer-card","version":"1.0.0","title":"Loan Officer Card","category":"frs-blocks","icon":"businessperson","description":"Display a loan officer profile card with configurable size and details","keywords":["loan officer","profile","card","team"],"textdomain":"frs-users","editorScript":"file:./index.js","viewScript":"file:./view.js","style":"file:./style-index.css","editorStyle":"file:./index.css","render":"file:./render.php","attributes":{"userId":{"type":"number","default":0},"profileId":{"type":"number","default":0},"size":{"type":"string","enum":["small","medium","large"],"default":"medium"},"detailLevel":{"type":"string","enum":["minimal","standard","full"],"default":"standard"},"audience":{"type":"string","enum":["internal","external"],"default":"external"},"showContactButtons":{"type":"boolean","default":true}},"supports":{"html":false,"align":["left","center","right","wide","full"]},"example":{}}');(0,s.registerBlockType)(d.name,{...d,edit:function({attributes:e,setAttributes:s}){const{profileId:n,size:d,detailLevel:c,audience:u,showContactButtons:m}=e,[x,h]=(0,t.useState)(null),[f,p]=(0,t.useState)([]),[b,g]=(0,t.useState)(!1),[j,v]=(0,t.useState)(!0),_=(0,l.useBlockProps)();(0,t.useEffect)(()=>{v(!0),i()({path:"/frs-users/v1/profiles?per_page=100"}).then(e=>{p(e.data||[]),v(!1)}).catch(()=>{v(!1)})},[]),(0,t.useEffect)(()=>{n?(g(!0),i()({path:`/frs-users/v1/profiles/${n}`}).then(e=>{h(e),g(!1)}).catch(()=>{h(null),g(!1)})):h(null)},[n]);const w=f.map(e=>({label:`${e.full_name}${e.nmls_number?" (NMLS# "+e.nmls_number+")":""}${e.city_state?" - "+e.city_state:""}`,value:e.id.toString()}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.InspectorControls,{children:[(0,o.jsx)(a.PanelBody,{title:(0,r.__)("Profile Selection","frs-users"),children:j?(0,o.jsxs)("div",{className:"flex items-center gap-2 py-4",children:[(0,o.jsx)(a.Spinner,{}),(0,o.jsx)("span",{children:(0,r.__)("Loading profiles...","frs-users")})]}):(0,o.jsx)(a.ComboboxControl,{label:(0,r.__)("Select Loan Officer","frs-users"),value:n.toString(),onChange:e=>s({profileId:parseInt(e||"0")||0}),options:[{label:(0,r.__)("-- Select a profile --","frs-users"),value:"0"},...w],help:(0,r.__)("Search and select a loan officer to display","frs-users")})}),(0,o.jsxs)(a.PanelBody,{title:(0,r.__)("Display Settings","frs-users"),initialOpen:!1,children:[(0,o.jsx)(a.SelectControl,{label:(0,r.__)("Card Size","frs-users"),value:d,options:[{label:(0,r.__)("Small","frs-users"),value:"small"},{label:(0,r.__)("Medium","frs-users"),value:"medium"},{label:(0,r.__)("Large","frs-users"),value:"large"}],onChange:e=>s({size:e})}),(0,o.jsx)(a.SelectControl,{label:(0,r.__)("Detail Level","frs-users"),value:c,options:[{label:(0,r.__)("Minimal","frs-users"),value:"minimal"},{label:(0,r.__)("Standard","frs-users"),value:"standard"},{label:(0,r.__)("Full","frs-users"),value:"full"}],onChange:e=>s({detailLevel:e})}),(0,o.jsx)(a.SelectControl,{label:(0,r.__)("Audience","frs-users"),value:u,options:[{label:(0,r.__)("External (Public)","frs-users"),value:"external"},{label:(0,r.__)("Internal (Staff)","frs-users"),value:"internal"}],onChange:e=>s({audience:e})}),(0,o.jsx)(a.ToggleControl,{label:(0,r.__)("Show Contact Buttons","frs-users"),checked:m,onChange:e=>s({showContactButtons:e})})]})]}),(0,o.jsxs)("div",{..._,children:[b&&(0,o.jsxs)("div",{className:"flex items-center justify-center p-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[(0,o.jsx)(a.Spinner,{}),(0,o.jsx)("span",{className:"ml-2",children:(0,r.__)("Loading profile...","frs-users")})]}),!b&&!x&&(0,o.jsx)("div",{className:"p-12 border-2 border-dashed border-gray-300 rounded-lg text-center bg-gradient-to-br from-blue-50 to-purple-50",children:(0,o.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,o.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:(0,o.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(0,r.__)("Loan Officer Card","frs-users")}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:(0,r.__)("Select a loan officer from the sidebar to display their profile card","frs-users")}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:[w.length," ",(0,r.__)("profiles available","frs-users")]})]})}),!b&&x&&(0,o.jsxs)("div",{className:"loan-officer-card-preview",children:[(0,o.jsxs)("div",{className:`\n\t\t\t\t\t\t\t\tmax-w-2xl mx-auto rounded-2xl overflow-hidden shadow-xl\n\t\t\t\t\t\t\t\t${"internal"===u?"border-2 border-blue-200 bg-blue-50":"bg-white border border-gray-200"}\n\t\t\t\t\t\t\t`,children:[(0,o.jsx)("div",{className:"h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 relative",children:(0,o.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"})}),(0,o.jsxs)("div",{className:"px-8 pb-8 -mt-16 relative",children:[(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)("div",{className:"w-32 h-32 rounded-full border-4 border-white shadow-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold text-3xl overflow-hidden",style:{backgroundImage:x.headshot_url?`url(${x.headshot_url})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:!x.headshot_url&&(y=x.first_name,N=x.last_name,`${y?.charAt(0)||""}${N?.charAt(0)||""}`.toUpperCase())})}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:x.full_name}),x.job_title&&(0,o.jsx)("p",{className:"text-lg text-gray-600 mb-2",children:x.job_title}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[x.nmls_number&&(0,o.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border border-blue-200",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})}),"NMLS# ",x.nmls_number]}),x.city_state&&(0,o.jsxs)("span",{className:"inline-flex items-center text-sm text-gray-600",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"})}),x.city_state]})]})]}),"full"===c&&x.biography&&(0,o.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:(0,o.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:x.biography})}),"minimal"!==c&&(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:[x.email&&(0,o.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,o.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:(0,r.__)("Email","frs-users")}),(0,o.jsx)("p",{className:"text-sm text-gray-900 truncate",children:x.email})]})]}),(x.mobile_number||x.phone_number)&&(0,o.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,o.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,o.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:(0,r.__)("Phone","frs-users")}),(0,o.jsx)("p",{className:"text-sm text-gray-900",children:x.mobile_number||x.phone_number})]})]})]}),"minimal"!==c&&x.specialties_lo&&x.specialties_lo.length>0&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,o.jsxs)("svg",{className:"w-4 h-4 mr-2 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,o.jsx)("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})]}),(0,r.__)("Specialties","frs-users")]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:x.specialties_lo.map((e,s)=>(0,o.jsx)("span",{className:"px-3 py-1.5 text-sm bg-purple-100 text-purple-800 rounded-full border border-purple-200 font-medium",children:e},s))})]}),"full"===c&&x.languages&&x.languages.length>0&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-2 text-cyan-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.087 17.087 0 003.13-3.733 18.992 18.992 0 01-1.487-2.494 1 1 0 111.79-.89c.234.47.489.928.764 1.372.417-.934.752-1.913.997-2.927H3a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 01.894.553l2.991 5.982a.869.869 0 01.02.037l.99 1.98a1 1 0 11-1.79.895L15.383 16h-4.764l-.724 1.447a1 1 0 11-1.788-.894l.99-1.98.019-.038 2.99-5.982A1 1 0 0113 8zm-1.382 6h2.764L13 11.236 11.618 14z"})}),(0,r.__)("Languages","frs-users")]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:x.languages.map((e,s)=>(0,o.jsx)("span",{className:"px-3 py-1.5 text-sm border-2 border-cyan-200 text-cyan-800 rounded-full font-medium",children:e},s))})]}),m&&(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(x.mobile_number||x.phone_number)&&(0,o.jsxs)("button",{className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-cyan-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,o.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,r.__)("Call Now","frs-users")]}),x.email&&(0,o.jsxs)("button",{className:"flex-1 inline-flex items-center justify-center px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-blue-500 hover:text-blue-600 transition-all",children:[(0,o.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,r.__)("Send Email","frs-users")]})]})]})]}),(0,o.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,o.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,o.jsx)("strong",{children:(0,r.__)("Editor Preview:","frs-users")})," ",(0,r.__)("Displaying","frs-users")," ",(0,o.jsx)("strong",{children:d})," ",(0,r.__)("size with","frs-users")," ",(0,o.jsx)("strong",{children:c})," ",(0,r.__)("details for","frs-users")," ",(0,o.jsx)("strong",{children:u})," ",(0,r.__)("audience","frs-users")]})})]})]})]});var y,N},save:()=>null})})();