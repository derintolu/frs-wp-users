(()=>{"use strict";var e={n:s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return e.d(r,{a:r}),r},d:(s,r)=>{for(var t in r)e.o(r,t)&&!e.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:r[t]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.element,r=window.wp.apiFetch;var t=e.n(r);const l=window.ReactJSXRuntime;function a({attributes:e}){const{personType:r,region:a,cardSize:n,detailLevel:i,audience:o,showFilters:d,showContactButtons:c,perPage:x}=e,[m,h]=(0,s.useState)([]),[u,g]=(0,s.useState)(!0),[p,f]=(0,s.useState)(null),[b,j]=(0,s.useState)(r),[v,y]=(0,s.useState)(a);(0,s.useEffect)(()=>{g(!0),f(null);const e=new URLSearchParams({per_page:x.toString()});b&&e.append("type",b),t()({path:`/frs-users/v1/profiles?${e.toString()}`}).then(e=>{let s=e.data||[];v&&(s=s.filter(e=>e.region===v)),h(s),g(!1)}).catch(e=>{f(e.message),g(!1)})},[b,v,x]);const N={small:"max-w-xs",medium:"max-w-md",large:"max-w-2xl"}[n],w={small:"h-12 w-12 text-sm",medium:"h-16 w-16 text-base",large:"h-20 w-20 text-lg"}[n],_={small:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",medium:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",large:"grid-cols-1 lg:grid-cols-2"}[n];return(0,l.jsxs)("div",{className:"loan-officer-directory",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Loan Officer Directory"}),u&&(0,l.jsx)("p",{className:"text-gray-600",children:"Loading..."}),!u&&(0,l.jsxs)("p",{className:"text-gray-600",children:[m.length," ",1===m.length?"officer":"officers"," found"]})]}),d&&(0,l.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Person Type"}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:b,onChange:e=>j(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"All Types"}),(0,l.jsx)("option",{value:"loan_officer",children:"Loan Officer"}),(0,l.jsx)("option",{value:"realtor",children:"Realtor"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:v,onChange:e=>y(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"All Regions"}),(0,l.jsx)("option",{value:"pacific",children:"Pacific"}),(0,l.jsx)("option",{value:"mountain",children:"Mountain"}),(0,l.jsx)("option",{value:"southwest",children:"Southwest"})]})]})]})}),u&&(0,l.jsxs)("div",{className:"flex items-center justify-center p-12",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,l.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading profiles..."})]}),p&&(0,l.jsxs)("div",{className:"p-6 border-2 border-red-300 bg-red-50 rounded-lg text-center",children:[(0,l.jsx)("p",{className:"text-red-700 font-semibold",children:"Error loading profiles"}),(0,l.jsx)("p",{className:"text-sm text-red-600 mt-2",children:p})]}),!u&&!p&&0===m.length&&(0,l.jsxs)("div",{className:"p-12 border-2 border-dashed border-gray-300 rounded-lg text-center",children:[(0,l.jsx)("p",{className:"text-gray-600 font-semibold",children:"No loan officers found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting the filters above"})]}),!u&&!p&&m.length>0&&(0,l.jsx)("div",{className:`grid gap-6 ${_}`,children:m.map(e=>{return(0,l.jsx)("div",{className:`${N} border rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 border-gray-200 bg-white overflow-hidden`,children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:`flex ${"large"===n?"flex-row":"flex-col"} gap-3 items-center`,children:[e.headshot_url?(0,l.jsx)("img",{src:e.headshot_url,alt:e.full_name,className:`${w} rounded-full object-cover border-2 border-blue-100 flex-shrink-0`}):(0,l.jsx)("div",{className:`${w} rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold flex-shrink-0`,children:(s=e.first_name,r=e.last_name,`${s?.charAt(0)||""}${r?.charAt(0)||""}`.toUpperCase())}),(0,l.jsxs)("div",{className:"flex-1 "+("large"===n?"text-left":"text-center"),children:[(0,l.jsx)("h3",{className:`font-bold ${"small"===n?"text-sm":"medium"===n?"text-base":"text-lg"} text-gray-900`,children:e.full_name}),e.job_title&&(0,l.jsx)("p",{className:"text-gray-600 text-xs mt-1",children:e.job_title}),e.nmls_number&&"minimal"!==i&&(0,l.jsxs)("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:["NMLS# ",e.nmls_number]})]})]}),"minimal"!==i&&(0,l.jsxs)("div",{className:"mt-3 space-y-1",children:[e.city_state&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,l.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,l.jsx)("span",{children:e.city_state})]}),e.email&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,l.jsx)("a",{href:`mailto:${e.email}`,className:"text-blue-600 hover:underline",children:e.email})]})]}),"minimal"!==i&&e.specialties_lo&&e.specialties_lo.length>0&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.specialties_lo.slice(0,"large"===n?4:2).map((e,s)=>(0,l.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:e},s))})}),c&&(0,l.jsxs)("div",{className:"mt-4 flex gap-2",children:[e.phone_number&&(0,l.jsx)("a",{href:`tel:${e.phone_number}`,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-medium hover:bg-blue-700 transition-colors text-center",children:"Call"}),e.email&&(0,l.jsx)("a",{href:`mailto:${e.email}`,className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors text-center",children:"Email"})]})]})},e.id);var s,r})})]})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-frs-users-loan-officer-directory").forEach(e=>{const r=e,t=JSON.parse(r.dataset.attributes||"{}");(0,s.createRoot)(r).render((0,l.jsx)(a,{attributes:t}))})})})();