import{r as v,R as na,a as ia,c as Ce,j as d,b as xe,X as yt,u as oa,B as je,E as sa,P as la,S as kt,d as da,e as ca,f as ua,g as er}from"./index-bb125315.js";/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Y.apply(this,arguments)}var ae;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ae||(ae={}));const tr="popstate";function fa(e){e===void 0&&(e={});function t(a,n){let{pathname:s,search:i,hash:u}=a.location;return at("",{pathname:s,search:i,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ot(n)}return ma(t,r,null,e)}function I(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $e(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ha(){return Math.random().toString(36).substr(2,8)}function rr(e,t){return{usr:e.state,key:e.key,idx:t}}function at(e,t,r,a){return r===void 0&&(r=null),Y({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ke(t):t,{state:r,key:t&&t.key||a||ha()})}function ot(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ke(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function ma(e,t,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:s=!1}=a,i=n.history,u=ae.Pop,l=null,f=g();f==null&&(f=0,i.replaceState(Y({},i.state,{idx:f}),""));function g(){return(i.state||{idx:null}).idx}function m(){u=ae.Pop;let x=g(),U=x==null?null:x-f;f=x,l&&l({action:u,location:P.location,delta:U})}function w(x,U){u=ae.Push;let L=at(P.location,x,U);r&&r(L,x),f=g()+1;let H=rr(L,f),J=P.createHref(L);try{i.pushState(H,"",J)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;n.location.assign(J)}s&&l&&l({action:u,location:P.location,delta:1})}function y(x,U){u=ae.Replace;let L=at(P.location,x,U);r&&r(L,x),f=g();let H=rr(L,f),J=P.createHref(L);i.replaceState(H,"",J),s&&l&&l({action:u,location:P.location,delta:0})}function N(x){let U=n.location.origin!=="null"?n.location.origin:n.location.href,L=typeof x=="string"?x:ot(x);return L=L.replace(/ $/,"%20"),I(U,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,U)}let P={get action(){return u},get location(){return e(n,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(tr,m),l=x,()=>{n.removeEventListener(tr,m),l=null}},createHref(x){return t(n,x)},createURL:N,encodeLocation(x){let U=N(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:y,go(x){return i.go(x)}};return P}var $;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($||($={}));const pa=new Set(["lazy","caseSensitive","path","id","index","children"]);function ga(e){return e.index===!0}function bt(e,t,r,a){return r===void 0&&(r=[]),a===void 0&&(a={}),e.map((n,s)=>{let i=[...r,String(s)],u=typeof n.id=="string"?n.id:i.join("-");if(I(n.index!==!0||!n.children,"Cannot specify children on an index route"),I(!a[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),ga(n)){let l=Y({},n,t(n),{id:u});return a[u]=l,l}else{let l=Y({},n,t(n),{id:u,children:void 0});return a[u]=l,n.children&&(l.children=bt(n.children,t,i,a)),l}})}function ze(e,t,r){return r===void 0&&(r="/"),vt(e,t,r,!1)}function vt(e,t,r,a){let n=typeof t=="string"?ke(t):t,s=st(n.pathname||"/",r);if(s==null)return null;let i=Rr(e);va(i);let u=null;for(let l=0;u==null&&l<i.length;++l){let f=Ca(s);u=_a(i[l],f,a)}return u}function ya(e,t){let{route:r,pathname:a,params:n}=e;return{id:r.id,pathname:a,params:n,data:t[r.id],handle:r.handle}}function Rr(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(s,i,u)=>{let l={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(I(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(a.length));let f=De([a,l.relativePath]),g=r.concat(l);s.children&&s.children.length>0&&(I(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Rr(s.children,t,g,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:Na(f,s.index),routesMeta:g})};return e.forEach((s,i)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))n(s,i);else for(let l of Cr(s.path))n(s,i,l)}),t}function Cr(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(a.length===0)return n?[s,""]:[s];let i=Cr(a.join("/")),u=[];return u.push(...i.map(l=>l===""?s:[s,l].join("/"))),n&&u.push(...i),u.map(l=>e.startsWith("/")&&l===""?"/":l)}function va(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ea(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const ba=/^:[\w-]+$/,wa=3,xa=2,ja=1,Pa=10,Sa=-2,ar=e=>e==="*";function Na(e,t){let r=e.split("/"),a=r.length;return r.some(ar)&&(a+=Sa),t&&(a+=xa),r.filter(n=>!ar(n)).reduce((n,s)=>n+(ba.test(s)?wa:s===""?ja:Pa),a)}function Ea(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function _a(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,n={},s="/",i=[];for(let u=0;u<a.length;++u){let l=a[u],f=u===a.length-1,g=s==="/"?t:t.slice(s.length)||"/",m=nr({path:l.relativePath,caseSensitive:l.caseSensitive,end:f},g),w=l.route;if(!m&&f&&r&&!a[a.length-1].route.index&&(m=nr({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},g)),!m)return null;Object.assign(n,m.params),i.push({params:n,pathname:De([s,m.pathname]),pathnameBase:Ta(De([s,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(s=De([s,m.pathnameBase]))}return i}function nr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Ra(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],i=s.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:a.reduce((f,g,m)=>{let{paramName:w,isOptional:y}=g;if(w==="*"){let P=u[m]||"";i=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const N=u[m];return y&&!N?f[w]=void 0:f[w]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:i,pattern:e}}function Ra(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$e(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,l)=>(a.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Ca(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $e(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function st(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const ka=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,La=e=>ka.test(e);function Ma(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?ke(e):e,s;if(r)if(La(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),$e(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?s=ir(r.substring(1),"/"):s=ir(r,t)}else s=t;return{pathname:s,search:Fa(a),hash:Da(n)}}function ir(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Lt(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kr(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function It(e,t){let r=kr(e);return t?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Ot(e,t,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=ke(e):(n=Y({},e),I(!n.pathname||!n.pathname.includes("?"),Lt("?","pathname","search",n)),I(!n.pathname||!n.pathname.includes("#"),Lt("#","pathname","hash",n)),I(!n.search||!n.search.includes("#"),Lt("#","search","hash",n)));let s=e===""||n.pathname==="",i=s?"/":n.pathname,u;if(i==null)u=r;else{let m=t.length-1;if(!a&&i.startsWith("..")){let w=i.split("/");for(;w[0]==="..";)w.shift(),m-=1;n.pathname=w.join("/")}u=m>=0?t[m]:"/"}let l=Ma(n,u),f=i&&i!=="/"&&i.endsWith("/"),g=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(f||g)&&(l.pathname+="/"),l}const De=e=>e.join("/").replace(/\/\/+/g,"/"),Ta=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fa=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Da=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class wt{constructor(t,r,a,n){n===void 0&&(n=!1),this.status=t,this.statusText=r||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function nt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lr=["post","put","patch","delete"],Ua=new Set(Lr),Ia=["get",...Lr],Oa=new Set(Ia),Aa=new Set([301,302,303,307,308]),za=new Set([307,308]),Mt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ba={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ze={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},At=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Mr="remix-router-transitions";function $a(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!r;I(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n;if(e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){let o=e.detectErrorBoundary;n=c=>({hasErrorBoundary:o(c)})}else n=Wa;let s={},i=bt(e.routes,n,void 0,s),u,l=e.basename||"/",f=e.dataStrategy||Ja,g=e.patchRoutesOnNavigation,m=Y({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),w=null,y=new Set,N=null,P=null,x=null,U=e.hydrationData!=null,L=ze(i,e.history.location,l),H=!1,J=null;if(L==null&&!g){let o=pe(404,{pathname:e.history.location.pathname}),{matches:c,route:h}=gr(i);L=c,J={[h.id]:o}}L&&!e.hydrationData&&ft(L,i,e.history.location.pathname).active&&(L=null);let X;if(L)if(L.some(o=>o.route.lazy))X=!1;else if(!L.some(o=>o.route.loader))X=!0;else if(m.v7_partialHydration){let o=e.hydrationData?e.hydrationData.loaderData:null,c=e.hydrationData?e.hydrationData.errors:null;if(c){let h=L.findIndex(b=>c[b.route.id]!==void 0);X=L.slice(0,h+1).every(b=>!Dt(b.route,o,c))}else X=L.every(h=>!Dt(h.route,o,c))}else X=e.hydrationData!=null;else if(X=!1,L=[],m.v7_partialHydration){let o=ft(null,i,e.history.location.pathname);o.active&&o.matches&&(H=!0,L=o.matches)}let Se,p={historyAction:e.history.action,location:e.history.location,matches:L,initialized:X,navigation:Mt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||J,fetchers:new Map,blockers:new Map},M=ae.Pop,W=!1,T,ne=!1,q=new Map,se=null,ie=!1,S=!1,K=[],re=new Set,G=new Map,ge=0,we=-1,ye=new Map,he=new Set,ue=new Map,be=new Map,fe=new Set,A=new Map,Z=new Map,le;function me(){if(w=e.history.listen(o=>{let{action:c,location:h,delta:b}=o;if(le){le(),le=void 0;return}$e(Z.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let j=Yt({currentLocation:p.location,nextLocation:h,historyAction:c});if(j&&b!=null){let k=new Promise(F=>{le=F});e.history.go(b*-1),ut(j,{state:"blocked",location:h,proceed(){ut(j,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),k.then(()=>e.history.go(b))},reset(){let F=new Map(p.blockers);F.set(j,Ze),de({blockers:F})}});return}return Ie(c,h)}),r){ln(t,q);let o=()=>dn(t,q);t.addEventListener("pagehide",o),se=()=>t.removeEventListener("pagehide",o)}return p.initialized||Ie(ae.Pop,p.location,{initialHydration:!0}),Se}function Q(){w&&w(),se&&se(),y.clear(),T&&T.abort(),p.fetchers.forEach((o,c)=>ct(c)),p.blockers.forEach((o,c)=>Kt(c))}function Ne(o){return y.add(o),()=>y.delete(o)}function de(o,c){c===void 0&&(c={}),p=Y({},p,o);let h=[],b=[];m.v7_fetcherPersist&&p.fetchers.forEach((j,k)=>{j.state==="idle"&&(fe.has(k)?b.push(k):h.push(k))}),fe.forEach(j=>{!p.fetchers.has(j)&&!G.has(j)&&b.push(j)}),[...y].forEach(j=>j(p,{deletedFetchers:b,viewTransitionOpts:c.viewTransitionOpts,flushSync:c.flushSync===!0})),m.v7_fetcherPersist?(h.forEach(j=>p.fetchers.delete(j)),b.forEach(j=>ct(j))):b.forEach(j=>fe.delete(j))}function He(o,c,h){var b,j;let{flushSync:k}=h===void 0?{}:h,F=p.actionData!=null&&p.navigation.formMethod!=null&&Pe(p.navigation.formMethod)&&p.navigation.state==="loading"&&((b=o.state)==null?void 0:b._isRedirect)!==!0,_;c.actionData?Object.keys(c.actionData).length>0?_=c.actionData:_=null:F?_=p.actionData:_=null;let R=c.loaderData?mr(p.loaderData,c.loaderData,c.matches||[],c.errors):p.loaderData,E=p.blockers;E.size>0&&(E=new Map(E),E.forEach((O,ce)=>E.set(ce,Ze)));let C=W===!0||p.navigation.formMethod!=null&&Pe(p.navigation.formMethod)&&((j=o.state)==null?void 0:j._isRedirect)!==!0;u&&(i=u,u=void 0),ie||M===ae.Pop||(M===ae.Push?e.history.push(o,o.state):M===ae.Replace&&e.history.replace(o,o.state));let D;if(M===ae.Pop){let O=q.get(p.location.pathname);O&&O.has(o.pathname)?D={currentLocation:p.location,nextLocation:o}:q.has(o.pathname)&&(D={currentLocation:o,nextLocation:p.location})}else if(ne){let O=q.get(p.location.pathname);O?O.add(o.pathname):(O=new Set([o.pathname]),q.set(p.location.pathname,O)),D={currentLocation:p.location,nextLocation:o}}de(Y({},c,{actionData:_,loaderData:R,historyAction:M,location:o,initialized:!0,navigation:Mt,revalidation:"idle",restoreScrollPosition:Qt(o,c.matches||p.matches),preventScrollReset:C,blockers:E}),{viewTransitionOpts:D,flushSync:k===!0}),M=ae.Pop,W=!1,ne=!1,ie=!1,S=!1,K=[]}async function Wt(o,c){if(typeof o=="number"){e.history.go(o);return}let h=Ft(p.location,p.matches,l,m.v7_prependBasename,o,m.v7_relativeSplatPath,c==null?void 0:c.fromRouteId,c==null?void 0:c.relative),{path:b,submission:j,error:k}=or(m.v7_normalizeFormMethod,!1,h,c),F=p.location,_=at(p.location,b,c&&c.state);_=Y({},_,e.history.encodeLocation(_));let R=c&&c.replace!=null?c.replace:void 0,E=ae.Push;R===!0?E=ae.Replace:R===!1||j!=null&&Pe(j.formMethod)&&j.formAction===p.location.pathname+p.location.search&&(E=ae.Replace);let C=c&&"preventScrollReset"in c?c.preventScrollReset===!0:void 0,D=(c&&c.flushSync)===!0,O=Yt({currentLocation:F,nextLocation:_,historyAction:E});if(O){ut(O,{state:"blocked",location:_,proceed(){ut(O,{state:"proceeding",proceed:void 0,reset:void 0,location:_}),Wt(o,c)},reset(){let ce=new Map(p.blockers);ce.set(O,Ze),de({blockers:ce})}});return}return await Ie(E,_,{submission:j,pendingError:k,preventScrollReset:C,replace:c&&c.replace,enableViewTransition:c&&c.viewTransition,flushSync:D})}function Hr(){if(Et(),de({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){Ie(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}Ie(M||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation,enableViewTransition:ne===!0})}}async function Ie(o,c,h){T&&T.abort(),T=null,M=o,ie=(h&&h.startUninterruptedRevalidation)===!0,ea(p.location,p.matches),W=(h&&h.preventScrollReset)===!0,ne=(h&&h.enableViewTransition)===!0;let b=u||i,j=h&&h.overrideNavigation,k=h!=null&&h.initialHydration&&p.matches&&p.matches.length>0&&!H?p.matches:ze(b,c,l),F=(h&&h.flushSync)===!0;if(k&&p.initialized&&!S&&Za(p.location,c)&&!(h&&h.submission&&Pe(h.submission.formMethod))){He(c,{matches:k},{flushSync:F});return}let _=ft(k,b,c.pathname);if(_.active&&_.matches&&(k=_.matches),!k){let{error:V,notFoundMatches:B,route:ee}=_t(c.pathname);He(c,{matches:B,loaderData:{},errors:{[ee.id]:V}},{flushSync:F});return}T=new AbortController;let R=Xe(e.history,c,T.signal,h&&h.submission),E;if(h&&h.pendingError)E=[Be(k).route.id,{type:$.error,error:h.pendingError}];else if(h&&h.submission&&Pe(h.submission.formMethod)){let V=await Vr(R,c,h.submission,k,_.active,{replace:h.replace,flushSync:F});if(V.shortCircuited)return;if(V.pendingActionResult){let[B,ee]=V.pendingActionResult;if(ve(ee)&&nt(ee.error)&&ee.error.status===404){T=null,He(c,{matches:V.matches,loaderData:{},errors:{[B]:ee.error}});return}}k=V.matches||k,E=V.pendingActionResult,j=Tt(c,h.submission),F=!1,_.active=!1,R=Xe(e.history,R.url,R.signal)}let{shortCircuited:C,matches:D,loaderData:O,errors:ce}=await qr(R,c,k,_.active,j,h&&h.submission,h&&h.fetcherSubmission,h&&h.replace,h&&h.initialHydration===!0,F,E);C||(T=null,He(c,Y({matches:D||k},pr(E),{loaderData:O,errors:ce})))}async function Vr(o,c,h,b,j,k){k===void 0&&(k={}),Et();let F=on(c,h);if(de({navigation:F},{flushSync:k.flushSync===!0}),j){let E=await ht(b,c.pathname,o.signal);if(E.type==="aborted")return{shortCircuited:!0};if(E.type==="error"){let C=Be(E.partialMatches).route.id;return{matches:E.partialMatches,pendingActionResult:[C,{type:$.error,error:E.error}]}}else if(E.matches)b=E.matches;else{let{notFoundMatches:C,error:D,route:O}=_t(c.pathname);return{matches:C,pendingActionResult:[O.id,{type:$.error,error:D}]}}}let _,R=rt(b,c);if(!R.route.action&&!R.route.lazy)_={type:$.error,error:pe(405,{method:o.method,pathname:c.pathname,routeId:R.route.id})};else if(_=(await Ke("action",p,o,[R],b,null))[R.route.id],o.signal.aborted)return{shortCircuited:!0};if(We(_)){let E;return k&&k.replace!=null?E=k.replace:E=ur(_.response.headers.get("Location"),new URL(o.url),l)===p.location.pathname+p.location.search,await Oe(o,_,!0,{submission:h,replace:E}),{shortCircuited:!0}}if(Fe(_))throw pe(400,{type:"defer-action"});if(ve(_)){let E=Be(b,R.route.id);return(k&&k.replace)!==!0&&(M=ae.Push),{matches:b,pendingActionResult:[E.route.id,_]}}return{matches:b,pendingActionResult:[R.route.id,_]}}async function qr(o,c,h,b,j,k,F,_,R,E,C){let D=j||Tt(c,k),O=k||F||vr(D),ce=!ie&&(!m.v7_partialHydration||!R);if(b){if(ce){let te=$t(C);de(Y({navigation:D},te!==void 0?{actionData:te}:{}),{flushSync:E})}let z=await ht(h,c.pathname,o.signal);if(z.type==="aborted")return{shortCircuited:!0};if(z.type==="error"){let te=Be(z.partialMatches).route.id;return{matches:z.partialMatches,loaderData:{},errors:{[te]:z.error}}}else if(z.matches)h=z.matches;else{let{error:te,notFoundMatches:qe,route:Qe}=_t(c.pathname);return{matches:qe,loaderData:{},errors:{[Qe.id]:te}}}}let V=u||i,[B,ee]=lr(e.history,p,h,O,c,m.v7_partialHydration&&R===!0,m.v7_skipActionErrorRevalidation,S,K,re,fe,ue,he,V,l,C);if(Rt(z=>!(h&&h.some(te=>te.route.id===z))||B&&B.some(te=>te.route.id===z)),we=++ge,B.length===0&&ee.length===0){let z=Jt();return He(c,Y({matches:h,loaderData:{},errors:C&&ve(C[1])?{[C[0]]:C[1].error}:null},pr(C),z?{fetchers:new Map(p.fetchers)}:{}),{flushSync:E}),{shortCircuited:!0}}if(ce){let z={};if(!b){z.navigation=D;let te=$t(C);te!==void 0&&(z.actionData=te)}ee.length>0&&(z.fetchers=Jr(ee)),de(z,{flushSync:E})}ee.forEach(z=>{Me(z.key),z.controller&&G.set(z.key,z.controller)});let Ve=()=>ee.forEach(z=>Me(z.key));T&&T.signal.addEventListener("abort",Ve);let{loaderResults:Ye,fetcherResults:Re}=await Ht(p,h,B,ee,o);if(o.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Ve),ee.forEach(z=>G.delete(z.key));let Ee=gt(Ye);if(Ee)return await Oe(o,Ee.result,!0,{replace:_}),{shortCircuited:!0};if(Ee=gt(Re),Ee)return he.add(Ee.key),await Oe(o,Ee.result,!0,{replace:_}),{shortCircuited:!0};let{loaderData:Ct,errors:Ge}=hr(p,h,Ye,C,ee,Re,A);A.forEach((z,te)=>{z.subscribe(qe=>{(qe||z.done)&&A.delete(te)})}),m.v7_partialHydration&&R&&p.errors&&(Ge=Y({},p.errors,Ge));let Ae=Jt(),mt=Xt(we),pt=Ae||mt||ee.length>0;return Y({matches:h,loaderData:Ct,errors:Ge},pt?{fetchers:new Map(p.fetchers)}:{})}function $t(o){if(o&&!ve(o[1]))return{[o[0]]:o[1].data};if(p.actionData)return Object.keys(p.actionData).length===0?null:p.actionData}function Jr(o){return o.forEach(c=>{let h=p.fetchers.get(c.key),b=et(void 0,h?h.data:void 0);p.fetchers.set(c.key,b)}),new Map(p.fetchers)}function Xr(o,c,h,b){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Me(o);let j=(b&&b.flushSync)===!0,k=u||i,F=Ft(p.location,p.matches,l,m.v7_prependBasename,h,m.v7_relativeSplatPath,c,b==null?void 0:b.relative),_=ze(k,F,l),R=ft(_,k,F);if(R.active&&R.matches&&(_=R.matches),!_){_e(o,c,pe(404,{pathname:F}),{flushSync:j});return}let{path:E,submission:C,error:D}=or(m.v7_normalizeFormMethod,!0,F,b);if(D){_e(o,c,D,{flushSync:j});return}let O=rt(_,E),ce=(b&&b.preventScrollReset)===!0;if(C&&Pe(C.formMethod)){Kr(o,c,E,O,_,R.active,j,ce,C);return}ue.set(o,{routeId:c,path:E}),Yr(o,c,E,O,_,R.active,j,ce,C)}async function Kr(o,c,h,b,j,k,F,_,R){Et(),ue.delete(o);function E(oe){if(!oe.route.action&&!oe.route.lazy){let Je=pe(405,{method:R.formMethod,pathname:h,routeId:c});return _e(o,c,Je,{flushSync:F}),!0}return!1}if(!k&&E(b))return;let C=p.fetchers.get(o);Le(o,sn(R,C),{flushSync:F});let D=new AbortController,O=Xe(e.history,h,D.signal,R);if(k){let oe=await ht(j,new URL(O.url).pathname,O.signal,o);if(oe.type==="aborted")return;if(oe.type==="error"){_e(o,c,oe.error,{flushSync:F});return}else if(oe.matches){if(j=oe.matches,b=rt(j,h),E(b))return}else{_e(o,c,pe(404,{pathname:h}),{flushSync:F});return}}G.set(o,D);let ce=ge,B=(await Ke("action",p,O,[b],j,o))[b.route.id];if(O.signal.aborted){G.get(o)===D&&G.delete(o);return}if(m.v7_fetcherPersist&&fe.has(o)){if(We(B)||ve(B)){Le(o,Te(void 0));return}}else{if(We(B))if(G.delete(o),we>ce){Le(o,Te(void 0));return}else return he.add(o),Le(o,et(R)),Oe(O,B,!1,{fetcherSubmission:R,preventScrollReset:_});if(ve(B)){_e(o,c,B.error);return}}if(Fe(B))throw pe(400,{type:"defer-action"});let ee=p.navigation.location||p.location,Ve=Xe(e.history,ee,D.signal),Ye=u||i,Re=p.navigation.state!=="idle"?ze(Ye,p.navigation.location,l):p.matches;I(Re,"Didn't find any matches after fetcher action");let Ee=++ge;ye.set(o,Ee);let Ct=et(R,B.data);p.fetchers.set(o,Ct);let[Ge,Ae]=lr(e.history,p,Re,R,ee,!1,m.v7_skipActionErrorRevalidation,S,K,re,fe,ue,he,Ye,l,[b.route.id,B]);Ae.filter(oe=>oe.key!==o).forEach(oe=>{let Je=oe.key,Zt=p.fetchers.get(Je),aa=et(void 0,Zt?Zt.data:void 0);p.fetchers.set(Je,aa),Me(Je),oe.controller&&G.set(Je,oe.controller)}),de({fetchers:new Map(p.fetchers)});let mt=()=>Ae.forEach(oe=>Me(oe.key));D.signal.addEventListener("abort",mt);let{loaderResults:pt,fetcherResults:z}=await Ht(p,Re,Ge,Ae,Ve);if(D.signal.aborted)return;D.signal.removeEventListener("abort",mt),ye.delete(o),G.delete(o),Ae.forEach(oe=>G.delete(oe.key));let te=gt(pt);if(te)return Oe(Ve,te.result,!1,{preventScrollReset:_});if(te=gt(z),te)return he.add(te.key),Oe(Ve,te.result,!1,{preventScrollReset:_});let{loaderData:qe,errors:Qe}=hr(p,Re,pt,void 0,Ae,z,A);if(p.fetchers.has(o)){let oe=Te(B.data);p.fetchers.set(o,oe)}Xt(Ee),p.navigation.state==="loading"&&Ee>we?(I(M,"Expected pending action"),T&&T.abort(),He(p.navigation.location,{matches:Re,loaderData:qe,errors:Qe,fetchers:new Map(p.fetchers)})):(de({errors:Qe,loaderData:mr(p.loaderData,qe,Re,Qe),fetchers:new Map(p.fetchers)}),S=!1)}async function Yr(o,c,h,b,j,k,F,_,R){let E=p.fetchers.get(o);Le(o,et(R,E?E.data:void 0),{flushSync:F});let C=new AbortController,D=Xe(e.history,h,C.signal);if(k){let B=await ht(j,new URL(D.url).pathname,D.signal,o);if(B.type==="aborted")return;if(B.type==="error"){_e(o,c,B.error,{flushSync:F});return}else if(B.matches)j=B.matches,b=rt(j,h);else{_e(o,c,pe(404,{pathname:h}),{flushSync:F});return}}G.set(o,C);let O=ge,V=(await Ke("loader",p,D,[b],j,o))[b.route.id];if(Fe(V)&&(V=await zt(V,D.signal,!0)||V),G.get(o)===C&&G.delete(o),!D.signal.aborted){if(fe.has(o)){Le(o,Te(void 0));return}if(We(V))if(we>O){Le(o,Te(void 0));return}else{he.add(o),await Oe(D,V,!1,{preventScrollReset:_});return}if(ve(V)){_e(o,c,V.error);return}I(!Fe(V),"Unhandled fetcher deferred data"),Le(o,Te(V.data))}}async function Oe(o,c,h,b){let{submission:j,fetcherSubmission:k,preventScrollReset:F,replace:_}=b===void 0?{}:b;c.response.headers.has("X-Remix-Revalidate")&&(S=!0);let R=c.response.headers.get("Location");I(R,"Expected a Location header on the redirect Response"),R=ur(R,new URL(o.url),l);let E=at(p.location,R,{_isRedirect:!0});if(r){let B=!1;if(c.response.headers.has("X-Remix-Reload-Document"))B=!0;else if(At.test(R)){const ee=e.history.createURL(R);B=ee.origin!==t.location.origin||st(ee.pathname,l)==null}if(B){_?t.location.replace(R):t.location.assign(R);return}}T=null;let C=_===!0||c.response.headers.has("X-Remix-Replace")?ae.Replace:ae.Push,{formMethod:D,formAction:O,formEncType:ce}=p.navigation;!j&&!k&&D&&O&&ce&&(j=vr(p.navigation));let V=j||k;if(za.has(c.response.status)&&V&&Pe(V.formMethod))await Ie(C,E,{submission:Y({},V,{formAction:R}),preventScrollReset:F||W,enableViewTransition:h?ne:void 0});else{let B=Tt(E,j);await Ie(C,E,{overrideNavigation:B,fetcherSubmission:k,preventScrollReset:F||W,enableViewTransition:h?ne:void 0})}}async function Ke(o,c,h,b,j,k){let F,_={};try{F=await Xa(f,o,c,h,b,j,k,s,n)}catch(R){return b.forEach(E=>{_[E.route.id]={type:$.error,error:R}}),_}for(let[R,E]of Object.entries(F))if(en(E)){let C=E.result;_[R]={type:$.redirect,response:Ga(C,h,R,j,l,m.v7_relativeSplatPath)}}else _[R]=await Ya(E);return _}async function Ht(o,c,h,b,j){let k=o.matches,F=Ke("loader",o,j,h,c,null),_=Promise.all(b.map(async C=>{if(C.matches&&C.match&&C.controller){let O=(await Ke("loader",o,Xe(e.history,C.path,C.controller.signal),[C.match],C.matches,C.key))[C.match.route.id];return{[C.key]:O}}else return Promise.resolve({[C.key]:{type:$.error,error:pe(404,{pathname:C.path})}})})),R=await F,E=(await _).reduce((C,D)=>Object.assign(C,D),{});return await Promise.all([an(c,R,j.signal,k,o.loaderData),nn(c,E,b)]),{loaderResults:R,fetcherResults:E}}function Et(){S=!0,K.push(...Rt()),ue.forEach((o,c)=>{G.has(c)&&re.add(c),Me(c)})}function Le(o,c,h){h===void 0&&(h={}),p.fetchers.set(o,c),de({fetchers:new Map(p.fetchers)},{flushSync:(h&&h.flushSync)===!0})}function _e(o,c,h,b){b===void 0&&(b={});let j=Be(p.matches,c);ct(o),de({errors:{[j.route.id]:h},fetchers:new Map(p.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function Vt(o){return be.set(o,(be.get(o)||0)+1),fe.has(o)&&fe.delete(o),p.fetchers.get(o)||Ba}function ct(o){let c=p.fetchers.get(o);G.has(o)&&!(c&&c.state==="loading"&&ye.has(o))&&Me(o),ue.delete(o),ye.delete(o),he.delete(o),m.v7_fetcherPersist&&fe.delete(o),re.delete(o),p.fetchers.delete(o)}function Gr(o){let c=(be.get(o)||0)-1;c<=0?(be.delete(o),fe.add(o),m.v7_fetcherPersist||ct(o)):be.set(o,c),de({fetchers:new Map(p.fetchers)})}function Me(o){let c=G.get(o);c&&(c.abort(),G.delete(o))}function qt(o){for(let c of o){let h=Vt(c),b=Te(h.data);p.fetchers.set(c,b)}}function Jt(){let o=[],c=!1;for(let h of he){let b=p.fetchers.get(h);I(b,"Expected fetcher: "+h),b.state==="loading"&&(he.delete(h),o.push(h),c=!0)}return qt(o),c}function Xt(o){let c=[];for(let[h,b]of ye)if(b<o){let j=p.fetchers.get(h);I(j,"Expected fetcher: "+h),j.state==="loading"&&(Me(h),ye.delete(h),c.push(h))}return qt(c),c.length>0}function Qr(o,c){let h=p.blockers.get(o)||Ze;return Z.get(o)!==c&&Z.set(o,c),h}function Kt(o){p.blockers.delete(o),Z.delete(o)}function ut(o,c){let h=p.blockers.get(o)||Ze;I(h.state==="unblocked"&&c.state==="blocked"||h.state==="blocked"&&c.state==="blocked"||h.state==="blocked"&&c.state==="proceeding"||h.state==="blocked"&&c.state==="unblocked"||h.state==="proceeding"&&c.state==="unblocked","Invalid blocker state transition: "+h.state+" -> "+c.state);let b=new Map(p.blockers);b.set(o,c),de({blockers:b})}function Yt(o){let{currentLocation:c,nextLocation:h,historyAction:b}=o;if(Z.size===0)return;Z.size>1&&$e(!1,"A router only supports one blocker at a time");let j=Array.from(Z.entries()),[k,F]=j[j.length-1],_=p.blockers.get(k);if(!(_&&_.state==="proceeding")&&F({currentLocation:c,nextLocation:h,historyAction:b}))return k}function _t(o){let c=pe(404,{pathname:o}),h=u||i,{matches:b,route:j}=gr(h);return Rt(),{notFoundMatches:b,route:j,error:c}}function Rt(o){let c=[];return A.forEach((h,b)=>{(!o||o(b))&&(h.cancel(),c.push(b),A.delete(b))}),c}function Zr(o,c,h){if(N=o,x=c,P=h||null,!U&&p.navigation===Mt){U=!0;let b=Qt(p.location,p.matches);b!=null&&de({restoreScrollPosition:b})}return()=>{N=null,x=null,P=null}}function Gt(o,c){return P&&P(o,c.map(b=>ya(b,p.loaderData)))||o.key}function ea(o,c){if(N&&x){let h=Gt(o,c);N[h]=x()}}function Qt(o,c){if(N){let h=Gt(o,c),b=N[h];if(typeof b=="number")return b}return null}function ft(o,c,h){if(g)if(o){if(Object.keys(o[0].params).length>0)return{active:!0,matches:vt(c,h,l,!0)}}else return{active:!0,matches:vt(c,h,l,!0)||[]};return{active:!1,matches:null}}async function ht(o,c,h,b){if(!g)return{type:"success",matches:o};let j=o;for(;;){let k=u==null,F=u||i,_=s;try{await g({signal:h,path:c,matches:j,fetcherKey:b,patch:(C,D)=>{h.aborted||cr(C,D,F,_,n)}})}catch(C){return{type:"error",error:C,partialMatches:j}}finally{k&&!h.aborted&&(i=[...i])}if(h.aborted)return{type:"aborted"};let R=ze(F,c,l);if(R)return{type:"success",matches:R};let E=vt(F,c,l,!0);if(!E||j.length===E.length&&j.every((C,D)=>C.route.id===E[D].route.id))return{type:"success",matches:null};j=E}}function ta(o){s={},u=bt(o,n,void 0,s)}function ra(o,c){let h=u==null;cr(o,c,u||i,s,n),h&&(i=[...i],de({}))}return Se={get basename(){return l},get future(){return m},get state(){return p},get routes(){return i},get window(){return t},initialize:me,subscribe:Ne,enableScrollRestoration:Zr,navigate:Wt,fetch:Xr,revalidate:Hr,createHref:o=>e.history.createHref(o),encodeLocation:o=>e.history.encodeLocation(o),getFetcher:Vt,deleteFetcher:Gr,dispose:Q,getBlocker:Qr,deleteBlocker:Kt,patchRoutes:ra,_internalFetchControllers:G,_internalActiveDeferreds:A,_internalSetRoutes:ta},Se}function Ha(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ft(e,t,r,a,n,s,i,u){let l,f;if(i){l=[];for(let m of t)if(l.push(m),m.route.id===i){f=m;break}}else l=t,f=t[t.length-1];let g=Ot(n||".",It(l,s),st(e.pathname,r)||e.pathname,u==="path");if(n==null&&(g.search=e.search,g.hash=e.hash),(n==null||n===""||n===".")&&f){let m=Bt(g.search);if(f.route.index&&!m)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&m){let w=new URLSearchParams(g.search),y=w.getAll("index");w.delete("index"),y.filter(P=>P).forEach(P=>w.append("index",P));let N=w.toString();g.search=N?"?"+N:""}}return a&&r!=="/"&&(g.pathname=g.pathname==="/"?r:De([r,g.pathname])),ot(g)}function or(e,t,r,a){if(!a||!Ha(a))return{path:r};if(a.formMethod&&!rn(a.formMethod))return{path:r,error:pe(405,{method:a.formMethod})};let n=()=>({path:r,error:pe(400,{type:"invalid-body"})}),s=a.formMethod||"get",i=e?s.toUpperCase():s.toLowerCase(),u=Dr(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Pe(i))return n();let w=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((y,N)=>{let[P,x]=N;return""+y+P+"="+x+`
`},""):String(a.body);return{path:r,submission:{formMethod:i,formAction:u,formEncType:a.formEncType,formData:void 0,json:void 0,text:w}}}else if(a.formEncType==="application/json"){if(!Pe(i))return n();try{let w=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:i,formAction:u,formEncType:a.formEncType,formData:void 0,json:w,text:void 0}}}catch{return n()}}}I(typeof FormData=="function","FormData is not available in this environment");let l,f;if(a.formData)l=Ut(a.formData),f=a.formData;else if(a.body instanceof FormData)l=Ut(a.body),f=a.body;else if(a.body instanceof URLSearchParams)l=a.body,f=fr(l);else if(a.body==null)l=new URLSearchParams,f=new FormData;else try{l=new URLSearchParams(a.body),f=fr(l)}catch{return n()}let g={formMethod:i,formAction:u,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Pe(g.formMethod))return{path:r,submission:g};let m=ke(r);return t&&m.search&&Bt(m.search)&&l.append("index",""),m.search="?"+l,{path:ot(m),submission:g}}function sr(e,t,r){r===void 0&&(r=!1);let a=e.findIndex(n=>n.route.id===t);return a>=0?e.slice(0,r?a+1:a):e}function lr(e,t,r,a,n,s,i,u,l,f,g,m,w,y,N,P){let x=P?ve(P[1])?P[1].error:P[1].data:void 0,U=e.createURL(t.location),L=e.createURL(n),H=r;s&&t.errors?H=sr(r,Object.keys(t.errors)[0],!0):P&&ve(P[1])&&(H=sr(r,P[0]));let J=P?P[1].statusCode:void 0,X=i&&J&&J>=400,Se=H.filter((M,W)=>{let{route:T}=M;if(T.lazy)return!0;if(T.loader==null)return!1;if(s)return Dt(T,t.loaderData,t.errors);if(Va(t.loaderData,t.matches[W],M)||l.some(se=>se===M.route.id))return!0;let ne=t.matches[W],q=M;return dr(M,Y({currentUrl:U,currentParams:ne.params,nextUrl:L,nextParams:q.params},a,{actionResult:x,actionStatus:J,defaultShouldRevalidate:X?!1:u||U.pathname+U.search===L.pathname+L.search||U.search!==L.search||Tr(ne,q)}))}),p=[];return m.forEach((M,W)=>{if(s||!r.some(ie=>ie.route.id===M.routeId)||g.has(W))return;let T=ze(y,M.path,N);if(!T){p.push({key:W,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let ne=t.fetchers.get(W),q=rt(T,M.path),se=!1;w.has(W)?se=!1:f.has(W)?(f.delete(W),se=!0):ne&&ne.state!=="idle"&&ne.data===void 0?se=u:se=dr(q,Y({currentUrl:U,currentParams:t.matches[t.matches.length-1].params,nextUrl:L,nextParams:r[r.length-1].params},a,{actionResult:x,actionStatus:J,defaultShouldRevalidate:X?!1:u})),se&&p.push({key:W,routeId:M.routeId,path:M.path,matches:T,match:q,controller:new AbortController})}),[Se,p]}function Dt(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let a=t!=null&&t[e.id]!==void 0,n=r!=null&&r[e.id]!==void 0;return!a&&n?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!n}function Va(e,t,r){let a=!t||r.route.id!==t.route.id,n=e[r.route.id]===void 0;return a||n}function Tr(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function dr(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function cr(e,t,r,a,n){var s;let i;if(e){let f=a[e];I(f,"No route found to patch children into: routeId = "+e),f.children||(f.children=[]),i=f.children}else i=r;let u=t.filter(f=>!i.some(g=>Fr(f,g))),l=bt(u,n,[e||"_","patch",String(((s=i)==null?void 0:s.length)||"0")],a);i.push(...l)}function Fr(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,a)=>{var n;return(n=t.children)==null?void 0:n.some(s=>Fr(r,s))}):!1}async function qa(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let n=r[e.id];I(n,"No route found in manifest");let s={};for(let i in a){let l=n[i]!==void 0&&i!=="hasErrorBoundary";$e(!l,'Route "'+n.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!l&&!pa.has(i)&&(s[i]=a[i])}Object.assign(n,s),Object.assign(n,Y({},t(n),{lazy:void 0}))}async function Ja(e){let{matches:t}=e,r=t.filter(n=>n.shouldLoad);return(await Promise.all(r.map(n=>n.resolve()))).reduce((n,s,i)=>Object.assign(n,{[r[i].route.id]:s}),{})}async function Xa(e,t,r,a,n,s,i,u,l,f){let g=s.map(y=>y.route.lazy?qa(y.route,l,u):void 0),m=s.map((y,N)=>{let P=g[N],x=n.some(L=>L.route.id===y.route.id);return Y({},y,{shouldLoad:x,resolve:async L=>(L&&a.method==="GET"&&(y.route.lazy||y.route.loader)&&(x=!0),x?Ka(t,a,y,P,L,f):Promise.resolve({type:$.data,result:void 0}))})}),w=await e({matches:m,request:a,params:s[0].params,fetcherKey:i,context:f});try{await Promise.all(g)}catch{}return w}async function Ka(e,t,r,a,n,s){let i,u,l=f=>{let g,m=new Promise((N,P)=>g=P);u=()=>g(),t.signal.addEventListener("abort",u);let w=N=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):f({request:t,params:r.params,context:s},...N!==void 0?[N]:[]),y=(async()=>{try{return{type:"data",result:await(n?n(P=>w(P)):w())}}catch(N){return{type:"error",result:N}}})();return Promise.race([y,m])};try{let f=r.route[e];if(a)if(f){let g,[m]=await Promise.all([l(f).catch(w=>{g=w}),a]);if(g!==void 0)throw g;i=m}else if(await a,f=r.route[e],f)i=await l(f);else if(e==="action"){let g=new URL(t.url),m=g.pathname+g.search;throw pe(405,{method:t.method,pathname:m,routeId:r.route.id})}else return{type:$.data,result:void 0};else if(f)i=await l(f);else{let g=new URL(t.url),m=g.pathname+g.search;throw pe(404,{pathname:m})}I(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:$.error,result:f}}finally{u&&t.signal.removeEventListener("abort",u)}return i}async function Ya(e){let{result:t,type:r}=e;if(Ur(t)){let m;try{let w=t.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(w){return{type:$.error,error:w}}return r===$.error?{type:$.error,error:new wt(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:$.data,data:m,statusCode:t.status,headers:t.headers}}if(r===$.error){if(yr(t)){var a,n;if(t.data instanceof Error){var s,i;return{type:$.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:$.error,error:new wt(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:nt(t)?t.status:void 0,headers:(n=t.init)!=null&&n.headers?new Headers(t.init.headers):void 0}}return{type:$.error,error:t,statusCode:nt(t)?t.status:void 0}}if(tn(t)){var u,l;return{type:$.deferred,deferredData:t,statusCode:(u=t.init)==null?void 0:u.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(yr(t)){var f,g;return{type:$.data,data:t.data,statusCode:(f=t.init)==null?void 0:f.status,headers:(g=t.init)!=null&&g.headers?new Headers(t.init.headers):void 0}}return{type:$.data,data:t}}function Ga(e,t,r,a,n,s){let i=e.headers.get("Location");if(I(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!At.test(i)){let u=a.slice(0,a.findIndex(l=>l.route.id===r)+1);i=Ft(new URL(t.url),u,n,!0,i,s),e.headers.set("Location",i)}return e}function ur(e,t,r){if(At.test(e)){let a=e,n=a.startsWith("//")?new URL(t.protocol+a):new URL(a),s=st(n.pathname,r)!=null;if(n.origin===t.origin&&s)return n.pathname+n.search+n.hash}return e}function Xe(e,t,r,a){let n=e.createURL(Dr(t)).toString(),s={signal:r};if(a&&Pe(a.formMethod)){let{formMethod:i,formEncType:u}=a;s.method=i.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(a.json)):u==="text/plain"?s.body=a.text:u==="application/x-www-form-urlencoded"&&a.formData?s.body=Ut(a.formData):s.body=a.formData}return new Request(n,s)}function Ut(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,typeof a=="string"?a:a.name);return t}function fr(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function Qa(e,t,r,a,n){let s={},i=null,u,l=!1,f={},g=r&&ve(r[1])?r[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let w=m.route.id,y=t[w];if(I(!We(y),"Cannot handle redirect results in processLoaderData"),ve(y)){let N=y.error;if(g!==void 0&&(N=g,g=void 0),i=i||{},n)i[w]=N;else{let P=Be(e,w);i[P.route.id]==null&&(i[P.route.id]=N)}s[w]=void 0,l||(l=!0,u=nt(y.error)?y.error.status:500),y.headers&&(f[w]=y.headers)}else Fe(y)?(a.set(w,y.deferredData),s[w]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!l&&(u=y.statusCode),y.headers&&(f[w]=y.headers)):(s[w]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(u=y.statusCode),y.headers&&(f[w]=y.headers))}),g!==void 0&&r&&(i={[r[0]]:g},s[r[0]]=void 0),{loaderData:s,errors:i,statusCode:u||200,loaderHeaders:f}}function hr(e,t,r,a,n,s,i){let{loaderData:u,errors:l}=Qa(t,r,a,i,!1);return n.forEach(f=>{let{key:g,match:m,controller:w}=f,y=s[g];if(I(y,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(ve(y)){let N=Be(e.matches,m==null?void 0:m.route.id);l&&l[N.route.id]||(l=Y({},l,{[N.route.id]:y.error})),e.fetchers.delete(g)}else if(We(y))I(!1,"Unhandled fetcher revalidation redirect");else if(Fe(y))I(!1,"Unhandled fetcher deferred data");else{let N=Te(y.data);e.fetchers.set(g,N)}}),{loaderData:u,errors:l}}function mr(e,t,r,a){let n=Y({},t);for(let s of r){let i=s.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(n[i]=t[i]):e[i]!==void 0&&s.route.loader&&(n[i]=e[i]),a&&a.hasOwnProperty(i))break}return n}function pr(e){return e?ve(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Be(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function gr(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function pe(e,t){let{pathname:r,routeId:a,method:n,type:s,message:i}=t===void 0?{}:t,u="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(u="Bad Request",n&&r&&a?l="You made a "+n+' request to "'+r+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(u="Forbidden",l='Route "'+a+'" does not match URL "'+r+'"'):e===404?(u="Not Found",l='No route matches URL "'+r+'"'):e===405&&(u="Method Not Allowed",n&&r&&a?l="You made a "+n.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":n&&(l='Invalid request method "'+n.toUpperCase()+'"')),new wt(e||500,u,new Error(l),!0)}function gt(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[a,n]=t[r];if(We(n))return{key:a,result:n}}}function Dr(e){let t=typeof e=="string"?ke(e):e;return ot(Y({},t,{hash:""}))}function Za(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function en(e){return Ur(e.result)&&Aa.has(e.result.status)}function Fe(e){return e.type===$.deferred}function ve(e){return e.type===$.error}function We(e){return(e&&e.type)===$.redirect}function yr(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function tn(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Ur(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function rn(e){return Oa.has(e.toLowerCase())}function Pe(e){return Ua.has(e.toLowerCase())}async function an(e,t,r,a,n){let s=Object.entries(t);for(let i=0;i<s.length;i++){let[u,l]=s[i],f=e.find(w=>(w==null?void 0:w.route.id)===u);if(!f)continue;let g=a.find(w=>w.route.id===f.route.id),m=g!=null&&!Tr(g,f)&&(n&&n[f.route.id])!==void 0;Fe(l)&&m&&await zt(l,r,!1).then(w=>{w&&(t[u]=w)})}}async function nn(e,t,r){for(let a=0;a<r.length;a++){let{key:n,routeId:s,controller:i}=r[a],u=t[n];e.find(f=>(f==null?void 0:f.route.id)===s)&&Fe(u)&&(I(i,"Expected an AbortController for revalidating fetcher deferred result"),await zt(u,i.signal,!0).then(f=>{f&&(t[n]=f)}))}}async function zt(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:$.data,data:e.deferredData.unwrappedData}}catch(n){return{type:$.error,error:n}}return{type:$.data,data:e.deferredData.data}}}function Bt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function rt(e,t){let r=typeof t=="string"?ke(t).search:t.search;if(e[e.length-1].route.index&&Bt(r||""))return e[e.length-1];let a=kr(e);return a[a.length-1]}function vr(e){let{formMethod:t,formAction:r,formEncType:a,text:n,formData:s,json:i}=e;if(!(!t||!r||!a)){if(n!=null)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:n};if(s!=null)return{formMethod:t,formAction:r,formEncType:a,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:i,text:void 0}}}function Tt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function on(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function et(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sn(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Te(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ln(e,t){try{let r=e.sessionStorage.getItem(Mr);if(r){let a=JSON.parse(r);for(let[n,s]of Object.entries(a||{}))s&&Array.isArray(s)&&t.set(n,new Set(s||[]))}}catch{}}function dn(e,t){if(t.size>0){let r={};for(let[a,n]of t)r[a]=[...n];try{e.sessionStorage.setItem(Mr,JSON.stringify(r))}catch(a){$e(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},it.apply(this,arguments)}const Pt=v.createContext(null),Ir=v.createContext(null),lt=v.createContext(null),St=v.createContext(null),Ue=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Or=v.createContext(null);function dt(){return v.useContext(St)!=null}function Nt(){return dt()||I(!1),v.useContext(St).location}function Ar(e){v.useContext(lt).static||v.useLayoutEffect(e)}function zr(){let{isDataRoute:e}=v.useContext(Ue);return e?Pn():cn()}function cn(){dt()||I(!1);let e=v.useContext(Pt),{basename:t,future:r,navigator:a}=v.useContext(lt),{matches:n}=v.useContext(Ue),{pathname:s}=Nt(),i=JSON.stringify(It(n,r.v7_relativeSplatPath)),u=v.useRef(!1);return Ar(()=>{u.current=!0}),v.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){a.go(f);return}let m=Ot(f,JSON.parse(i),s,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:De([t,m.pathname])),(g.replace?a.replace:a.push)(m,g.state,g)},[t,a,i,s,e])}const un=v.createContext(null);function fn(e){let t=v.useContext(Ue).outlet;return t&&v.createElement(un.Provider,{value:e},t)}function hn(e,t,r,a){dt()||I(!1);let{navigator:n}=v.useContext(lt),{matches:s}=v.useContext(Ue),i=s[s.length-1],u=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let f=Nt(),g;if(t){var m;let x=typeof t=="string"?ke(t):t;l==="/"||(m=x.pathname)!=null&&m.startsWith(l)||I(!1),g=x}else g=f;let w=g.pathname||"/",y=w;if(l!=="/"){let x=l.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let N=ze(e,{pathname:y}),P=vn(N&&N.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:De([l,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:De([l,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,a);return t&&P?v.createElement(St.Provider,{value:{location:it({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ae.Pop}},P):P}function mn(){let e=jn(),t=nt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:n},r):null,s)}const pn=v.createElement(mn,null);class gn extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Ue.Provider,{value:this.props.routeContext},v.createElement(Or.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yn(e){let{routeContext:t,match:r,children:a}=e,n=v.useContext(Pt);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Ue.Provider,{value:t},a)}function vn(e,t,r,a){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,u=(n=r)==null?void 0:n.errors;if(u!=null){let g=i.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||I(!1),i=i.slice(0,Math.min(i.length,g+1))}let l=!1,f=-1;if(r&&a&&a.v7_partialHydration)for(let g=0;g<i.length;g++){let m=i[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=g),m.route.id){let{loaderData:w,errors:y}=r,N=m.route.loader&&w[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||N){l=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((g,m,w)=>{let y,N=!1,P=null,x=null;r&&(y=u&&m.route.id?u[m.route.id]:void 0,P=m.route.errorElement||pn,l&&(f<0&&w===0?(Sn("route-fallback",!1),N=!0,x=null):f===w&&(N=!0,x=m.route.hydrateFallbackElement||null)));let U=t.concat(i.slice(0,w+1)),L=()=>{let H;return y?H=P:N?H=x:m.route.Component?H=v.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=g,v.createElement(yn,{match:m,routeContext:{outlet:g,matches:U,isDataRoute:r!=null},children:H})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?v.createElement(gn,{location:r.location,revalidation:r.revalidation,component:P,error:y,children:L(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):L()},null)}var Br=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Br||{}),xt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xt||{});function bn(e){let t=v.useContext(Pt);return t||I(!1),t}function wn(e){let t=v.useContext(Ir);return t||I(!1),t}function xn(e){let t=v.useContext(Ue);return t||I(!1),t}function Wr(e){let t=xn(),r=t.matches[t.matches.length-1];return r.route.id||I(!1),r.route.id}function jn(){var e;let t=v.useContext(Or),r=wn(xt.UseRouteError),a=Wr(xt.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function Pn(){let{router:e}=bn(Br.UseNavigateStable),t=Wr(xt.UseNavigateStable),r=v.useRef(!1);return Ar(()=>{r.current=!0}),v.useCallback(function(n,s){s===void 0&&(s={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,it({fromRouteId:t},s)))},[e,t])}const br={};function Sn(e,t,r){!t&&!br[e]&&(br[e]=!0)}function Nn(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function wr(e){let{to:t,replace:r,state:a,relative:n}=e;dt()||I(!1);let{future:s,static:i}=v.useContext(lt),{matches:u}=v.useContext(Ue),{pathname:l}=Nt(),f=zr(),g=Ot(t,It(u,s.v7_relativeSplatPath),l,n==="path"),m=JSON.stringify(g);return v.useEffect(()=>f(JSON.parse(m),{replace:r,state:a,relative:n}),[f,m,n,r,a]),null}function En(e){return fn(e.context)}function _n(e){let{basename:t="/",children:r=null,location:a,navigationType:n=ae.Pop,navigator:s,static:i=!1,future:u}=e;dt()&&I(!1);let l=t.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:l,navigator:s,static:i,future:it({v7_relativeSplatPath:!1},u)}),[l,u,s,i]);typeof a=="string"&&(a=ke(a));let{pathname:g="/",search:m="",hash:w="",state:y=null,key:N="default"}=a,P=v.useMemo(()=>{let x=st(g,l);return x==null?null:{location:{pathname:x,search:m,hash:w,state:y,key:N},navigationType:n}},[l,g,m,w,y,N,n]);return P==null?null:v.createElement(lt.Provider,{value:f},v.createElement(St.Provider,{children:r,value:P}))}new Promise(()=>{});function Rn(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:v.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:v.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:v.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jt.apply(this,arguments)}const Cn="6";try{window.__reactRouterVersion=Cn}catch{}function kn(e,t){return $a({basename:t==null?void 0:t.basename,future:jt({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:fa({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Ln(),routes:e,mapRouteProperties:Rn,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Ln(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=jt({},t,{errors:Mn(t.errors)})),t}function Mn(e){if(!e)return null;let t=Object.entries(e),r={};for(let[a,n]of t)if(n&&n.__type==="RouteErrorResponse")r[a]=new wt(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let s=window[n.__subType];if(typeof s=="function")try{let i=new s(n.message);i.stack="",r[a]=i}catch{}}if(r[a]==null){let s=new Error(n.message);s.stack="",r[a]=s}}else r[a]=n;return r}const Tn=v.createContext({isTransitioning:!1}),Fn=v.createContext(new Map),Dn="startTransition",xr=na[Dn],Un="flushSync",jr=ia[Un];function In(e){xr?xr(e):e()}function tt(e){jr?jr(e):e()}class On{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",r(a))}})}}function An(e){let{fallbackElement:t,router:r,future:a}=e,[n,s]=v.useState(r.state),[i,u]=v.useState(),[l,f]=v.useState({isTransitioning:!1}),[g,m]=v.useState(),[w,y]=v.useState(),[N,P]=v.useState(),x=v.useRef(new Map),{v7_startTransition:U}=a||{},L=v.useCallback(M=>{U?In(M):M()},[U]),H=v.useCallback((M,W)=>{let{deletedFetchers:T,flushSync:ne,viewTransitionOpts:q}=W;M.fetchers.forEach((ie,S)=>{ie.data!==void 0&&x.current.set(S,ie.data)}),T.forEach(ie=>x.current.delete(ie));let se=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!q||se){ne?tt(()=>s(M)):L(()=>s(M));return}if(ne){tt(()=>{w&&(g&&g.resolve(),w.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let ie=r.window.document.startViewTransition(()=>{tt(()=>s(M))});ie.finished.finally(()=>{tt(()=>{m(void 0),y(void 0),u(void 0),f({isTransitioning:!1})})}),tt(()=>y(ie));return}w?(g&&g.resolve(),w.skipTransition(),P({state:M,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(u(M),f({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[r.window,w,g,x,L]);v.useLayoutEffect(()=>r.subscribe(H),[r,H]),v.useEffect(()=>{l.isTransitioning&&!l.flushSync&&m(new On)},[l]),v.useEffect(()=>{if(g&&i&&r.window){let M=i,W=g.promise,T=r.window.document.startViewTransition(async()=>{L(()=>s(M)),await W});T.finished.finally(()=>{m(void 0),y(void 0),u(void 0),f({isTransitioning:!1})}),y(T)}},[L,i,g,r.window]),v.useEffect(()=>{g&&i&&n.location.key===i.location.key&&g.resolve()},[g,w,n.location,i]),v.useEffect(()=>{!l.isTransitioning&&N&&(u(N.state),f({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),P(void 0))},[l.isTransitioning,N]),v.useEffect(()=>{},[]);let J=v.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:M=>r.navigate(M),push:(M,W,T)=>r.navigate(M,{state:W,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(M,W,T)=>r.navigate(M,{replace:!0,state:W,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[r]),X=r.basename||"/",Se=v.useMemo(()=>({router:r,navigator:J,static:!1,basename:X}),[r,J,X]),p=v.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return v.useEffect(()=>Nn(a,r.future),[a,r.future]),v.createElement(v.Fragment,null,v.createElement(Pt.Provider,{value:Se},v.createElement(Ir.Provider,{value:n},v.createElement(Fn.Provider,{value:x.current},v.createElement(Tn.Provider,{value:l},v.createElement(_n,{basename:X,location:n.location,navigationType:n.historyAction,navigator:J,future:p},n.initialized||r.future.v7_partialHydration?v.createElement(zn,{routes:r.routes,future:r.future,state:n}):t))))),null)}const zn=v.memo(Bn);function Bn(e){let{routes:t,future:r,state:a}=e;return hn(t,void 0,a,r)}var Pr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pr||(Pr={}));var Sr;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sr||(Sr={}));/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ce("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Ce("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);function Yn({menuItems:e,activeItemId:t,onItemClick:r,defaultCollapsed:a=!1,onCollapsedChange:n,className:s="",header:i,footer:u,width:l="16rem",collapsedWidth:f="4rem",backgroundColor:g="#ffffff",textColor:m="#374151",activeItemColor:w="#ffffff",activeItemBackground:y="linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)",position:N="left",topOffset:P="0",integrated:x=!1}){const[U,L]=v.useState(a),[H,J]=v.useState([]),[X,Se]=v.useState(!1),[p,M]=v.useState(!1),[W,T]=v.useState(!1),[ne,q]=v.useState(!1);v.useEffect(()=>{let S;const K=()=>{const re=window.innerWidth;Se(re<768),M(re>=768&&re<1024),q(!0),clearTimeout(S),S=setTimeout(()=>{q(!1)},150)};return K(),window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K),clearTimeout(S)}},[]),v.useEffect(()=>{const S=()=>{window.location.hash==="#open-sidebar"||window.location.hash==="#open-menu"?T(!0):(window.location.hash==="#close-sidebar"||window.location.hash==="#close-menu")&&T(!1)};return S(),window.addEventListener("hashchange",S),()=>window.removeEventListener("hashchange",S)},[]),v.useEffect(()=>{t&&e.forEach(S=>{var K;(K=S.children)!=null&&K.some(re=>re.id===t)&&J(re=>[...new Set([...re,S.id])]),S.id===t&&S.customWidget&&J(re=>[...new Set([...re,S.id])])})},[t,e]);const se=S=>{if(S.children&&S.children.length>0||S.customWidget){J(K=>K.includes(S.id)?K.filter(re=>re!==S.id):[...K,S.id]),S.customWidget&&(!S.children||S.children.length===0)&&r&&r(S);return}X&&T(!1),r&&r(S)},ie=(S,K=!1,re=!1)=>{const G=S.icon,ge=t===S.id,we=H.includes(S.id),ye=S.children&&S.children.length>0,he=!!S.customWidget,ue=!re&&!X&&U;if(!S.label&&he&&!ue)return d.jsx("div",{className:"my-2",children:S.customWidget},S.id);const be=S.url&&!ye&&!he?"a":"button",fe=be==="a"?{href:S.url}:{onClick:()=>se(S)};return d.jsxs("div",{children:[d.jsxs(be,{...fe,className:xe("w-full inline-flex items-center gap-2 text-xs font-medium transition-all rounded-md h-8 px-3 py-1.5",K&&"h-7 px-2 ml-6 text-[11px]",ue&&!K&&"justify-center px-2",!ge&&"hover:bg-accent hover:text-accent-foreground",ge&&"shadow-sm",be==="a"&&"no-underline"),style:{backgroundColor:"transparent",backgroundImage:ge?y:"none",color:ge?w:m,border:"none",outline:"none",cursor:"pointer"},title:ue?S.label:void 0,children:[G&&d.jsx(G,{className:"size-3.5 flex-shrink-0"}),!ue&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"flex-1 text-left",children:S.label}),(ye||he)&&d.jsx(Nr,{className:xe("size-4 transition-transform",we&&"rotate-90")}),S.badge&&d.jsx("span",{className:xe("px-2 py-0.5 text-xs rounded-full",S.badgeVariant==="destructive"&&"bg-red-100 text-red-700",S.badgeVariant==="secondary"&&"bg-gray-100 text-gray-700",S.badgeVariant==="outline"&&"border border-gray-300 text-gray-700",!S.badgeVariant&&"bg-blue-100 text-blue-700"),children:S.badge})]})]}),ye&&we&&!ue&&d.jsx("div",{className:"mt-1 space-y-1",children:S.children.map(A=>ie(A,!0,re))}),S.customWidget&&we&&!ue&&d.jsx("div",{className:xe("mt-2",ye&&"ml-0"),children:S.customWidget})]},S.id)};return X?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:xe("fixed inset-0 bg-black/50 z-40 transition-opacity duration-500 ease-out",W?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:()=>{T(!1),window.location.hash=""}}),d.jsxs("aside",{id:"frs-mobile-sidebar",className:xe("fixed left-0 right-0 z-50 transition-all duration-500 ease-out","shadow-2xl overflow-hidden bg-white",W?"translate-y-0 opacity-100":"translate-y-full opacity-0",s),style:{bottom:0,backgroundColor:"#ffffff",color:m,maxHeight:`calc(100vh - ${P})`,top:ne?`calc(${P} + 2px)`:P},children:[d.jsx("button",{onClick:()=>{T(!1),window.location.hash=""},className:"absolute top-4 right-4 z-50 flex items-center justify-center rounded-full transition-all hover:scale-110",style:{width:"40px",height:"40px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},"aria-label":"Close menu",children:d.jsx(yt,{className:"h-5 w-5 text-white"})}),d.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[i&&d.jsx("div",{className:"w-full",children:i}),d.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:e.map(S=>ie(S,!1,!0))})]})]})]}):d.jsxs("aside",{className:xe(!x&&"fixed transition-all duration-300 ease-in-out z-[50]",!x&&"border shadow-lg overflow-visible",!x&&(N==="left"?"left-0 border-r border-border":"right-0 border-l border-border"),x&&"h-full flex flex-col",s),style:{width:!x&&U?f:x?void 0:l,backgroundColor:g,color:m,top:x?void 0:P,height:x?void 0:`calc(100vh - ${P})`,boxShadow:x?void 0:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},children:[!x&&d.jsx("a",{href:"#frs-portal-sidebar-toggle",id:"frs-portal-sidebar-toggle",className:xe("frs-portal-sidebar-toggle","frs-sidebar-toggle-btn","absolute top-[30px] z-50 h-8 w-8 rounded-full border bg-white shadow-md hover:bg-gray-50","flex items-center justify-center transition-colors cursor-pointer no-underline","-right-4"),onClick:S=>{S.preventDefault();const K=!U;L(K),n==null||n(K)},"aria-label":"Toggle sidebar navigation","data-frs-component":"sidebar-toggle",children:U?d.jsx(Nr,{className:"h-4 w-4"}):d.jsx($n,{className:"h-4 w-4"})}),d.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[i&&d.jsx("div",{className:xe(U&&"hidden"),children:i}),d.jsx("nav",{className:xe("flex-1 overflow-y-auto p-4 space-y-2",U&&"px-2"),children:e.map(S=>ie(S))}),u&&d.jsx("div",{className:xe(U&&"hidden"),children:u})]})]})}const Gn=[{id:"basic_info",label:"Basic Information",icon:"User",fields:[{key:"first_name",label:"First Name",required:!0},{key:"last_name",label:"Last Name",required:!0},{key:"email",label:"Email",required:!0},{key:"phone",label:"Phone Number",required:!0}]},{id:"professional_info",label:"Professional Details",icon:"Briefcase",fields:[{key:"job_title",label:"Job Title",required:!0},{key:"company",label:"Company Name",required:!0},{key:"nmls_id",label:"NMLS ID",required:!0}]},{id:"contact_preferences",label:"Contact Preferences",icon:"Mail",fields:[{key:"preferred_contact_method",label:"Preferred Contact Method",required:!1},{key:"office_phone",label:"Office Phone",required:!1}]},{id:"bio",label:"Professional Bio",icon:"FileText",fields:[{key:"bio",label:"Biography",required:!0,validator:e=>e&&e.length>=50}]},{id:"social_links",label:"Social Media",icon:"Link",fields:[{key:"linkedin_url",label:"LinkedIn URL",required:!1},{key:"facebook_url",label:"Facebook URL",required:!1},{key:"instagram_url",label:"Instagram URL",required:!1}]}];function Qn(e,t){return!e||typeof e=="string"&&e.trim()===""?!1:t.validator?t.validator(e):!0}function Er(e){let t=0,r=0;const a=[];return Gn.forEach(s=>{const i=[];s.fields.forEach(u=>{if(u.required){r++;const l=e[u.key];Qn(l,u)?t++:i.push(u)}}),i.length>0&&a.push({section:s,missingFields:i})}),{percentage:r>0?Math.round(t/r*100):100,completedFields:t,totalFields:r,incompleteSections:a}}const Zn={desktop:"100%",tablet:"768px",mobile:"375px"};function ei({children:e,viewport:t="desktop"}){return d.jsx("div",{className:"w-full flex justify-center bg-gray-100",children:d.jsx("div",{className:"@container bg-white transition-all duration-300 ease-in-out",style:{width:Zn[t],maxWidth:"100%",boxShadow:t!=="desktop"?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none",margin:t!=="desktop"?"0 auto":"0"},children:e})})}function ti({currentUser:e,userId:t}){var ue,be,fe;zr();const r=Nt(),{activeSection:a,setActiveSection:n,isSaving:s,handleSave:i,handleCancel:u}=oa(),[l,f]=v.useState("0px"),g=((ue=window.frsPortalConfig)==null?void 0:ue.contentOnly)||!1,[m,w]=v.useState(()=>typeof window<"u"&&window.innerWidth<768),[y,N]=v.useState("menu");v.useState(null);const[P,x]=v.useState("desktop");v.useEffect(()=>{a===null&&y!=="menu"&&y.startsWith("edit-")&&N("menu")},[a,y]);const U=((be=window.frsPortalConfig)==null?void 0:be.gradientUrl)||((fe=window.frsSidebarData)==null?void 0:fe.gradientUrl)||"";v.useEffect(()=>{const A=()=>{let Z=0;const le=document.getElementById("wpadminbar");le&&(Z+=le.getBoundingClientRect().height,console.log("Admin bar height:",le.getBoundingClientRect().height));const me=["header[data-id]",".ct-header","header.site-header","#header",'header[id^="ct-"]',"header"];let Q=null;for(const Ne of me)if(Q=document.querySelector(Ne),Q){console.log("Found header with selector:",Ne);break}if(Q){const Ne=Q.getBoundingClientRect().height;Z+=Ne,console.log("Blocksy header height:",Ne)}console.log("Total offset (admin bar + header):",Z),f(`${Z}px`)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const L=r.pathname.startsWith("/profile"),[H,J]=v.useState({first_name:"",last_name:"",email:"",phone:"",job_title:"",company:"",nmls_id:"",bio:"",linkedin_url:"",facebook_url:"",instagram_url:""}),[X,Se]=v.useState(!1),[p,M]=v.useState(!1);v.useEffect(()=>{(async()=>{var Z,le;try{const me=await fetch("/wp-json/frs-users/v1/profiles/user/me",{credentials:"include",headers:{"X-WP-Nonce":((Z=window.wpApiSettings)==null?void 0:Z.nonce)||((le=window.frsPortalConfig)==null?void 0:le.restNonce)||""}});if(me.ok){const Q=await me.json(),Ne=Q.data||Q;J(Ne)}else{const Q=(e.name||"").split(" ");J({first_name:Q[0]||"",last_name:Q.slice(1).join(" ")||"",email:e.email||"",phone:"",job_title:"",company:"21st Century Lending",nmls_id:"",bio:"",linkedin_url:"",facebook_url:"",instagram_url:""})}}catch(me){console.error("Failed to load profile metadata:",me);const Q=(e.name||"").split(" ");J({first_name:Q[0]||"",last_name:Q.slice(1).join(" ")||"",email:e.email||"",phone:"",job_title:"",company:"21st Century Lending",nmls_id:"",bio:"",linkedin_url:"",facebook_url:"",instagram_url:""})}})()},[e]),v.useEffect(()=>{(async()=>{var Z,le,me;try{const Q=await fetch("/wp-json/wp/v2/users/me",{credentials:"include",headers:{"X-WP-Nonce":((Z=window.wpApiSettings)==null?void 0:Z.nonce)||((le=window.frsPortalConfig)==null?void 0:le.restNonce)||""}});if(Q.ok){const de=((me=(await Q.json()).meta)==null?void 0:me.profile_completion_reached_100)==="1";M(de)}}catch(Q){console.error("Failed to check completion status:",Q)}})()},[]),v.useEffect(()=>{const A=async()=>{var le,me;if(Er(H).percentage>=100&&!p)try{(await fetch("/wp-json/wp/v2/users/me",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-WP-Nonce":((le=window.wpApiSettings)==null?void 0:le.nonce)||((me=window.frsPortalConfig)==null?void 0:me.restNonce)||""},body:JSON.stringify({meta:{profile_completion_reached_100:"1"}})})).ok&&(M(!0),console.log("Profile completion 100% status saved"))}catch(Q){console.error("Failed to update completion status:",Q)}};H.email&&A()},[H,p]);const W=L&&!p&&!X,T=e!=null&&e.profile_slug?`${window.location.origin}/profile/${e.profile_slug}`:"",ne=async()=>{if(T)try{await navigator.clipboard.writeText(T);const A=document.createElement("div");A.className="fixed top-20 right-6 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",A.textContent="Profile link copied!",document.body.appendChild(A),setTimeout(()=>A.remove(),3e3)}catch(A){console.error("Failed to copy:",A)}},q=()=>{T&&window.open(T,"_blank","noopener,noreferrer")},se=d.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Profile Link"}),d.jsx("div",{className:"bg-white rounded-md border border-gray-200 p-2 mb-2",children:d.jsx("div",{className:"text-xs text-gray-600 truncate",title:T,children:(e==null?void 0:e.profile_slug)||"No profile slug"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(je,{variant:"outline",size:"sm",onClick:ne,className:"flex-1 flex items-center justify-center gap-1.5",children:[d.jsx(Hn,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"text-xs",children:"Copy"})]}),d.jsxs(je,{variant:"outline",size:"sm",onClick:q,className:"flex-1 flex items-center justify-center gap-1.5",children:[d.jsx(sa,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"text-xs",children:"Open"})]})]})]}),ie=d.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Preview Size"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(je,{variant:P==="desktop"?"default":"outline",size:"sm",onClick:()=>x("desktop"),className:"flex-1",style:P==="desktop"?{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)",color:"white"}:{},children:d.jsx(qn,{className:"h-4 w-4"})}),d.jsx(je,{variant:P==="tablet"?"default":"outline",size:"sm",onClick:()=>x("tablet"),className:"flex-1",style:P==="tablet"?{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)",color:"white"}:{},children:d.jsx(Jn,{className:"h-4 w-4"})}),d.jsx(je,{variant:P==="mobile"?"default":"outline",size:"sm",onClick:()=>x("mobile"),className:"flex-1",style:P==="mobile"?{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)",color:"white"}:{},children:d.jsx(da,{className:"h-4 w-4"})})]})]}),S=Er(H),K=p?100:S.percentage,re=d.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Profile Completion"}),d.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:[K,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:d.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${K}%`,background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)"}})})]}),G=[...L?[{id:"device-preview-widget",label:"",customWidget:ie}]:[],{id:"edit-personal",label:"Personal Information",icon:Xn},{id:"edit-professional",label:"Professional Details",icon:la},{id:"edit-social",label:"Links & Social",icon:Vn},{id:"tools",label:"Tools",icon:Wn,children:[{id:"tool-calculator",label:"Mortgage Calculator"},{id:"tool-valuation",label:"Property Valuation"}]},{id:"settings",label:"Settings",icon:Kn},...L?[{id:"profile-link-widget",label:"",customWidget:se}]:[],...W?[{id:"profile-progress-widget",label:"",customWidget:re}]:[]];r.pathname==="/profile"||r.pathname.startsWith("/profile/");const ge=d.jsx("div",{className:"relative w-full overflow-hidden",children:d.jsxs("div",{className:"relative w-full overflow-visible",style:{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)",height:"100px"},children:[U&&d.jsxs(d.Fragment,{children:[d.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:0},children:d.jsx("source",{src:U,type:"video/mp4"})}),d.jsx("div",{className:"absolute inset-0 bg-black/20",style:{zIndex:1}})]}),d.jsxs("div",{className:"relative w-full px-4 py-4 flex items-center gap-3",style:{zIndex:10},children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"size-14 rounded-full overflow-hidden shadow-lg",style:{border:"2px solid transparent",backgroundImage:"linear-gradient(white, white), linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)",backgroundOrigin:"padding-box, border-box",backgroundClip:"padding-box, border-box"},children:d.jsx("img",{src:e.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name||"User")}&background=2DD4DA&color=fff`,alt:e.name||"User",className:"w-full h-full object-cover",onError:A=>{A.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name||"User")}&background=2DD4DA&color=fff`}})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-white text-base mb-0.5 drop-shadow-md truncate",children:e.name}),d.jsx("p",{className:"font-normal text-white text-sm drop-shadow-md truncate",children:H.job_title||"Loan Officer"})]})]})]})}),we=null,ye=A=>{const Z={"edit-personal":"edit-personal","edit-professional":"edit-professional","edit-social":"edit-social","tool-calculator":"tool-calculator","tool-valuation":"tool-valuation",settings:"settings"};Z[A.id]&&(N(Z[A.id]),A.id==="edit-personal"?n("personal"):A.id==="edit-professional"?n("professional"):A.id==="edit-social"?n("social"):n(null))},he=()=>y==="menu"?null:d.jsxs("div",{className:"p-4",children:[d.jsx("button",{onClick:()=>{a&&u&&u(),N("menu"),n(null)},className:"mb-4 text-sm text-gray-600 hover:text-gray-900 flex items-center gap-2",children:" Back to Menu"}),y==="edit-personal"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Personal Information"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Edit your name, contact details, job title, and location."}),d.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[d.jsx(je,{onClick:async()=>{i&&await i()},disabled:s||!i,className:"w-full text-white shadow-lg font-semibold h-11",style:{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)"},children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(kt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),d.jsxs(je,{onClick:()=>{u&&u(),N("menu"),n(null)},disabled:s,variant:"outline",className:"w-full border-2 border-gray-300 hover:border-red-500 hover:bg-red-50 hover:text-red-700 font-semibold h-11 transition-all",children:[d.jsx(yt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),y==="edit-professional"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Professional Details"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Edit your biography, specialties, credentials, and service areas."}),d.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[d.jsx(je,{onClick:async()=>{i&&await i()},disabled:s||!i,className:"w-full text-white shadow-lg font-semibold h-11",style:{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)"},children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(kt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),d.jsxs(je,{onClick:()=>{u&&u(),N("menu"),n(null)},disabled:s,variant:"outline",className:"w-full border-2 border-gray-300 hover:border-red-500 hover:bg-red-50 hover:text-red-700 font-semibold h-11 transition-all",children:[d.jsx(yt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),y==="edit-social"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Links & Social"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Edit your social media profiles and custom links."}),d.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[d.jsx(je,{onClick:async()=>{i&&await i()},disabled:s||!i,className:"w-full text-white shadow-lg font-semibold h-11",style:{background:"linear-gradient(135deg, #2563eb 0%, #2dd4da 100%)"},children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(kt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),d.jsxs(je,{onClick:()=>{u&&u(),N("menu"),n(null)},disabled:s,variant:"outline",className:"w-full border-2 border-gray-300 hover:border-red-500 hover:bg-red-50 hover:text-red-700 font-semibold h-11 transition-all",children:[d.jsx(yt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),y==="tool-calculator"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold mb-4",children:"Mortgage Calculator"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Calculator coming soon..."})]}),y==="tool-valuation"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold mb-4",children:"Property Valuation"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Tool coming soon..."})]}),y==="settings"&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold mb-4",children:"Settings"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Settings coming soon..."})]})]});return d.jsxs("div",{className:"min-h-screen",style:{background:"white",position:"relative",zIndex:1,width:"100%",marginTop:0},children:[!g&&(y==="menu"?d.jsx(Yn,{menuItems:G,activeItemId:r.pathname,onItemClick:ye,header:ge,footer:we,width:"320px",collapsedWidth:"4rem",backgroundColor:"hsl(var(--sidebar-background))",textColor:"hsl(var(--sidebar-foreground))",activeItemColor:"hsl(var(--sidebar-foreground))",activeItemBackground:"linear-gradient(to right, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))",position:"left",topOffset:l,defaultCollapsed:m,onCollapsedChange:w}):d.jsxs("div",{className:"fixed left-0 bg-white border-r shadow-sm overflow-y-auto",style:{width:"320px",top:l,bottom:0,zIndex:40},children:[ge,he()]})),d.jsx("main",{className:"p-0 m-0",children:d.jsx(ei,{viewport:P,children:d.jsx(En,{})})})]})}function $r({userId:e}){return d.jsx(ca,{userId:e})}const ri=e=>{const{currentUser:t,userId:r}=e;return kn([{path:"/",element:d.jsx(ti,{currentUser:t,userId:r}),children:[{index:!0,element:d.jsx(wr,{to:"profile",replace:!0})},{path:"profile",element:d.jsx($r,{userId:r,autoEdit:!1})},{path:"*",element:d.jsx(wr,{to:"profile",replace:!0})}]}])};class ai{static getBaseUrl(){var t;return((t=window.frsPortalConfig)==null?void 0:t.apiUrl)||"/wp-json/frs/v1/"}static getWpData(){return window.frsPortalConfig||{apiUrl:"/wp-json/frs/v1/",restNonce:"",userId:0,userName:"",userEmail:"",userAvatar:"",userRole:"",currentUser:{id:0,name:"",email:"",roles:[]}}}static async request(t,r={}){const a=this.getBaseUrl(),n=t.startsWith("/")?t.slice(1):t,s=`${a}${n}`,u={headers:{"Content-Type":"application/json","X-WP-Nonce":this.getWpData().restNonce,...r.headers},credentials:"same-origin",...r};try{const l=await fetch(s,u);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()}catch(l){throw console.error("API request failed:",l),l}}static mapProfileToUser(t,r){const a=(r==null?void 0:r.roles)||[];let n="loan_officer";return(t.select_person_type==="realtor_partner"||a.includes("realtor")||a.includes("realtor_partner"))&&(n="realtor"),{id:r.id.toString(),profile_id:t.id,user_id:r.id,name:`${t.first_name||""} ${t.last_name||""}`.trim()||r.name||"User",email:t.email||r.email||"",phone:t.phone_number||"",mobile_number:t.mobile_number||"",company:t.office||(n==="realtor"?"Real Estate Agency":"21st Century Lending"),office:t.office||"",avatar:t.headshot_url||r.avatar||"",headshot_id:t.headshot_id,headshot_url:t.headshot_url,role:n,status:t.is_active?"active":"inactive",createdAt:t.created_at||new Date().toISOString(),location:t.city_state||t.region||"",city_state:t.city_state,region:t.region,title:t.job_title||"",job_title:t.job_title,website:"",linkedin:t.linkedin_url||"",nmls:t.nmls||t.nmls_number||"",nmls_number:t.nmls_number,license_number:t.license_number,dre_license:t.dre_license,brand:t.brand,biography:t.biography,date_of_birth:t.date_of_birth,select_person_type:t.select_person_type,facebook_url:t.facebook_url,instagram_url:t.instagram_url,linkedin_url:t.linkedin_url,twitter_url:t.twitter_url,youtube_url:t.youtube_url,tiktok_url:t.tiktok_url,specialties:t.specialties||[],specialties_lo:t.specialties_lo||[],languages:t.languages||[],awards:t.awards||[],nar_designations:t.nar_designations||[],namb_certifications:t.namb_certifications||[],arrive:t.arrive,canva_folder_link:t.canva_folder_link,niche_bio_content:t.niche_bio_content,personal_branding_images:t.personal_branding_images||[],frs_agent_id:t.frs_agent_id,is_guest:t.is_guest||!1}}static async getCurrentUser(){const t=this.getWpData();try{const a=await fetch("/wp-json/frs-users/v1/profiles/user/me",{headers:{"X-WP-Nonce":t.restNonce},credentials:"same-origin"});if(a.ok){const n=await a.json();if(n.success&&n.data)return this.mapProfileToUser(n.data,t.currentUser)}}catch(r){console.warn("Failed to fetch profile from frs-users API:",r)}try{return await this.request("/users/me")}catch{if(t.currentUser&&t.currentUser.id){const a=t.currentUser.roles||[];let n="loan_officer";return(a.includes("realtor")||a.includes("realtor_partner"))&&(n="realtor"),{id:t.currentUser.id.toString(),name:t.currentUser.name||"User",email:t.currentUser.email||"",avatar:t.currentUser.avatar||"",role:n,status:"active",createdAt:new Date().toISOString(),company:n==="realtor"?"Real Estate Agency":"21st Century Lending",location:"Denver, Colorado"}}throw new Error("No user data available")}}static async getUserById(t){const r=this.getWpData();try{const a=`/wp-json/frs-users/v1/profiles/user/${t}`,n=await fetch(a,{headers:{"X-WP-Nonce":r.restNonce},credentials:"same-origin"});if(n.ok){const s=await n.json();if(s.success&&s.data){const i={id:parseInt(t),name:`${s.data.first_name} ${s.data.last_name}`,email:s.data.email,roles:[]};return this.mapProfileToUser(s.data,i)}}}catch(a){console.warn("Failed to fetch profile from frs-users API:",a)}try{return await this.request(`/users/${t}`)}catch{return console.warn("Failed to fetch user, user not found"),null}}static async getDashboardStatsForLO(t){try{const r=await this.request(`/dashboard/stats/lo/${t}`);return{activePartnerships:r.activePartnerships||0,pendingInvitations:r.pendingInvitations||0,totalLeads:r.totalLeads||0,conversionRate:r.conversionRate||0,coBrandedPages:r.coBrandedPages||0,newLeadsThisMonth:r.newLeadsThisMonth||0,topPerformingPages:r.topPerformingPages||[]}}catch{return{activePartnerships:0,pendingInvitations:0,totalLeads:0,conversionRate:0,coBrandedPages:0,newLeadsThisMonth:0,topPerformingPages:[]}}}static async getDashboardStatsForRealtor(t){try{const r=await this.request(`/dashboard/stats/realtor/${t}`);return{activePartnerships:r.activePartnerships||0,pendingInvitations:r.pendingInvitations||0,totalLeads:r.totalLeads||0,conversionRate:r.conversionRate||0,coBrandedPages:r.coBrandedPages||0,newLeadsThisMonth:0,topPerformingPages:[]}}catch{return console.warn("Dashboard stats API not available, showing empty state"),{activePartnerships:0,pendingInvitations:0,totalLeads:0,conversionRate:0,coBrandedPages:0,newLeadsThisMonth:0,topPerformingPages:[]}}}static async getPartnersForLO(t){try{const r=await this.request(`/partners/lo/${t}`);return r&&r.success&&Array.isArray(r.data)?r.data:Array.isArray(r)?r:[]}catch{return console.warn("Failed to fetch partners, showing empty state"),[]}}static async getPartnershipsForLO(t){try{const r=await this.request(`/partnerships/lo/${t}`);return r&&r.success&&Array.isArray(r.data)?r.data:Array.isArray(r)?r:[]}catch{return console.warn("Failed to fetch partnerships, showing empty state"),[]}}static async getPartnershipForRealtor(t){try{return await this.request(`/partnerships/realtor/${t}`)}catch{return console.warn("Failed to fetch partnership, showing empty state"),null}}static async getLandingPagesForLO(t){try{return await this.request(`/landing-pages/lo/${t}`)||[]}catch{return console.warn("Failed to fetch landing pages, showing empty state"),[]}}static async getCoBrandedPagesForRealtor(t){try{return await this.request(`/landing-pages/realtor/${t}`)||[]}catch{return console.warn("Failed to fetch co-branded pages, showing empty state"),[]}}static async getLeadsForLO(t){try{const r=await this.request(`/leads/lo/${t}`);return r&&r.success&&Array.isArray(r.data)?r.data.map(a=>{var n;return{id:((n=a.id)==null?void 0:n.toString())||"",firstName:a.first_name||"",lastName:a.last_name||"",email:a.email||"",phone:a.phone||"",status:a.status||"new",source:a.lead_source||"Unknown",loanAmount:a.loan_amount?parseFloat(a.loan_amount):0,propertyValue:a.property_value?parseFloat(a.property_value):0,propertyAddress:a.property_address||"",message:a.message||"",notes:a.notes||"",createdAt:a.created_date||new Date().toISOString(),lastContact:a.updated_date||null}}):[]}catch{return console.warn("Failed to fetch leads, showing empty state"),[]}}static async createLead(t){try{return await this.request("/leads",{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Failed to create lead:",r),r}}static async invitePartner(t,r,a,n){try{return await this.request("/partnerships/invite",{method:"POST",body:JSON.stringify({loan_officer_id:t,email:r,name:a,message:n})}),!0}catch(s){return console.error("Failed to send invitation:",s),!1}}static async updateNotificationSettings(t,r){try{return await this.request(`/partnerships/${t}/notifications`,{method:"PUT",body:JSON.stringify({notifications:r})}),!0}catch(a){return console.error("Failed to update notification settings:",a),!1}}static async updateUserProfile(t,r){const a=this.getWpData();try{const n=t===a.currentUser.id.toString()?"/wp-json/frs-users/v1/profiles/user/me":`/wp-json/frs-users/v1/profiles/user/${t}`;console.log("Fetching profile from:",n);const s=await fetch(n,{headers:{"X-WP-Nonce":a.restNonce},credentials:"same-origin"});if(!s.ok)throw new Error(`Failed to fetch profile: ${s.status} ${s.statusText}`);const i=await s.json();console.log("Profile response:",i);const u=i.data||i;if(!u||!u.id)throw new Error("Profile ID not found in response");const l={},f=y=>y==null?!1:typeof y=="string"?y.trim().length>0:Array.isArray(y)?y.length>0:!0;f(r.firstName)&&(l.first_name=r.firstName),f(r.lastName)&&(l.last_name=r.lastName),f(r.email)&&(l.email=r.email),f(r.phone)&&(l.phone_number=r.phone),f(r.mobileNumber)&&(l.mobile_number=r.mobileNumber),f(r.title)&&(l.job_title=r.title),f(r.bio)&&(l.biography=r.bio),f(r.location)&&(l.city_state=r.location),f(r.nmls)&&(l.nmls=r.nmls),f(r.nmls_number)&&(l.nmls_number=r.nmls_number),f(r.license_number)&&(l.license_number=r.license_number),f(r.dre_license)&&(l.dre_license=r.dre_license),f(r.company)&&(l.office=r.company),f(r.linkedin)&&(l.linkedin_url=r.linkedin),f(r.facebook)&&(l.facebook_url=r.facebook),f(r.instagram)&&(l.instagram_url=r.instagram),f(r.twitter)&&(l.twitter_url=r.twitter),f(r.youtube)&&(l.youtube_url=r.youtube),f(r.tiktok)&&(l.tiktok_url=r.tiktok),f(r.specialtiesLo)&&(l.specialties_lo=r.specialtiesLo),f(r.specialties)&&(l.specialties=r.specialties),f(r.languages)&&(l.languages=r.languages),f(r.awards)&&(l.awards=r.awards),f(r.nambCertifications)&&(l.namb_certifications=r.nambCertifications),f(r.narDesignations)&&(l.nar_designations=r.narDesignations),f(r.serviceAreas)&&(l.service_areas=r.serviceAreas),f(r.brand)&&(l.brand=r.brand),f(r.arrive)&&(l.arrive=r.arrive),f(r.canvaFolderLink)&&(l.canva_folder_link=r.canvaFolderLink),f(r.nicheBioContent)&&(l.niche_bio_content=r.nicheBioContent);const g=`/wp-json/frs-users/v1/profiles/${u.id}`;console.log("Sending PUT request to:",g),console.log("Update data:",l);const m=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json","X-WP-Nonce":a.restNonce},credentials:"same-origin",body:JSON.stringify(l)});if(console.log("Update response status:",m.status),!m.ok){const y=await m.text();throw console.error("Update failed with response:",y),new Error(`Failed to update profile: ${m.status} ${m.statusText}`)}const w=await m.json();if(console.log("Update result:",w),!w.success)throw new Error("Update API returned success: false");return!0}catch(n){throw console.error("Failed to update profile:",n),n}}static async uploadAvatar(t,r){try{const a=new FormData;a.append("avatar",r),a.append("user_id",t);const n=this.getWpData(),s=await fetch("/wp-json/frs-users/v1/profiles/upload-avatar",{method:"POST",body:a,headers:{"X-WP-Nonce":n.restNonce},credentials:"same-origin"});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=await s.json();return i.success?i.data.url:null}catch(a){return console.error("Failed to upload avatar:",a),null}}static async getMarketingMaterials(t){try{return await this.request(`/marketing-materials/${t}`)||[]}catch{return console.warn("Failed to fetch marketing materials, showing empty state"),[]}}static async getAnnouncements(){try{return await this.request("/announcements")||[]}catch{return console.warn("Failed to fetch announcements, showing empty state"),[]}}static async getCustomLinks(){try{return await this.request("/custom-links")||[]}catch{return console.warn("Failed to fetch custom links, showing empty state"),[]}}static async getPersonCPT(t){try{return await this.request(`/person/${t}`)}catch{return console.warn("Failed to fetch person CPT data"),null}}}const _r=document.getElementById("frs-users-portal-root");function ni(){var g,m;const[e,t]=v.useState(null),[r,a]=v.useState(!0),[n,s]=v.useState(null),i=((g=window.frsPortalConfig)==null?void 0:g.contentOnly)===!0;if(v.useEffect(()=>{const w=()=>{const y=document.getElementById("frs-users-portal-root");y&&(i?(y.style.setProperty("margin-left","0","important"),y.style.setProperty("margin-right","0","important"),y.style.setProperty("width","100%","important"),y.style.setProperty("max-width","100%","important"),y.style.setProperty("padding-left","0","important"),y.style.setProperty("padding-right","0","important")):window.innerWidth<=767?(y.style.setProperty("margin-left","0","important"),y.style.setProperty("margin-right","0","important"),y.style.setProperty("width","100%","important"),y.style.setProperty("max-width","100%","important")):(y.style.removeProperty("margin-left"),y.style.removeProperty("margin-right"),y.style.removeProperty("width"),y.style.removeProperty("max-width"),y.style.removeProperty("padding-left"),y.style.removeProperty("padding-right")))};return w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[i]),v.useEffect(()=>{(async()=>{try{const y=await ai.getCurrentUser();console.log("Loaded user from DataService:",y),t(y)}catch(y){s("Failed to load user data"),console.error("Failed to load user:",y)}finally{a(!1)}})()},[]),r)return d.jsxs("div",{className:"flex h-screen bg-background animate-pulse",children:[d.jsxs("div",{className:"hidden md:flex w-64 flex-col border-r bg-sidebar",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"})}),d.jsxs("div",{className:"flex-1 p-4 space-y-2",children:[d.jsx("div",{className:"h-10 bg-gray-300 rounded"}),d.jsx("div",{className:"h-10 bg-gray-300 rounded"}),d.jsx("div",{className:"h-10 bg-gray-300 rounded"}),d.jsx("div",{className:"h-10 bg-gray-300 rounded"}),d.jsx("div",{className:"h-10 bg-gray-300 rounded"})]}),d.jsx("div",{className:"p-4 border-t",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-1"}),d.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]})})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("header",{className:"flex h-16 items-center gap-2 border-b px-4 bg-background",children:[d.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded"}),d.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"}),d.jsx("div",{className:"h-4 w-4 bg-gray-300 rounded"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]})]}),d.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),d.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"})]}),d.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),d.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"})]}),d.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),d.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"})]}),d.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),d.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"})]})]}),d.jsxs("div",{className:"rounded-lg border bg-card p-6 space-y-4",children:[d.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/4 mb-4"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-gray-300 rounded"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded"}),d.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"})]})]})]})]})]});if(n||!e)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Error Loading Portal"}),d.jsx("p",{className:"text-gray-600 mb-4",children:n||"Unable to load user data"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})});const u=e.role==="realtor"?"realtor":"loan-officer";if(((m=window.frsPortalConfig)==null?void 0:m.contentOnly)===!0)return d.jsx(er,{children:d.jsx("div",{className:"w-full flex justify-center",children:d.jsx($r,{userId:e.id})})});const f=ri({currentUser:e,userId:e.id,userRole:u});return d.jsx(er,{children:d.jsx(An,{router:f})})}if(_r){const e=window.frsUsersData||{};console.log("Profile Portal mounting with config:",e),ua(_r).render(d.jsx(ni,{})),console.log("Profile Portal mounted successfully")}
//# sourceMappingURL=portal-0ff46749.js.map
